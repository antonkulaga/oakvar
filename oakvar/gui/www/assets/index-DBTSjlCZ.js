(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const Na={context:void 0,registry:void 0},Ma=(t,e)=>t===e,Ee=Symbol("solid-proxy"),ei=Symbol("solid-track"),Kn={equals:Ma};let bo=_o;const qe=1,Qn=2,vo={owned:null,cleanups:null,context:null,owner:null},Or={};var ne=null;let Pr=null,Da=null,ee=null,ue=null,Ve=null,hr=0;function te(t,e){const n=ee,r=ne,i=t.length===0,s=e===void 0?r:e,o=i?vo:{owned:null,cleanups:null,context:s?s.context:null,owner:s},l=i?t:()=>t(()=>Ae(()=>mr(o)));ne=o,ee=null;try{return We(l,!0)}finally{ee=n,ne=r}}function S(t,e){e=e?Object.assign({},Kn,e):Kn;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),wo(n,i));return[yo.bind(n),r]}function es(t,e,n){const r=gr(t,e,!0,qe);Ht(r)}function A(t,e,n){const r=gr(t,e,!1,qe);Ht(r)}function X(t,e,n){bo=Wa;const r=gr(t,e,!1,qe);(!n||!n.render)&&(r.user=!0),Ve?Ve.push(r):Ht(r)}function ae(t,e,n){n=n?Object.assign({},Kn,n):Kn;const r=gr(t,e,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Ht(r),yo.bind(r)}function La(t){return t&&typeof t=="object"&&"then"in t}function un(t,e,n){let r,i,s;arguments.length===2&&typeof e=="object"||arguments.length===1?(r=!0,i=t,s=e||{}):(r=t,i=e,s={});let o=null,l=Or,a=!1,c="initialValue"in s,u=typeof r=="function"&&ae(r);const d=new Set,[g,v]=(s.storage||S)(s.initialValue),[y,b]=S(void 0),[m,p]=S(void 0,{equals:!1}),[w,_]=S(c?"ready":"unresolved");function k(I,O,R,N){return o===I&&(o=null,N!==void 0&&(c=!0),(I===l||O===l)&&s.onHydrated&&queueMicrotask(()=>s.onHydrated(N,{value:O})),l=Or,P(O,R)),O}function P(I,O){We(()=>{O===void 0&&v(()=>I),_(O!==void 0?"errored":c?"ready":"unresolved"),b(O);for(const R of d.keys())R.decrement();d.clear()},!1)}function T(){const I=za,O=g(),R=y();if(R!==void 0&&!o)throw R;return ee&&!ee.user&&I&&es(()=>{m(),o&&(I.resolved||d.has(I)||(I.increment(),d.add(I)))}),O}function C(I=!0){if(I!==!1&&a)return;a=!1;const O=u?u():r;if(O==null||O===!1){k(o,Ae(g));return}const R=l!==Or?l:Ae(()=>i(O,{value:g(),refetching:I}));return La(R)?(o=R,"value"in R?(R.status==="success"?k(o,R.value,void 0,O):k(o,void 0,void 0,O),R):(a=!0,queueMicrotask(()=>a=!1),We(()=>{_(c?"refreshing":"pending"),p()},!1),R.then(N=>k(R,N,void 0,O),N=>k(R,void 0,ko(N),O)))):(k(o,R,void 0,O),R)}return Object.defineProperties(T,{state:{get:()=>w()},error:{get:()=>y()},loading:{get(){const I=w();return I==="pending"||I==="refreshing"}},latest:{get(){if(!c)return T();const I=y();if(I&&!o)throw I;return g()}}}),u?es(()=>C(!1)):C(!1),[T,{refetch:C,mutate:v}]}function ja(t){return We(t,!1)}function Ae(t){if(ee===null)return t();const e=ee;ee=null;try{return t()}finally{ee=e}}function nn(t){return ne===null||(ne.cleanups===null?ne.cleanups=[t]:ne.cleanups.push(t)),t}function ti(){return ee}function Ua(){return ne}function Fa(t,e){const n=ne,r=ee;ne=t,ee=null;try{return We(e,!0)}catch(i){xi(i)}finally{ne=n,ee=r}}function Ba(t){const e=ae(t),n=ae(()=>ni(e()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}let za;function yo(){if(this.sources&&this.state)if(this.state===qe)Ht(this);else{const t=ue;ue=null,We(()=>Yn(this),!1),ue=t}if(ee){const t=this.observers?this.observers.length:0;ee.sources?(ee.sources.push(this),ee.sourceSlots.push(t)):(ee.sources=[this],ee.sourceSlots=[t]),this.observers?(this.observers.push(ee),this.observerSlots.push(ee.sources.length-1)):(this.observers=[ee],this.observerSlots=[ee.sources.length-1])}return this.value}function wo(t,e,n){let r=t.value;return(!t.comparator||!t.comparator(r,e))&&(t.value=e,t.observers&&t.observers.length&&We(()=>{for(let i=0;i<t.observers.length;i+=1){const s=t.observers[i],o=Pr&&Pr.running;o&&Pr.disposed.has(s),(o?!s.tState:!s.state)&&(s.pure?ue.push(s):Ve.push(s),s.observers&&xo(s)),o||(s.state=qe)}if(ue.length>1e6)throw ue=[],new Error},!1)),e}function Ht(t){if(!t.fn)return;mr(t);const e=hr;Ha(t,t.value,e)}function Ha(t,e,n){let r;const i=ne,s=ee;ee=ne=t;try{r=t.fn(e)}catch(o){return t.pure&&(t.state=qe,t.owned&&t.owned.forEach(mr),t.owned=null),t.updatedAt=n+1,xi(o)}finally{ee=s,ne=i}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?wo(t,r):t.value=r,t.updatedAt=n)}function gr(t,e,n,r=qe,i){const s={fn:t,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:ne,context:ne?ne.context:null,pure:n};return ne===null||ne!==vo&&(ne.owned?ne.owned.push(s):ne.owned=[s]),s}function Zn(t){if(t.state===0)return;if(t.state===Qn)return Yn(t);if(t.suspense&&Ae(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<hr);)t.state&&e.push(t);for(let n=e.length-1;n>=0;n--)if(t=e[n],t.state===qe)Ht(t);else if(t.state===Qn){const r=ue;ue=null,We(()=>Yn(t,e[0]),!1),ue=r}}function We(t,e){if(ue)return t();let n=!1;e||(ue=[]),Ve?n=!0:Ve=[],hr++;try{const r=t();return Va(n),r}catch(r){n||(Ve=null),ue=null,xi(r)}}function Va(t){if(ue&&(_o(ue),ue=null),t)return;const e=Ve;Ve=null,e.length&&We(()=>bo(e),!1)}function _o(t){for(let e=0;e<t.length;e++)Zn(t[e])}function Wa(t){let e,n=0;for(e=0;e<t.length;e++){const r=t[e];r.user?t[n++]=r:Zn(r)}for(e=0;e<n;e++)Zn(t[e])}function Yn(t,e){t.state=0;for(let n=0;n<t.sources.length;n+=1){const r=t.sources[n];if(r.sources){const i=r.state;i===qe?r!==e&&(!r.updatedAt||r.updatedAt<hr)&&Zn(r):i===Qn&&Yn(r,e)}}}function xo(t){for(let e=0;e<t.observers.length;e+=1){const n=t.observers[e];n.state||(n.state=Qn,n.pure?ue.push(n):Ve.push(n),n.observers&&xo(n))}}function mr(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),r=t.sourceSlots.pop(),i=n.observers;if(i&&i.length){const s=i.pop(),o=n.observerSlots.pop();r<i.length&&(s.sourceSlots[o]=r,i[r]=s,n.observerSlots[r]=o)}}if(t.owned){for(e=t.owned.length-1;e>=0;e--)mr(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function ko(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function xi(t,e=ne){throw ko(t)}function ni(t){if(typeof t=="function"&&!t.length)return ni(t());if(Array.isArray(t)){const e=[];for(let n=0;n<t.length;n++){const r=ni(t[n]);Array.isArray(r)?e.push.apply(e,r):e.push(r)}return e}return t}const Ga=Symbol("fallback");function ts(t){for(let e=0;e<t.length;e++)t[e]()}function qa(t,e,n={}){let r=[],i=[],s=[],o=0,l=e.length>1?[]:null;return nn(()=>ts(s)),()=>{let a=t()||[],c,u;return a[ei],Ae(()=>{let g=a.length,v,y,b,m,p,w,_,k,P;if(g===0)o!==0&&(ts(s),s=[],r=[],i=[],o=0,l&&(l=[])),n.fallback&&(r=[Ga],i[0]=te(T=>(s[0]=T,n.fallback())),o=1);else if(o===0){for(i=new Array(g),u=0;u<g;u++)r[u]=a[u],i[u]=te(d);o=g}else{for(b=new Array(g),m=new Array(g),l&&(p=new Array(g)),w=0,_=Math.min(o,g);w<_&&r[w]===a[w];w++);for(_=o-1,k=g-1;_>=w&&k>=w&&r[_]===a[k];_--,k--)b[k]=i[_],m[k]=s[_],l&&(p[k]=l[_]);for(v=new Map,y=new Array(k+1),u=k;u>=w;u--)P=a[u],c=v.get(P),y[u]=c===void 0?-1:c,v.set(P,u);for(c=w;c<=_;c++)P=r[c],u=v.get(P),u!==void 0&&u!==-1?(b[u]=i[c],m[u]=s[c],l&&(p[u]=l[c]),u=y[u],v.set(P,u)):s[c]();for(u=w;u<g;u++)u in b?(i[u]=b[u],s[u]=m[u],l&&(l[u]=p[u],l[u](u))):i[u]=te(d);i=i.slice(0,o=g),r=a.slice(0)}return i});function d(g){if(s[u]=g,l){const[v,y]=S(u);return l[u]=y,e(a[u],v)}return e(a[u])}}}function f(t,e){return Ae(()=>t(e||{}))}function Mn(){return!0}const ri={get(t,e,n){return e===Ee?n:t.get(e)},has(t,e){return e===Ee?!0:t.has(e)},set:Mn,deleteProperty:Mn,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:Mn,deleteProperty:Mn}},ownKeys(t){return t.keys()}};function Rr(t){return(t=typeof t=="function"?t():t)?t:{}}function Ja(){for(let t=0,e=this.length;t<e;++t){const n=this[t]();if(n!==void 0)return n}}function ns(...t){let e=!1;for(let o=0;o<t.length;o++){const l=t[o];e=e||!!l&&Ee in l,t[o]=typeof l=="function"?(e=!0,ae(l)):l}if(e)return new Proxy({get(o){for(let l=t.length-1;l>=0;l--){const a=Rr(t[l])[o];if(a!==void 0)return a}},has(o){for(let l=t.length-1;l>=0;l--)if(o in Rr(t[l]))return!0;return!1},keys(){const o=[];for(let l=0;l<t.length;l++)o.push(...Object.keys(Rr(t[l])));return[...new Set(o)]}},ri);const n={},r=Object.create(null);for(let o=t.length-1;o>=0;o--){const l=t[o];if(!l)continue;const a=Object.getOwnPropertyNames(l);for(let c=a.length-1;c>=0;c--){const u=a[c];if(u==="__proto__"||u==="constructor")continue;const d=Object.getOwnPropertyDescriptor(l,u);if(!r[u])r[u]=d.get?{enumerable:!0,configurable:!0,get:Ja.bind(n[u]=[d.get.bind(l)])}:d.value!==void 0?d:void 0;else{const g=n[u];g&&(d.get?g.push(d.get.bind(l)):d.value!==void 0&&g.push(()=>d.value))}}}const i={},s=Object.keys(r);for(let o=s.length-1;o>=0;o--){const l=s[o],a=r[l];a&&a.get?Object.defineProperty(i,l,a):i[l]=a?a.value:void 0}return i}function Ka(t,...e){if(Ee in t){const i=new Set(e.length>1?e.flat():e[0]),s=e.map(o=>new Proxy({get(l){return o.includes(l)?t[l]:void 0},has(l){return o.includes(l)&&l in t},keys(){return o.filter(l=>l in t)}},ri));return s.push(new Proxy({get(o){return i.has(o)?void 0:t[o]},has(o){return i.has(o)?!1:o in t},keys(){return Object.keys(t).filter(o=>!i.has(o))}},ri)),s}const n={},r=e.map(()=>({}));for(const i of Object.getOwnPropertyNames(t)){const s=Object.getOwnPropertyDescriptor(t,i),o=!s.get&&!s.set&&s.enumerable&&s.writable&&s.configurable;let l=!1,a=0;for(const c of e)c.includes(i)&&(l=!0,o?r[a][i]=s.value:Object.defineProperty(r[a],i,s)),++a;l||(o?n[i]=s.value:Object.defineProperty(n,i,s))}return[...r,n]}const So=t=>`Stale read from <${t}>.`;function le(t){const e="fallback"in t&&{fallback:()=>t.fallback};return ae(qa(()=>t.each,t.children,e||void 0))}function D(t){const e=t.keyed,n=ae(()=>t.when,void 0,{equals:(r,i)=>e?r===i:!r==!i});return ae(()=>{const r=n();if(r){const i=t.children;return typeof i=="function"&&i.length>0?Ae(()=>i(e?r:()=>{if(!Ae(n))throw So("Show");return t.when})):i}return t.fallback},void 0,void 0)}function Pe(t){let e=!1;const n=(s,o)=>(e?s[1]===o[1]:!s[1]==!o[1])&&s[2]===o[2],r=Ba(()=>t.children),i=ae(()=>{let s=r();Array.isArray(s)||(s=[s]);for(let o=0;o<s.length;o++){const l=s[o].when;if(l)return e=!!s[o].keyed,[o,l,s[o]]}return[-1]},void 0,{equals:n});return ae(()=>{const[s,o,l]=i();if(s<0)return t.fallback;const a=l.children;return typeof a=="function"&&a.length>0?Ae(()=>a(e?o:()=>{if(Ae(i)[0]!==s)throw So("Match");return l.when})):a},void 0,void 0)}function se(t){return t}const Qa=new Set(["innerHTML","textContent","innerText","children"]),Za=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Ya=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Xa={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function ec(t,e,n){let r=n.length,i=e.length,s=r,o=0,l=0,a=e[i-1].nextSibling,c=null;for(;o<i||l<s;){if(e[o]===n[l]){o++,l++;continue}for(;e[i-1]===n[s-1];)i--,s--;if(i===o){const u=s<r?l?n[l-1].nextSibling:n[s-l]:a;for(;l<s;)t.insertBefore(n[l++],u)}else if(s===l)for(;o<i;)(!c||!c.has(e[o]))&&e[o].remove(),o++;else if(e[o]===n[s-1]&&n[l]===e[i-1]){const u=e[--i].nextSibling;t.insertBefore(n[l++],e[o++].nextSibling),t.insertBefore(n[--s],u),e[i]=n[s]}else{if(!c){c=new Map;let d=l;for(;d<s;)c.set(n[d],d++)}const u=c.get(e[o]);if(u!=null)if(l<u&&u<s){let d=o,g=1,v;for(;++d<i&&d<s&&!((v=c.get(e[d]))==null||v!==u+g);)g++;if(g>u-l){const y=e[o];for(;l<u;)t.insertBefore(n[l++],y)}else t.replaceChild(n[l++],e[o++])}else o++;else e[o++].remove()}}}const rs="_$DX_DELEGATE";function tc(t,e,n,r={}){let i;return te(s=>{i=s,e===document?t():h(e,t(),e.firstChild?null:void 0,n)},r.owner),()=>{i(),e.textContent=""}}function x(t,e,n){let r;const i=()=>{const o=document.createElement("template");return o.innerHTML=t,o.content.firstChild},s=()=>(r||(r=i())).cloneNode(!0);return s.cloneNode=s,s}function F(t,e=window.document){const n=e[rs]||(e[rs]=new Set);for(let r=0,i=t.length;r<i;r++){const s=t[r];n.has(s)||(n.add(s),e.addEventListener(s,lc))}}function V(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,n)}function nc(t,e,n,r){r==null?t.removeAttributeNS(e,n):t.setAttributeNS(e,n,r)}function wt(t,e){e==null?t.removeAttribute("class"):t.className=e}function Lt(t,e,n,r){if(r)Array.isArray(n)?(t[`$$${e}`]=n[0],t[`$$${e}Data`]=n[1]):t[`$$${e}`]=n;else if(Array.isArray(n)){const i=n[0];t.addEventListener(e,n[0]=s=>i.call(t,n[1],s))}else t.addEventListener(e,n)}function ki(t,e,n={}){const r=Object.keys(e||{}),i=Object.keys(n);let s,o;for(s=0,o=i.length;s<o;s++){const l=i[s];!l||l==="undefined"||e[l]||(is(t,l,!1),delete n[l])}for(s=0,o=r.length;s<o;s++){const l=r[s],a=!!e[l];!l||l==="undefined"||n[l]===a||!a||(is(t,l,!0),n[l]=a)}return n}function rc(t,e,n){if(!e)return n?V(t,"style"):e;const r=t.style;if(typeof e=="string")return r.cssText=e;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),e||(e={});let i,s;for(s in n)e[s]==null&&r.removeProperty(s),delete n[s];for(s in e)i=e[s],i!==n[s]&&(r.setProperty(s,i),n[s]=i);return n}function ic(t,e={},n,r){const i={};return A(()=>typeof e.ref=="function"?dn(e.ref,t):e.ref=t),A(()=>sc(t,e,n,!0,i,!0)),i}function dn(t,e,n){return Ae(()=>t(e,n))}function h(t,e,n,r){if(n!==void 0&&!r&&(r=[]),typeof e!="function")return Xn(t,e,r,n);A(i=>Xn(t,e(),i,n),r)}function sc(t,e,n,r,i={},s=!1){e||(e={});for(const o in i)if(!(o in e)){if(o==="children")continue;i[o]=ss(t,o,null,i[o],n,s)}for(const o in e){if(o==="children")continue;const l=e[o];i[o]=ss(t,o,l,i[o],n,s)}}function oc(t){return t.toLowerCase().replace(/-([a-z])/g,(e,n)=>n.toUpperCase())}function is(t,e,n){const r=e.trim().split(/\s+/);for(let i=0,s=r.length;i<s;i++)t.classList.toggle(r[i],n)}function ss(t,e,n,r,i,s){let o,l,a,c;if(e==="style")return rc(t,n,r);if(e==="classList")return ki(t,n,r);if(n===r)return r;if(e==="ref")s||n(t);else if(e.slice(0,3)==="on:"){const u=e.slice(3);r&&t.removeEventListener(u,r),n&&t.addEventListener(u,n)}else if(e.slice(0,10)==="oncapture:"){const u=e.slice(10);r&&t.removeEventListener(u,r,!0),n&&t.addEventListener(u,n,!0)}else if(e.slice(0,2)==="on"){const u=e.slice(2).toLowerCase(),d=Ya.has(u);if(!d&&r){const g=Array.isArray(r)?r[0]:r;t.removeEventListener(u,g)}(d||n)&&(Lt(t,u,n,d),d&&F([u]))}else if(e.slice(0,5)==="attr:")V(t,e.slice(5),n);else if((c=e.slice(0,5)==="prop:")||(a=Qa.has(e))||!i||(o=t.nodeName.includes("-")))c&&(e=e.slice(5),l=!0),e==="class"||e==="className"?wt(t,n):o&&!l&&!a?t[oc(e)]=n:t[e]=n;else{const u=e.indexOf(":")>-1&&Xa[e.split(":")[0]];u?nc(t,u,e,n):V(t,Za[e]||e,n)}return n}function lc(t){const e=`$$${t.type}`;let n=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==n&&Object.defineProperty(t,"target",{configurable:!0,value:n}),Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return n||document}});n;){const r=n[e];if(r&&!n.disabled){const i=n[`${e}Data`];if(i!==void 0?r.call(n,i,t):r.call(n,t),t.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function Xn(t,e,n,r,i){for(;typeof n=="function";)n=n();if(e===n)return n;const s=typeof e,o=r!==void 0;if(t=o&&n[0]&&n[0].parentNode||t,s==="string"||s==="number")if(s==="number"&&(e=e.toString()),o){let l=n[0];l&&l.nodeType===3?l.data!==e&&(l.data=e):l=document.createTextNode(e),n=Ct(t,n,r,l)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e;else if(e==null||s==="boolean")n=Ct(t,n,r);else{if(s==="function")return A(()=>{let l=e();for(;typeof l=="function";)l=l();n=Xn(t,l,n,r)}),()=>n;if(Array.isArray(e)){const l=[],a=n&&Array.isArray(n);if(ii(l,e,n,i))return A(()=>n=Xn(t,l,n,r,!0)),()=>n;if(l.length===0){if(n=Ct(t,n,r),o)return n}else a?n.length===0?os(t,l,r):ec(t,n,l):(n&&Ct(t),os(t,l));n=l}else if(e.nodeType){if(Array.isArray(n)){if(o)return n=Ct(t,n,r,e);Ct(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function ii(t,e,n,r){let i=!1;for(let s=0,o=e.length;s<o;s++){let l=e[s],a=n&&n[t.length],c;if(!(l==null||l===!0||l===!1))if((c=typeof l)=="object"&&l.nodeType)t.push(l);else if(Array.isArray(l))i=ii(t,l,a)||i;else if(c==="function")if(r){for(;typeof l=="function";)l=l();i=ii(t,Array.isArray(l)?l:[l],Array.isArray(a)?a:[a])||i}else t.push(l),i=!0;else{const u=String(l);a&&a.nodeType===3&&a.data===u?t.push(a):t.push(document.createTextNode(u))}}return i}function os(t,e,n=null){for(let r=0,i=e.length;r<i;r++)t.insertBefore(e[r],n)}function Ct(t,e,n,r){if(n===void 0)return t.textContent="";const i=r||document.createTextNode("");if(e.length){let s=!1;for(let o=e.length-1;o>=0;o--){const l=e[o];if(i!==l){const a=l.parentNode===t;!s&&!o?a?t.replaceChild(i,l):t.insertBefore(i,n):a&&l.remove()}else s=!0}}else t.insertBefore(i,n);return[i]}const ac=!1,cc="http://www.w3.org/2000/svg";function uc(t,e=!1){return e?document.createElementNS(cc,t):document.createElement(t)}function dc(t){const{useShadow:e}=t,n=document.createTextNode(""),r=()=>t.mount||document.body,i=Ua();let s,o=!!Na.context;return X(()=>{s||(s=Fa(i,()=>ae(()=>t.children)));const l=r();if(l instanceof HTMLHeadElement){const[a,c]=S(!1),u=()=>c(!0);te(d=>h(l,()=>a()?d():s(),null)),nn(u)}else{const a=uc(t.isSVG?"g":"div",t.isSVG),c=e&&a.attachShadow?a.attachShadow({mode:"open"}):a;Object.defineProperty(a,"_$host",{get(){return n.parentNode},configurable:!0}),h(c,s),l.appendChild(a),t.ref&&t.ref(a),nn(()=>l.removeChild(a))}},void 0,{render:!o}),n}function $o(t,e){return function(){return t.apply(e,arguments)}}const{toString:fc}=Object.prototype,{getPrototypeOf:Si}=Object,pr=(t=>e=>{const n=fc.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),je=t=>(t=t.toLowerCase(),e=>pr(e)===t),br=t=>e=>typeof e===t,{isArray:Vt}=Array,rn=br("undefined");function hc(t){return t!==null&&!rn(t)&&t.constructor!==null&&!rn(t.constructor)&&$e(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Io=je("ArrayBuffer");function gc(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Io(t.buffer),e}const mc=br("string"),$e=br("function"),Co=br("number"),vr=t=>t!==null&&typeof t=="object",pc=t=>t===!0||t===!1,zn=t=>{if(pr(t)!=="object")return!1;const e=Si(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},bc=je("Date"),vc=je("File"),yc=je("Blob"),wc=je("FileList"),_c=t=>vr(t)&&$e(t.pipe),xc=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||$e(t.append)&&((e=pr(t))==="formdata"||e==="object"&&$e(t.toString)&&t.toString()==="[object FormData]"))},kc=je("URLSearchParams"),Sc=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fn(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Vt(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let l;for(r=0;r<o;r++)l=s[r],e.call(null,t[l],l,t)}}function To(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Eo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ao=t=>!rn(t)&&t!==Eo;function si(){const{caseless:t}=Ao(this)&&this||{},e={},n=(r,i)=>{const s=t&&To(e,i)||i;zn(e[s])&&zn(r)?e[s]=si(e[s],r):zn(r)?e[s]=si({},r):Vt(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&fn(arguments[r],n);return e}const $c=(t,e,n,{allOwnKeys:r}={})=>(fn(e,(i,s)=>{n&&$e(i)?t[s]=$o(i,n):t[s]=i},{allOwnKeys:r}),t),Ic=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Cc=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Tc=(t,e,n,r)=>{let i,s,o;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&Si(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Ec=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Ac=t=>{if(!t)return null;if(Vt(t))return t;let e=t.length;if(!Co(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Oc=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Si(Uint8Array)),Pc=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},Rc=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Nc=je("HTMLFormElement"),Mc=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),ls=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Dc=je("RegExp"),Oo=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};fn(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},Lc=t=>{Oo(t,(e,n)=>{if($e(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if($e(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},jc=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Vt(t)?r(t):r(String(t).split(e)),n},Uc=()=>{},Fc=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Nr="abcdefghijklmnopqrstuvwxyz",as="0123456789",Po={DIGIT:as,ALPHA:Nr,ALPHA_DIGIT:Nr+Nr.toUpperCase()+as},Bc=(t=16,e=Po.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function zc(t){return!!(t&&$e(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Hc=t=>{const e=new Array(10),n=(r,i)=>{if(vr(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Vt(r)?[]:{};return fn(r,(o,l)=>{const a=n(o,i+1);!rn(a)&&(s[l]=a)}),e[i]=void 0,s}}return r};return n(t,0)},Vc=je("AsyncFunction"),Wc=t=>t&&(vr(t)||$e(t))&&$e(t.then)&&$e(t.catch),$={isArray:Vt,isArrayBuffer:Io,isBuffer:hc,isFormData:xc,isArrayBufferView:gc,isString:mc,isNumber:Co,isBoolean:pc,isObject:vr,isPlainObject:zn,isUndefined:rn,isDate:bc,isFile:vc,isBlob:yc,isRegExp:Dc,isFunction:$e,isStream:_c,isURLSearchParams:kc,isTypedArray:Oc,isFileList:wc,forEach:fn,merge:si,extend:$c,trim:Sc,stripBOM:Ic,inherits:Cc,toFlatObject:Tc,kindOf:pr,kindOfTest:je,endsWith:Ec,toArray:Ac,forEachEntry:Pc,matchAll:Rc,isHTMLForm:Nc,hasOwnProperty:ls,hasOwnProp:ls,reduceDescriptors:Oo,freezeMethods:Lc,toObjectSet:jc,toCamelCase:Mc,noop:Uc,toFiniteNumber:Fc,findKey:To,global:Eo,isContextDefined:Ao,ALPHABET:Po,generateString:Bc,isSpecCompliantForm:zc,toJSONObject:Hc,isAsyncFn:Vc,isThenable:Wc};function W(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}$.inherits(W,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Ro=W.prototype,No={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{No[t]={value:t}});Object.defineProperties(W,No);Object.defineProperty(Ro,"isAxiosError",{value:!0});W.from=(t,e,n,r,i,s)=>{const o=Object.create(Ro);return $.toFlatObject(t,o,function(a){return a!==Error.prototype},l=>l!=="isAxiosError"),W.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const Gc=null;function oi(t){return $.isPlainObject(t)||$.isArray(t)}function Mo(t){return $.endsWith(t,"[]")?t.slice(0,-2):t}function cs(t,e,n){return t?t.concat(e).map(function(i,s){return i=Mo(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function qc(t){return $.isArray(t)&&!t.some(oi)}const Jc=$.toFlatObject($,{},null,function(e){return/^is[A-Z]/.test(e)});function yr(t,e,n){if(!$.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=$.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,m){return!$.isUndefined(m[b])});const r=n.metaTokens,i=n.visitor||u,s=n.dots,o=n.indexes,a=(n.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(e);if(!$.isFunction(i))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if($.isDate(y))return y.toISOString();if(!a&&$.isBlob(y))throw new W("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(y)||$.isTypedArray(y)?a&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function u(y,b,m){let p=y;if(y&&!m&&typeof y=="object"){if($.endsWith(b,"{}"))b=r?b:b.slice(0,-2),y=JSON.stringify(y);else if($.isArray(y)&&qc(y)||($.isFileList(y)||$.endsWith(b,"[]"))&&(p=$.toArray(y)))return b=Mo(b),p.forEach(function(_,k){!($.isUndefined(_)||_===null)&&e.append(o===!0?cs([b],k,s):o===null?b:b+"[]",c(_))}),!1}return oi(y)?!0:(e.append(cs(m,b,s),c(y)),!1)}const d=[],g=Object.assign(Jc,{defaultVisitor:u,convertValue:c,isVisitable:oi});function v(y,b){if(!$.isUndefined(y)){if(d.indexOf(y)!==-1)throw Error("Circular reference detected in "+b.join("."));d.push(y),$.forEach(y,function(p,w){(!($.isUndefined(p)||p===null)&&i.call(e,p,$.isString(w)?w.trim():w,b,g))===!0&&v(p,b?b.concat(w):[w])}),d.pop()}}if(!$.isObject(t))throw new TypeError("data must be an object");return v(t),e}function us(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function $i(t,e){this._pairs=[],t&&yr(t,this,e)}const Do=$i.prototype;Do.append=function(e,n){this._pairs.push([e,n])};Do.toString=function(e){const n=e?function(r){return e.call(this,r,us)}:us;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Kc(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Lo(t,e,n){if(!e)return t;const r=n&&n.encode||Kc,i=n&&n.serialize;let s;if(i?s=i(e,n):s=$.isURLSearchParams(e)?e.toString():new $i(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class ds{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){$.forEach(this.handlers,function(r){r!==null&&e(r)})}}const jo={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Qc=typeof URLSearchParams<"u"?URLSearchParams:$i,Zc=typeof FormData<"u"?FormData:null,Yc=typeof Blob<"u"?Blob:null,Xc={isBrowser:!0,classes:{URLSearchParams:Qc,FormData:Zc,Blob:Yc},protocols:["http","https","file","blob","url","data"]},Uo=typeof window<"u"&&typeof document<"u",eu=(t=>Uo&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),tu=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",nu=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Uo,hasStandardBrowserEnv:eu,hasStandardBrowserWebWorkerEnv:tu},Symbol.toStringTag,{value:"Module"})),Re={...nu,...Xc};function ru(t,e){return yr(t,new Re.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Re.isNode&&$.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function iu(t){return $.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function su(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function Fo(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),a=s>=n.length;return o=!o&&$.isArray(i)?i.length:o,a?($.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!l):((!i[o]||!$.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&$.isArray(i[o])&&(i[o]=su(i[o])),!l)}if($.isFormData(t)&&$.isFunction(t.entries)){const n={};return $.forEachEntry(t,(r,i)=>{e(iu(r),i,n,0)}),n}return null}function ou(t,e,n){if($.isString(t))try{return(e||JSON.parse)(t),$.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const hn={transitional:jo,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=$.isObject(e);if(s&&$.isHTMLForm(e)&&(e=new FormData(e)),$.isFormData(e))return i?JSON.stringify(Fo(e)):e;if($.isArrayBuffer(e)||$.isBuffer(e)||$.isStream(e)||$.isFile(e)||$.isBlob(e))return e;if($.isArrayBufferView(e))return e.buffer;if($.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return ru(e,this.formSerializer).toString();if((l=$.isFileList(e))||r.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return yr(l?{"files[]":e}:e,a&&new a,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),ou(e)):e}],transformResponse:[function(e){const n=this.transitional||hn.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&$.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?W.from(l,W.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Re.classes.FormData,Blob:Re.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],t=>{hn.headers[t]={}});const lu=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),au=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&lu[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},fs=Symbol("internals");function Kt(t){return t&&String(t).trim().toLowerCase()}function Hn(t){return t===!1||t==null?t:$.isArray(t)?t.map(Hn):String(t)}function cu(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const uu=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Mr(t,e,n,r,i){if($.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!$.isString(e)){if($.isString(r))return e.indexOf(r)!==-1;if($.isRegExp(r))return r.test(e)}}function du(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function fu(t,e){const n=$.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Ie{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(l,a,c){const u=Kt(a);if(!u)throw new Error("header name must be a non-empty string");const d=$.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||a]=Hn(l))}const o=(l,a)=>$.forEach(l,(c,u)=>s(c,u,a));return $.isPlainObject(e)||e instanceof this.constructor?o(e,n):$.isString(e)&&(e=e.trim())&&!uu(e)?o(au(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=Kt(e),e){const r=$.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return cu(i);if($.isFunction(n))return n.call(this,i,r);if($.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Kt(e),e){const r=$.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Mr(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Kt(o),o){const l=$.findKey(r,o);l&&(!n||Mr(r,r[l],l,n))&&(delete r[l],i=!0)}}return $.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Mr(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return $.forEach(this,(i,s)=>{const o=$.findKey(r,s);if(o){n[o]=Hn(i),delete n[s];return}const l=e?du(s):String(s).trim();l!==s&&delete n[s],n[l]=Hn(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return $.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&$.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[fs]=this[fs]={accessors:{}}).accessors,i=this.prototype;function s(o){const l=Kt(o);r[l]||(fu(i,o),r[l]=!0)}return $.isArray(e)?e.forEach(s):s(e),this}}Ie.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.reduceDescriptors(Ie.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});$.freezeMethods(Ie);function Dr(t,e){const n=this||hn,r=e||n,i=Ie.from(r.headers);let s=r.data;return $.forEach(t,function(l){s=l.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function Bo(t){return!!(t&&t.__CANCEL__)}function gn(t,e,n){W.call(this,t??"canceled",W.ERR_CANCELED,e,n),this.name="CanceledError"}$.inherits(gn,W,{__CANCEL__:!0});function hu(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new W("Request failed with status code "+n.status,[W.ERR_BAD_REQUEST,W.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const gu=Re.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];$.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),$.isString(r)&&o.push("path="+r),$.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function mu(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function pu(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function zo(t,e){return t&&!mu(e)?pu(t,e):e}const bu=Re.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const l=$.isString(o)?i(o):o;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}();function vu(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function yu(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(a){const c=Date.now(),u=r[s];o||(o=c),n[i]=a,r[i]=c;let d=s,g=0;for(;d!==i;)g+=n[d++],d=d%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const v=u&&c-u;return v?Math.round(g*1e3/v):void 0}}function hs(t,e){let n=0;const r=yu(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,l=s-n,a=r(l),c=s<=o;n=s;const u={loaded:s,total:o,progress:o?s/o:void 0,bytes:l,rate:a||void 0,estimated:a&&o&&c?(o-s)/a:void 0,event:i};u[e?"download":"upload"]=!0,t(u)}}const wu=typeof XMLHttpRequest<"u",_u=wu&&function(t){return new Promise(function(n,r){let i=t.data;const s=Ie.from(t.headers).normalize();let{responseType:o,withXSRFToken:l}=t,a;function c(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}let u;if($.isFormData(i)){if(Re.hasStandardBrowserEnv||Re.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((u=s.getContentType())!==!1){const[b,...m]=u?u.split(";").map(p=>p.trim()).filter(Boolean):[];s.setContentType([b||"multipart/form-data",...m].join("; "))}}let d=new XMLHttpRequest;if(t.auth){const b=t.auth.username||"",m=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(b+":"+m))}const g=zo(t.baseURL,t.url);d.open(t.method.toUpperCase(),Lo(g,t.params,t.paramsSerializer),!0),d.timeout=t.timeout;function v(){if(!d)return;const b=Ie.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),p={data:!o||o==="text"||o==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:b,config:t,request:d};hu(function(_){n(_),c()},function(_){r(_),c()},p),d=null}if("onloadend"in d?d.onloadend=v:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(v)},d.onabort=function(){d&&(r(new W("Request aborted",W.ECONNABORTED,t,d)),d=null)},d.onerror=function(){r(new W("Network Error",W.ERR_NETWORK,t,d)),d=null},d.ontimeout=function(){let m=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const p=t.transitional||jo;t.timeoutErrorMessage&&(m=t.timeoutErrorMessage),r(new W(m,p.clarifyTimeoutError?W.ETIMEDOUT:W.ECONNABORTED,t,d)),d=null},Re.hasStandardBrowserEnv&&(l&&$.isFunction(l)&&(l=l(t)),l||l!==!1&&bu(g))){const b=t.xsrfHeaderName&&t.xsrfCookieName&&gu.read(t.xsrfCookieName);b&&s.set(t.xsrfHeaderName,b)}i===void 0&&s.setContentType(null),"setRequestHeader"in d&&$.forEach(s.toJSON(),function(m,p){d.setRequestHeader(p,m)}),$.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),o&&o!=="json"&&(d.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&d.addEventListener("progress",hs(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",hs(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=b=>{d&&(r(!b||b.type?new gn(null,t,d):b),d.abort(),d=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const y=vu(g);if(y&&Re.protocols.indexOf(y)===-1){r(new W("Unsupported protocol "+y+":",W.ERR_BAD_REQUEST,t));return}d.send(i||null)})},li={http:Gc,xhr:_u};$.forEach(li,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const gs=t=>`- ${t}`,xu=t=>$.isFunction(t)||t===null||t===!1,Ho={getAdapter:t=>{t=$.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!xu(n)&&(r=li[(o=String(n)).toLowerCase()],r===void 0))throw new W(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([l,a])=>`adapter ${l} `+(a===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(gs).join(`
`):" "+gs(s[0]):"as no adapter specified";throw new W("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:li};function Lr(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new gn(null,t)}function ms(t){return Lr(t),t.headers=Ie.from(t.headers),t.data=Dr.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ho.getAdapter(t.adapter||hn.adapter)(t).then(function(r){return Lr(t),r.data=Dr.call(t,t.transformResponse,r),r.headers=Ie.from(r.headers),r},function(r){return Bo(r)||(Lr(t),r&&r.response&&(r.response.data=Dr.call(t,t.transformResponse,r.response),r.response.headers=Ie.from(r.response.headers))),Promise.reject(r)})}const ps=t=>t instanceof Ie?{...t}:t;function jt(t,e){e=e||{};const n={};function r(c,u,d){return $.isPlainObject(c)&&$.isPlainObject(u)?$.merge.call({caseless:d},c,u):$.isPlainObject(u)?$.merge({},u):$.isArray(u)?u.slice():u}function i(c,u,d){if($.isUndefined(u)){if(!$.isUndefined(c))return r(void 0,c,d)}else return r(c,u,d)}function s(c,u){if(!$.isUndefined(u))return r(void 0,u)}function o(c,u){if($.isUndefined(u)){if(!$.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function l(c,u,d){if(d in e)return r(c,u);if(d in t)return r(void 0,c)}const a={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(c,u)=>i(ps(c),ps(u),!0)};return $.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=a[u]||i,g=d(t[u],e[u],u);$.isUndefined(g)&&d!==l||(n[u]=g)}),n}const Vo="1.6.8",Ii={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Ii[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const bs={};Ii.transitional=function(e,n,r){function i(s,o){return"[Axios v"+Vo+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,l)=>{if(e===!1)throw new W(i(o," has been removed"+(n?" in "+n:"")),W.ERR_DEPRECATED);return n&&!bs[o]&&(bs[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,l):!0}};function ku(t,e,n){if(typeof t!="object")throw new W("options must be an object",W.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const l=t[s],a=l===void 0||o(l,s,t);if(a!==!0)throw new W("option "+s+" must be "+a,W.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new W("Unknown option "+s,W.ERR_BAD_OPTION)}}const ai={assertOptions:ku,validators:Ii},Xe=ai.validators;class vt{constructor(e){this.defaults=e,this.interceptors={request:new ds,response:new ds}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=jt(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&ai.assertOptions(r,{silentJSONParsing:Xe.transitional(Xe.boolean),forcedJSONParsing:Xe.transitional(Xe.boolean),clarifyTimeoutError:Xe.transitional(Xe.boolean)},!1),i!=null&&($.isFunction(i)?n.paramsSerializer={serialize:i}:ai.assertOptions(i,{encode:Xe.function,serialize:Xe.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&$.merge(s.common,s[n.method]);s&&$.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),n.headers=Ie.concat(o,s);const l=[];let a=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(a=a&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const c=[];this.interceptors.response.forEach(function(b){c.push(b.fulfilled,b.rejected)});let u,d=0,g;if(!a){const y=[ms.bind(this),void 0];for(y.unshift.apply(y,l),y.push.apply(y,c),g=y.length,u=Promise.resolve(n);d<g;)u=u.then(y[d++],y[d++]);return u}g=l.length;let v=n;for(d=0;d<g;){const y=l[d++],b=l[d++];try{v=y(v)}catch(m){b.call(this,m);break}}try{u=ms.call(this,v)}catch(y){return Promise.reject(y)}for(d=0,g=c.length;d<g;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=jt(this.defaults,e);const n=zo(e.baseURL,e.url);return Lo(n,e.params,e.paramsSerializer)}}$.forEach(["delete","get","head","options"],function(e){vt.prototype[e]=function(n,r){return this.request(jt(r||{},{method:e,url:n,data:(r||{}).data}))}});$.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,l){return this.request(jt(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}vt.prototype[e]=n(),vt.prototype[e+"Form"]=n(!0)});class Ci{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(l=>{r.subscribe(l),s=l}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,l){r.reason||(r.reason=new gn(s,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new Ci(function(i){e=i}),cancel:e}}}function Su(t){return function(n){return t.apply(null,n)}}function $u(t){return $.isObject(t)&&t.isAxiosError===!0}const ci={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ci).forEach(([t,e])=>{ci[e]=t});function Wo(t){const e=new vt(t),n=$o(vt.prototype.request,e);return $.extend(n,vt.prototype,e,{allOwnKeys:!0}),$.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return Wo(jt(t,i))},n}const L=Wo(hn);L.Axios=vt;L.CanceledError=gn;L.CancelToken=Ci;L.isCancel=Bo;L.VERSION=Vo;L.toFormData=yr;L.AxiosError=W;L.Cancel=L.CanceledError;L.all=function(e){return Promise.all(e)};L.spread=Su;L.isAxiosError=$u;L.mergeConfig=jt;L.AxiosHeaders=Ie;L.formToJSON=t=>Fo($.isHTMLForm(t)?new FormData(t):t);L.getAdapter=Ho.getAdapter;L.HttpStatusCode=ci;L.default=L;const Iu="http://0.0.0.0:3000",Cu="http://localhost:3000",Tu="http://0.0.0.0:8080",Eu="http://localhost:8080",Ti="/ws",Au="ws://0.0.0.0:8080"+Ti,Ou="ws://localhost:8080"+Ti,Dn=window.location.origin,vs=window.location.protocol,Pu=window.location.host;let ui;vs=="http:"?ui="ws://":vs=="https:"&&(ui="wss://");function Ru(){let t,e;Dn==Iu?(t=Tu,e=Au):Dn==Cu?(t=Eu,e=Ou):(t="",e=ui+Pu+Ti);const n=Dn.startsWith("http://localhost:3000")||Dn.startsWith("http://0.0.0.0:3000");return{serverUrl:t,withCredentials:n,wsUrl:e}}const q=te(Ru);function Nu(){const[t,e]=S(null),[n,r]=S(null),[i,s]=S(!0),[o,l]=S(!0),[a,c]=S(""),[u,d]=S("");function g(){v(),y()}function v(){if(!t()||t().length==0){c("Please enter an email."),s(!0);return}let b=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9]+)+$/;if(!t().match(b)){c("Email is invalid."),s(!0);return}c(""),s(!1)}function y(){if(!n()||n().length==0){d("Please enter a password."),l(!0);return}let b=/^[a-zA-Z0-9.!?#$%&^_@*]+$/;if(!n().match(b)){d("Password is invalid (a-z, A-Z, 0-9, .!?#$%&^_@* allowed)."),l(!0);return}return d(""),l(!1),!0}return{email:t,setEmail:e,password:n,setPassword:r,errorInEmail:i,setErrorInEmail:s,errorInPassword:o,setErrorInPassword:l,checkEmailAndPassword:g,emailErrorMsg:a,passwordErrorMsg:u}}const Je=te(Nu);var Mu=x("<div><span></span><br>");function Du(){const[t,e]=S(!1),[n,r]=S(""),[i,s]=S(""),[o,l]=S(!0);function a(){const c=i().split(`
`);return f(le,{each:c,children:u=>(()=>{var d=Mu(),g=d.firstChild;return h(g,u),d})()})}return{showErrorDialog:t,setShowErrorDialog:e,errorDialogTitle:n,setErrorDialogTitle:r,errorDialogText:i,setErrorDialogText:s,getErrorText:a,showDismiss:o,setShowDismiss:l}}const mn=te(Du);function Lu(){const[t,e]=S(!1);return{systemSetupNeeded:t,setSystemSetupNeeded:e}}const wr=te(Lu),{setShowErrorDialog:ju,setErrorDialogTitle:Uu,setErrorDialogText:jr}=mn,{setSystemSetupNeeded:Fu}=wr;function G(t){if(console.error(t),Uu("Error"),t.response!=null){if(t.response.status==404)jr("Resource not found");else if(t.response.status==403)jr("You are not authorized for "+t.request.responseURL);else if(t.response.statusText=="SYSTEM_SETUP_NEEDED"){Fu(!0);return}else{let e="";t.response.data.msg?e=t.response.data.msg:t.response.data&&(e=t.response.data),jr(e+`

Please contact the system admin if help is needed.`)}ju(!0)}}var ys={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Bu=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},qo={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,a=i+2<t.length,c=a?t[i+2]:0,u=s>>2,d=(s&3)<<4|l>>4;let g=(l&15)<<2|c>>6,v=c&63;a||(v=64,o||(g=64)),r.push(n[u],n[d],n[g],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Go(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Bu(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||d==null)throw new zu;const g=s<<2|l>>4;if(r.push(g),c!==64){const v=l<<4&240|c>>2;if(r.push(v),d!==64){const y=c<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zu extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hu=function(t){const e=Go(t);return qo.encodeByteArray(e,!0)},Jo=function(t){return Hu(t).replace(/\./g,"")},Ko=function(t){try{return qo.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu=()=>Vu().__FIREBASE_DEFAULTS__,Gu=()=>{if(typeof process>"u"||typeof ys>"u")return;const t=ys.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qu=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ko(t[1]);return e&&JSON.parse(e)},Ei=()=>{try{return Wu()||Gu()||qu()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ju=t=>{var e,n;return(n=(e=Ei())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Qo=()=>{var t;return(t=Ei())===null||t===void 0?void 0:t.config},Zo=t=>{var e;return(e=Ei())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qu(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(de())}function Zu(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Yu(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xu(){const t=de();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ed(){try{return typeof indexedDB=="object"}catch{return!1}}function td(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd="FirebaseError";class dt extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=nd,Object.setPrototypeOf(this,dt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pn.prototype.create)}}class pn{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?rd(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new dt(i,l,r)}}function rd(t,e){return t.replace(id,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const id=/\{\$([^}]+)}/g;function sd(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function er(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(ws(s)&&ws(o)){if(!er(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ws(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Zt(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Yt(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function od(t,e){const n=new ld(t,e);return n.subscribe.bind(n)}class ld{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ad(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ur),i.error===void 0&&(i.error=Ur),i.complete===void 0&&(i.complete=Ur);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ad(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ur(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t){return t&&t._delegate?t._delegate:t}class Ut{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ku;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dd(e))try{this.getOrInitializeService({instanceIdentifier:bt})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=bt){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bt){return this.instances.has(e)}getOptions(e=bt){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ud(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=bt){return this.component?this.component.multipleInstances?e:bt:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ud(t){return t===bt?void 0:t}function dd(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new cd(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Y||(Y={}));const hd={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},gd=Y.INFO,md={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},pd=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=md[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yo{constructor(e){this.name=e,this._logLevel=gd,this._logHandler=pd,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Y))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hd[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...e),this._logHandler(this,Y.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...e),this._logHandler(this,Y.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...e),this._logHandler(this,Y.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...e),this._logHandler(this,Y.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...e),this._logHandler(this,Y.ERROR,...e)}}const bd=(t,e)=>e.some(n=>t instanceof n);let _s,xs;function vd(){return _s||(_s=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yd(){return xs||(xs=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xo=new WeakMap,di=new WeakMap,el=new WeakMap,Fr=new WeakMap,Ai=new WeakMap;function wd(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(lt(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Xo.set(n,t)}).catch(()=>{}),Ai.set(e,t),e}function _d(t){if(di.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});di.set(t,e)}let fi={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return di.get(t);if(e==="objectStoreNames")return t.objectStoreNames||el.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return lt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xd(t){fi=t(fi)}function kd(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Br(this),e,...n);return el.set(r,e.sort?e.sort():[e]),lt(r)}:yd().includes(t)?function(...e){return t.apply(Br(this),e),lt(Xo.get(this))}:function(...e){return lt(t.apply(Br(this),e))}}function Sd(t){return typeof t=="function"?kd(t):(t instanceof IDBTransaction&&_d(t),bd(t,vd())?new Proxy(t,fi):t)}function lt(t){if(t instanceof IDBRequest)return wd(t);if(Fr.has(t))return Fr.get(t);const e=Sd(t);return e!==t&&(Fr.set(t,e),Ai.set(e,t)),e}const Br=t=>Ai.get(t);function $d(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=lt(o);return r&&o.addEventListener("upgradeneeded",a=>{r(lt(o.result),a.oldVersion,a.newVersion,lt(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const Id=["get","getKey","getAll","getAllKeys","count"],Cd=["put","add","delete","clear"],zr=new Map;function ks(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zr.get(e))return zr.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Cd.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Id.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let c=a.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&a.done]))[0]};return zr.set(e,s),s}xd(t=>({...t,get:(e,n,r)=>ks(e,n)||t.get(e,n,r),has:(e,n)=>!!ks(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ed(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Ed(t){const e=t.getComponent();return e?.type==="VERSION"}const hi="@firebase/app",Ss="0.10.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _t=new Yo("@firebase/app"),Ad="@firebase/app-compat",Od="@firebase/analytics-compat",Pd="@firebase/analytics",Rd="@firebase/app-check-compat",Nd="@firebase/app-check",Md="@firebase/auth",Dd="@firebase/auth-compat",Ld="@firebase/database",jd="@firebase/database-compat",Ud="@firebase/functions",Fd="@firebase/functions-compat",Bd="@firebase/installations",zd="@firebase/installations-compat",Hd="@firebase/messaging",Vd="@firebase/messaging-compat",Wd="@firebase/performance",Gd="@firebase/performance-compat",qd="@firebase/remote-config",Jd="@firebase/remote-config-compat",Kd="@firebase/storage",Qd="@firebase/storage-compat",Zd="@firebase/firestore",Yd="@firebase/firestore-compat",Xd="firebase",ef="10.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi="[DEFAULT]",tf={[hi]:"fire-core",[Ad]:"fire-core-compat",[Pd]:"fire-analytics",[Od]:"fire-analytics-compat",[Nd]:"fire-app-check",[Rd]:"fire-app-check-compat",[Md]:"fire-auth",[Dd]:"fire-auth-compat",[Ld]:"fire-rtdb",[jd]:"fire-rtdb-compat",[Ud]:"fire-fn",[Fd]:"fire-fn-compat",[Bd]:"fire-iid",[zd]:"fire-iid-compat",[Hd]:"fire-fcm",[Vd]:"fire-fcm-compat",[Wd]:"fire-perf",[Gd]:"fire-perf-compat",[qd]:"fire-rc",[Jd]:"fire-rc-compat",[Kd]:"fire-gcs",[Qd]:"fire-gcs-compat",[Zd]:"fire-fst",[Yd]:"fire-fst-compat","fire-js":"fire-js",[Xd]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr=new Map,nf=new Map,mi=new Map;function $s(t,e){try{t.container.addComponent(e)}catch(n){_t.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function sn(t){const e=t.name;if(mi.has(e))return _t.debug(`There were multiple attempts to register component ${e}.`),!1;mi.set(e,t);for(const n of tr.values())$s(n,t);for(const n of nf.values())$s(n,t);return!0}function tl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Fe(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},at=new pn("app","Firebase",rf);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ut("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw at.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn=ef;function nl(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:gi,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw at.create("bad-app-name",{appName:String(i)});if(n||(n=Qo()),!n)throw at.create("no-options");const s=tr.get(i);if(s){if(er(n,s.options)&&er(r,s.config))return s;throw at.create("duplicate-app",{appName:i})}const o=new fd(i);for(const a of mi.values())o.addComponent(a);const l=new sf(n,r,o);return tr.set(i,l),l}function of(t=gi){const e=tr.get(t);if(!e&&t===gi&&Qo())return nl();if(!e)throw at.create("no-app",{appName:t});return e}function Ot(t,e,n){var r;let i=(r=tf[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_t.warn(l.join(" "));return}sn(new Ut(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf="firebase-heartbeat-database",af=1,on="firebase-heartbeat-store";let Hr=null;function rl(){return Hr||(Hr=$d(lf,af,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(on)}catch(n){console.warn(n)}}}}).catch(t=>{throw at.create("idb-open",{originalErrorMessage:t.message})})),Hr}async function cf(t){try{const n=(await rl()).transaction(on),r=await n.objectStore(on).get(il(t));return await n.done,r}catch(e){if(e instanceof dt)_t.warn(e.message);else{const n=at.create("idb-get",{originalErrorMessage:e?.message});_t.warn(n.message)}}}async function Is(t,e){try{const r=(await rl()).transaction(on,"readwrite");await r.objectStore(on).put(e,il(t)),await r.done}catch(n){if(n instanceof dt)_t.warn(n.message);else{const r=at.create("idb-set",{originalErrorMessage:n?.message});_t.warn(r.message)}}}function il(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=1024,df=30*24*60*60*1e3;class ff{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gf(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Cs();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=df}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Cs(),{heartbeatsToSend:r,unsentEntries:i}=hf(this._heartbeatsCache.heartbeats),s=Jo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Cs(){return new Date().toISOString().substring(0,10)}function hf(t,e=uf){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Ts(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ts(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class gf{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ed()?td().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cf(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Is(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Is(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ts(t){return Jo(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(t){sn(new Ut("platform-logger",e=>new Td(e),"PRIVATE")),sn(new Ut("heartbeat",e=>new ff(e),"PRIVATE")),Ot(hi,Ss,t),Ot(hi,Ss,"esm2017"),Ot("fire-js","")}mf("");function Oi(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function sl(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pf=sl,ol=new pn("auth","Firebase",sl());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new Yo("@firebase/auth");function bf(t,...e){nr.logLevel<=Y.WARN&&nr.warn(`Auth (${vn}): ${t}`,...e)}function Vn(t,...e){nr.logLevel<=Y.ERROR&&nr.error(`Auth (${vn}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t,...e){throw Pi(t,...e)}function De(t,...e){return Pi(t,...e)}function ll(t,e,n){const r=Object.assign(Object.assign({},pf()),{[e]:n});return new pn("auth","Firebase",r).create(e,{appName:t.name})}function ct(t){return ll(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pi(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ol.create(t,...e)}function j(t,e,...n){if(!t)throw Pi(e,...n)}function Be(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vn(e),new Error(e)}function Ge(t,e){t||Be(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function vf(){return Es()==="http:"||Es()==="https:"}function Es(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vf()||Zu()||"connection"in navigator)?navigator.onLine:!0}function wf(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ge(n>e,"Short delay should be less than long delay!"),this.isMobile=Qu()||Yu()}get(){return yf()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(t,e){Ge(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Be("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Be("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Be("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf=new yn(3e4,6e4);function ft(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Qe(t,e,n,r,i={}){return cl(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=bn(Object.assign({key:t.config.apiKey},o)).slice(1),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode),al.fetch()(ul(t,t.config.apiHost,n,l),Object.assign({method:e,headers:a,referrerPolicy:"no-referrer"},s))})}async function cl(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},_f),e);try{const i=new Sf(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ln(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[a,c]=l.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ln(t,"credential-already-in-use",o);if(a==="EMAIL_EXISTS")throw Ln(t,"email-already-in-use",o);if(a==="USER_DISABLED")throw Ln(t,"user-disabled",o);const u=r[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw ll(t,u,c);Oe(t,u)}}catch(i){if(i instanceof dt)throw i;Oe(t,"network-request-failed",{message:String(i)})}}async function _r(t,e,n,r,i={}){const s=await Qe(t,e,n,r,i);return"mfaPendingCredential"in s&&Oe(t,"multi-factor-auth-required",{_serverResponse:s}),s}function ul(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Ri(t.config,i):`${t.config.apiScheme}://${i}`}function kf(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Sf{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(De(this.auth,"network-request-failed")),xf.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ln(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=De(t,e,r);return i.customData._tokenResponse=n,i}function As(t){return t!==void 0&&t.enterprise!==void 0}class $f{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return kf(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function If(t,e){return Qe(t,"GET","/v2/recaptchaConfig",ft(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cf(t,e){return Qe(t,"POST","/v1/accounts:delete",e)}async function dl(t,e){return Qe(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Tf(t,e=!1){const n=Ke(t),r=await n.getIdToken(e),i=Ni(r);j(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:en(Vr(i.auth_time)),issuedAtTime:en(Vr(i.iat)),expirationTime:en(Vr(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Vr(t){return Number(t)*1e3}function Ni(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Vn("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ko(n);return i?JSON.parse(i):(Vn("Failed to decode base64 JWT payload"),null)}catch(i){return Vn("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Os(t){const e=Ni(t);return j(e,"internal-error"),j(typeof e.exp<"u","internal-error"),j(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ln(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof dt&&Ef(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Ef({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=en(this.lastLoginAt),this.creationTime=en(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rr(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ln(t,dl(n,{idToken:r}));j(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?fl(s.providerUserInfo):[],l=Pf(t.providerData,o),a=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!l?.length,u=a?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new bi(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function Of(t){const e=Ke(t);await rr(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Pf(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function fl(t){return t.map(e=>{var{providerId:n}=e,r=Oi(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rf(t,e){const n=await cl(t,{},async()=>{const r=bn({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=ul(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",al.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Nf(t,e){return Qe(t,"POST","/v2/accounts:revokeToken",ft(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){j(e.idToken,"internal-error"),j(typeof e.idToken<"u","internal-error"),j(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Os(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){j(e.length!==0,"internal-error");const n=Os(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(j(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Rf(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Pt;return r&&(j(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(j(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(j(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pt,this.toJSON())}_performRefresh(){return Be("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t,e){j(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ze{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Oi(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Af(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new bi(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ln(this,this.stsTokenManager.getToken(this.auth,e));return j(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Tf(this,e)}reload(){return Of(this)}_assign(e){this!==e&&(j(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ze(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await rr(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fe(this.auth.app))return Promise.reject(ct(this.auth));const e=await this.getIdToken();return await ln(this,Cf(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,a,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(l=n.tenantId)!==null&&l!==void 0?l:void 0,m=(a=n._redirectEventId)!==null&&a!==void 0?a:void 0,p=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:_,emailVerified:k,isAnonymous:P,providerData:T,stsTokenManager:C}=n;j(_&&C,e,"internal-error");const I=Pt.fromJSON(this.name,C);j(typeof _=="string",e,"internal-error"),et(d,e.name),et(g,e.name),j(typeof k=="boolean",e,"internal-error"),j(typeof P=="boolean",e,"internal-error"),et(v,e.name),et(y,e.name),et(b,e.name),et(m,e.name),et(p,e.name),et(w,e.name);const O=new ze({uid:_,auth:e,email:g,emailVerified:k,displayName:d,isAnonymous:P,photoURL:y,phoneNumber:v,tenantId:b,stsTokenManager:I,createdAt:p,lastLoginAt:w});return T&&Array.isArray(T)&&(O.providerData=T.map(R=>Object.assign({},R))),m&&(O._redirectEventId=m),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new Pt;i.updateFromServerResponse(n);const s=new ze({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await rr(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];j(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?fl(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,l=new Pt;l.updateFromIdToken(r);const a=new ze({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new bi(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(a,c),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new Map;function He(t){Ge(t instanceof Function,"Expected a class definition");let e=Ps.get(t);return e?(Ge(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ps.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hl.type="NONE";const Rs=hl;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(t,e,n){return`firebase:${t}:${e}:${n}`}class Rt{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Wn(this.userKey,i.apiKey,s),this.fullPersistenceKey=Wn("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ze._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Rt(He(Rs),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||He(Rs);const o=Wn(r,e.config.apiKey,e.name);let l=null;for(const c of n)try{const u=await c._get(o);if(u){const d=ze._fromJSON(e,u);c!==s&&(l=d),s=c;break}}catch{}const a=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!a.length?new Rt(s,e,r):(s=a[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Rt(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pl(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gl(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vl(e))return"Blackberry";if(yl(e))return"Webos";if(Mi(e))return"Safari";if((e.includes("chrome/")||ml(e))&&!e.includes("edge/"))return"Chrome";if(bl(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function gl(t=de()){return/firefox\//i.test(t)}function Mi(t=de()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ml(t=de()){return/crios\//i.test(t)}function pl(t=de()){return/iemobile/i.test(t)}function bl(t=de()){return/android/i.test(t)}function vl(t=de()){return/blackberry/i.test(t)}function yl(t=de()){return/webos/i.test(t)}function xr(t=de()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Mf(t=de()){var e;return xr(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Df(){return Xu()&&document.documentMode===10}function wl(t=de()){return xr(t)||bl(t)||yl(t)||vl(t)||/windows phone/i.test(t)||pl(t)}function Lf(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(t,e=[]){let n;switch(t){case"Browser":n=Ns(de());break;case"Worker":n=`${Ns(de())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vn}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const a=e(s);o(a)}catch(a){l(a)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uf(t,e={}){return Qe(t,"GET","/v2/passwordPolicy",ft(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff=6;class Bf{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Ff,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=(n=a.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),a.isValid&&(a.isValid=(r=a.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),a.isValid&&(a.isValid=(i=a.containsLowercaseLetter)!==null&&i!==void 0?i:!0),a.isValid&&(a.isValid=(s=a.containsUppercaseLetter)!==null&&s!==void 0?s:!0),a.isValid&&(a.isValid=(o=a.containsNumericCharacter)!==null&&o!==void 0?o:!0),a.isValid&&(a.isValid=(l=a.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),a}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ms(this),this.idTokenSubscription=new Ms(this),this.beforeStateQueue=new jf(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ol,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=He(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Rt.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await dl(this,{idToken:e}),r=await ze._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Fe(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i?._redirectEventId,a=await this.tryRedirectSignIn(e);(!o||o===l)&&a?.user&&(i=a.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return j(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await rr(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wf()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fe(this.app))return Promise.reject(ct(this));const n=e?Ke(e):null;return n&&j(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&j(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fe(this.app)?Promise.reject(ct(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fe(this.app)?Promise.reject(ct(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(He(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Uf(this),n=new Bf(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Nf(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&He(e)||this._popupRedirectResolver;j(n,this,"argument-error"),this.redirectPersistenceManager=await Rt.create(this,[He(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(j(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const a=e.addObserver(n,r,i);return()=>{o=!0,a()}}else{const a=e.addObserver(n);return()=>{o=!0,a()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_l(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&bf(`Error while retrieving App Check token: ${n.error}`),n?.token}}function ht(t){return Ke(t)}class Ms{constructor(e){this.auth=e,this.observer=null,this.addObserver=od(n=>this.observer=n)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kr={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hf(t){kr=t}function xl(t){return kr.loadJS(t)}function Vf(){return kr.recaptchaEnterpriseScript}function Wf(){return kr.gapiScript}function Gf(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const qf="recaptcha-enterprise",Jf="NO_RECAPTCHA";class Kf{constructor(e){this.type=qf,this.auth=ht(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{If(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(a=>{if(a.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new $f(a);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(a=>{l(a)})})}function i(s,o,l){const a=window.grecaptcha;As(a)?a.enterprise.ready(()=>{a.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(Jf)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&As(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let a=Vf();a.length!==0&&(a+=l),xl(a).then(()=>{i(l,s,o)}).catch(c=>{o(c)})}}).catch(l=>{o(l)})})}}async function Ds(t,e,n,r=!1){const i=new Kf(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function ir(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Ds(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Ds(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(t,e){const n=tl(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(er(s,e??{}))return i;Oe(i,"already-initialized")}return n.initialize({options:e})}function Zf(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(He);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Yf(t,e,n){const r=ht(t);j(r._canInitEmulator,r,"emulator-config-failed"),j(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=kl(e),{host:o,port:l}=Xf(e),a=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${a}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),eh()}function kl(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Xf(t){const e=kl(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Ls(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Ls(o)}}}function Ls(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function eh(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Be("not implemented")}_getIdTokenResponse(e){return Be("not implemented")}_linkToIdToken(e,n){return Be("not implemented")}_getReauthenticationResolver(e){return Be("not implemented")}}async function th(t,e){return Qe(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nh(t,e){return _r(t,"POST","/v1/accounts:signInWithPassword",ft(t,e))}async function Sl(t,e){return Qe(t,"POST","/v1/accounts:sendOobCode",ft(t,e))}async function rh(t,e){return Sl(t,e)}async function ih(t,e){return Sl(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sh(t,e){return _r(t,"POST","/v1/accounts:signInWithEmailLink",ft(t,e))}async function oh(t,e){return _r(t,"POST","/v1/accounts:signInWithEmailLink",ft(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an extends Di{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new an(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new an(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ir(e,n,"signInWithPassword",nh);case"emailLink":return sh(e,{email:this._email,oobCode:this._password});default:Oe(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ir(e,r,"signUpPassword",th);case"emailLink":return oh(e,{idToken:n,email:this._email,oobCode:this._password});default:Oe(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nt(t,e){return _r(t,"POST","/v1/accounts:signInWithIdp",ft(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh="http://localhost";class xt extends Di{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new xt(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Oe("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Oi(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new xt(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Nt(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Nt(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Nt(e,n)}buildRequest(){const e={requestUri:lh,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=bn(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ch(t){const e=Zt(Yt(t)).link,n=e?Zt(Yt(e)).deep_link_id:null,r=Zt(Yt(t)).deep_link_id;return(r?Zt(Yt(r)).link:null)||r||n||e||t}class Li{constructor(e){var n,r,i,s,o,l;const a=Zt(Yt(e)),c=(n=a.apiKey)!==null&&n!==void 0?n:null,u=(r=a.oobCode)!==null&&r!==void 0?r:null,d=ah((i=a.mode)!==null&&i!==void 0?i:null);j(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=a.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=a.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=a.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=ch(e);try{return new Li(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(){this.providerId=Wt.PROVIDER_ID}static credential(e,n){return an._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Li.parseLink(n);return j(r,"argument-error"),an._fromEmailAndCode(e,r.code,r.tenantId)}}Wt.PROVIDER_ID="password";Wt.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wt.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn extends $l{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt extends wn{constructor(){super("facebook.com")}static credential(e){return xt._fromParams({providerId:nt.PROVIDER_ID,signInMethod:nt.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nt.credentialFromTaggedObject(e)}static credentialFromError(e){return nt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nt.credential(e.oauthAccessToken)}catch{return null}}}nt.FACEBOOK_SIGN_IN_METHOD="facebook.com";nt.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt extends wn{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return xt._fromParams({providerId:rt.PROVIDER_ID,signInMethod:rt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return rt.credentialFromTaggedObject(e)}static credentialFromError(e){return rt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return rt.credential(n,r)}catch{return null}}}rt.GOOGLE_SIGN_IN_METHOD="google.com";rt.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it extends wn{constructor(){super("github.com")}static credential(e){return xt._fromParams({providerId:it.PROVIDER_ID,signInMethod:it.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return it.credentialFromTaggedObject(e)}static credentialFromError(e){return it.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return it.credential(e.oauthAccessToken)}catch{return null}}}it.GITHUB_SIGN_IN_METHOD="github.com";it.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st extends wn{constructor(){super("twitter.com")}static credential(e,n){return xt._fromParams({providerId:st.PROVIDER_ID,signInMethod:st.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return st.credentialFromTaggedObject(e)}static credentialFromError(e){return st.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return st.credential(n,r)}catch{return null}}}st.TWITTER_SIGN_IN_METHOD="twitter.com";st.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ze._fromIdTokenResponse(e,r,i),o=js(r);return new Ft({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=js(r);return new Ft({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function js(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends dt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,sr.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new sr(e,n,r,i)}}function Il(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?sr._fromErrorAndOperation(t,s,e,r):s})}async function uh(t,e,n=!1){const r=await ln(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ft._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dh(t,e,n=!1){const{auth:r}=t;if(Fe(r.app))return Promise.reject(ct(r));const i="reauthenticate";try{const s=await ln(t,Il(r,i,e,t),n);j(s.idToken,r,"internal-error");const o=Ni(s.idToken);j(o,r,"internal-error");const{sub:l}=o;return j(t.uid===l,r,"user-mismatch"),Ft._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Oe(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(t,e,n=!1){if(Fe(t.app))return Promise.reject(ct(t));const r="signIn",i=await Il(t,r,e),s=await Ft._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function fh(t,e){return Cl(ht(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(t,e,n){var r;j(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),j(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(j(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(j(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hh(t){const e=ht(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ji(t,e,n){const r=ht(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Tl(r,i,n),await ir(r,i,"getOobCode",rh)}function gh(t,e,n){return Fe(t.app)?Promise.reject(ct(t)):fh(Ke(t),Wt.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&hh(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mh(t,e,n){const r=ht(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,l){j(l.handleCodeInApp,r,"argument-error"),l&&Tl(r,o,l)}s(i,n),await ir(r,i,"getOobCode",ih)}function ph(t,e,n,r){return Ke(t).onIdTokenChanged(e,n,r)}function bh(t,e,n){return Ke(t).beforeAuthStateChanged(e,n)}function vh(t,e,n,r){return Ke(t).onAuthStateChanged(e,n,r)}function El(t){return Ke(t).signOut()}const or="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(or,"1"),this.storage.removeItem(or),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(){const t=de();return Mi(t)||xr(t)}const wh=1e3,_h=10;class Ol extends Al{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=yh()&&Lf(),this.fallbackToPolling=wl(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,a)=>{this.notifyListeners(o,a)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Df()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,_h):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},wh)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ol.type="LOCAL";const xh=Ol;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl extends Al{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Pl.type="SESSION";const Rl=Pl;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Sr(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async c=>c(n.origin,s)),a=await kh(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:a})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sr.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,a)=>{const c=Ui("",20);i.port1.start();const u=setTimeout(()=>{a(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const g=d;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(u),clearTimeout(s),a(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(){return window}function $h(t){Le().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(){return typeof Le().WorkerGlobalScope<"u"&&typeof Le().importScripts=="function"}async function Ih(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ch(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Th(){return Nl()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml="firebaseLocalStorageDb",Eh=1,lr="firebaseLocalStorage",Dl="fbase_key";class _n{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $r(t,e){return t.transaction([lr],e?"readwrite":"readonly").objectStore(lr)}function Ah(){const t=indexedDB.deleteDatabase(Ml);return new _n(t).toPromise()}function vi(){const t=indexedDB.open(Ml,Eh);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(lr,{keyPath:Dl})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(lr)?e(r):(r.close(),await Ah(),e(await vi()))})})}async function Us(t,e,n){const r=$r(t,!0).put({[Dl]:e,value:n});return new _n(r).toPromise()}async function Oh(t,e){const n=$r(t,!1).get(e),r=await new _n(n).toPromise();return r===void 0?null:r.value}function Fs(t,e){const n=$r(t,!0).delete(e);return new _n(n).toPromise()}const Ph=800,Rh=3;class Ll{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vi(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Rh)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Nl()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sr._getInstance(Th()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Ih(),!this.activeServiceWorker)return;this.sender=new Sh(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ch()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vi();return await Us(e,or,"1"),await Fs(e,or),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Us(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Oh(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Fs(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=$r(i,!1).getAll();return new _n(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ph)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ll.type="LOCAL";const Nh=Ll;new yn(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(t,e){return e?He(e):(j(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Di{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Nt(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Nt(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Nt(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Dh(t){return Cl(t.auth,new Fi(t),t.bypassAuthState)}function Lh(t){const{auth:e,user:n}=t;return j(n,e,"internal-error"),dh(n,new Fi(t),t.bypassAuthState)}async function jh(t){const{auth:e,user:n}=t;return j(n,e,"internal-error"),uh(n,new Fi(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const a={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(a))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Dh;case"linkViaPopup":case"linkViaRedirect":return jh;case"reauthViaPopup":case"reauthViaRedirect":return Lh;default:Oe(this.auth,"internal-error")}}resolve(e){Ge(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ge(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new yn(2e3,1e4);class Et extends jl{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Et.currentPopupAction&&Et.currentPopupAction.cancel(),Et.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return j(e,this.auth,"internal-error"),e}async onExecution(){Ge(this.filter.length===1,"Popup operations only handle one event");const e=Ui();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(De(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(De(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Et.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(De(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Uh.get())};e()}}Et.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh="pendingRedirect",Gn=new Map;class Bh extends jl{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Gn.get(this.auth._key());if(!e){try{const r=await zh(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gn.set(this.auth._key(),e)}return this.bypassAuthState||Gn.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zh(t,e){const n=Wh(e),r=Vh(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Hh(t,e){Gn.set(t._key(),e)}function Vh(t){return He(t._redirectPersistence)}function Wh(t){return Wn(Fh,t.config.apiKey,t.name)}async function Gh(t,e,n=!1){if(Fe(t.app))return Promise.reject(ct(t));const r=ht(t),i=Mh(r,e),o=await new Bh(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=10*60*1e3;class Jh{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Kh(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Ul(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(De(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qh&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bs(e))}saveEventToCache(e){this.cachedEventUids.add(Bs(e)),this.lastProcessedEventTime=Date.now()}}function Bs(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ul({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Kh(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ul(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qh(t,e={}){return Qe(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yh=/^https?/;async function Xh(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Qh(t);for(const n of e)try{if(eg(n))return}catch{}Oe(t,"unauthorized-domain")}function eg(t){const e=pi(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Yh.test(n))return!1;if(Zh.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg=new yn(3e4,6e4);function zs(){const t=Le().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function ng(t){return new Promise((e,n)=>{var r,i,s;function o(){zs(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zs(),n(De(t,"network-request-failed"))},timeout:tg.get()})}if(!((i=(r=Le().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Le().gapi)===null||s===void 0)&&s.load)o();else{const l=Gf("iframefcb");return Le()[l]=()=>{gapi.load?o():n(De(t,"network-request-failed"))},xl(`${Wf()}?onload=${l}`).catch(a=>n(a))}}).catch(e=>{throw qn=null,e})}let qn=null;function rg(t){return qn=qn||ng(t),qn}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig=new yn(5e3,15e3),sg="__/auth/iframe",og="emulator/auth/iframe",lg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ag=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cg(t){const e=t.config;j(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ri(e,og):`https://${t.config.authDomain}/${sg}`,r={apiKey:e.apiKey,appName:t.name,v:vn},i=ag.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${bn(r).slice(1)}`}async function ug(t){const e=await rg(t),n=Le().gapi;return j(n,t,"internal-error"),e.open({where:document.body,url:cg(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lg,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=De(t,"network-request-failed"),l=Le().setTimeout(()=>{s(o)},ig.get());function a(){Le().clearTimeout(l),i(r)}r.ping(a).then(a,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fg=500,hg=600,gg="_blank",mg="http://localhost";class Hs{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pg(t,e,n,r=fg,i=hg){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const a=Object.assign(Object.assign({},dg),{width:r.toString(),height:i.toString(),top:s,left:o}),c=de().toLowerCase();n&&(l=ml(c)?gg:n),gl(c)&&(e=e||mg,a.scrollbars="yes");const u=Object.entries(a).reduce((g,[v,y])=>`${g}${v}=${y},`,"");if(Mf(c)&&l!=="_self")return bg(e||"",l),new Hs(null);const d=window.open(e||"",l,u);j(d,t,"popup-blocked");try{d.focus()}catch{}return new Hs(d)}function bg(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="__/auth/handler",yg="emulator/auth/handler",wg=encodeURIComponent("fac");async function Vs(t,e,n,r,i,s){j(t.config.authDomain,t,"auth-domain-config-required"),j(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:vn,eventId:i};if(e instanceof $l){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",sd(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof wn){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const u of Object.keys(l))l[u]===void 0&&delete l[u];const a=await t._getAppCheckToken(),c=a?`#${wg}=${encodeURIComponent(a)}`:"";return`${_g(t)}?${bn(l).slice(1)}${c}`}function _g({config:t}){return t.emulator?Ri(t,yg):`https://${t.authDomain}/${vg}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="webStorageSupport";class xg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rl,this._completeRedirectFn=Gh,this._overrideRedirectResult=Hh}async _openPopup(e,n,r,i){var s;Ge((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Vs(e,n,r,pi(),i);return pg(e,o,Ui())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Vs(e,n,r,pi(),i);return $h(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ge(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await ug(e),r=new Jh(e);return n.register("authEvent",i=>(j(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wr,{type:Wr},i=>{var s;const o=(s=i?.[0])===null||s===void 0?void 0:s[Wr];o!==void 0&&n(!!o),Oe(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Xh(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return wl()||Mi()||xr()}}const kg=xg;var Ws="@firebase/auth",Gs="1.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ig(t){sn(new Ut("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;j(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const a={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_l(t)},c=new zf(r,i,s,a);return Zf(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),sn(new Ut("auth-internal",e=>{const n=ht(e.getProvider("auth").getImmediate());return(r=>new Sg(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ot(Ws,Gs,$g(t)),Ot(Ws,Gs,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg=5*60,Tg=Zo("authIdTokenMaxAge")||Cg;let qs=null;const Eg=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Tg)return;const i=n?.token;qs!==i&&(qs=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Ag(t=of()){const e=tl(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Qf(t,{popupRedirectResolver:kg,persistence:[Nh,xh,Rl]}),r=Zo("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=Eg(s.toString());bh(n,o,()=>o(n.currentUser)),ph(n,l=>o(l))}}const i=Ju("auth");return i&&Yf(n,`http://${i}`),n}function Og(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Hf({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=De("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Og().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ig("Browser");var Pg="firebase",Rg="10.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ot(Pg,Rg,"app");function Ng(){const[t,e]=S(!1);return{multiuser:t,setMultiuser:e}}const pe=te(Ng),Mg={apiKey:"AIzaSyC9oGhGaax8DlSh-w9pC3TCeIJZzxAw-XU",authDomain:"oakvar-app.firebaseapp.com",projectId:"oakvar-app",storageBucket:"oakvar-app.appspot.com",messagingSenderId:"1070951630158",appId:"1:1070951630158:web:885d40bf4a42a1fc4cca1f",measurementId:"G-0PV5B1ZF6B"},Dg=nl(Mg);function Lg(){const{multiuser:t}=pe,[e,n]=S(null),{systemSetupNeeded:r}=wr;return X(function(){if(t()==!0||r())try{n(Ag(Dg))}catch(i){console.error(i)}}),{auth:e,sendSignInLinkToEmail:mh,sendPasswordResetEmail:ji}}const Ir=te(Lg);function jg(){const[t,e]=S("home");return{tabName:t,setTabName:e}}const gt=te(jg);function Ug(){const[t,e]=S(!1),[n,r]=S(!1),[i,s]=S(!1),{email:o,setEmail:l,setPassword:a}=Je,{serverUrl:c,withCredentials:u}=q,{setTabName:d}=gt,{auth:g}=Ir,[v,y]=S(!1);function b(_){let k=_.email;if(k)return k;for(const P of _.providerData)if(k=P.email,k)return k;return null}function m(_){const k=b(_);if(!k){G({response:{data:"No email was found in login data."}});return}L.post(c+"/server/loginsuccess",{email:k},{withCredentials:u}).then(function(P){l(P.data.email),s(P.data.admin),e(!0),r(!1)}).catch(function(P){G(P)})}function p(){El(g()).catch(function(_){G(_)}),L.get(c+"/server/logout",{withCredentials:u}).then(function(_){_.status==200&&(e(!1),l(null),a(null),d("home"),s(!1))}).catch(function(_){G(_)})}function w(_){ji(g(),o()).then(function(k){_(!0)}).catch(function(k){G(k)})}return{logged:t,setLogged:e,admin:i,setAdmin:s,showAuth:n,setShowAuth:r,afterLogin:m,afterLogout:p,reloginChecked:v,setReloginChecked:y,resetPassword:w}}const he=te(Ug);function Fg(){const[t,e]=S(!0);return{appLoading:t,setAppLoading:e}}const Cr=te(Fg);var Bg=x("<a id=tabhead_{props.tabName} href=# class=tabhead>");function Gt(t){const{tabName:e,setTabName:n}=gt;return(()=>{var r=Bg();return r.$$click=function(i){t.callback?t.callback(i):n(t.tabName)},h(r,()=>t.svg,null),h(r,()=>t.title,null),A(i=>{var s=e()==t.tabName,o=!!t.disable,l=!!t.disable,a=!t.disable;return s!==i.e&&r.classList.toggle("selected",i.e=s),o!==i.t&&r.classList.toggle("pointer-events-none",i.t=o),l!==i.a&&r.classList.toggle("text-gray-400",i.a=l),a!==i.o&&r.classList.toggle("text-gray-600",i.o=a),i},{e:void 0,t:void 0,a:void 0,o:void 0}),r})()}F(["click"]);var zg=x("<svg stroke-width=0>");function J(t,e){const n=ns(t.a,e),[r,i]=Ka(n,["src"]),[s,o]=S(""),l=ae(()=>e.title?`${t.c}<title>${e.title}</title>`:t.c);return X(()=>o(l())),nn(()=>{o("")}),(()=>{var a=zg();return ic(a,ns({get stroke(){return t.a?.stroke},get color(){return e.color||"currentColor"},get fill(){return e.color||"currentColor"},get style(){return{...e.style,overflow:"visible"}}},i,{get height(){return e.size||"1em"},get width(){return e.size||"1em"},xmlns:"http://www.w3.org/2000/svg",get innerHTML(){return s()}}),!0),h(a,()=>ac),a})()}function Hg(t){return J({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"/>'},t)}function Vg(t){return J({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"/>'},t)}function Wg(t){return J({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"/>'},t)}function Gg(t){return J({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"/>'},t)}function xn(t){return J({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m19.5 8.25-7.5 7.5-7.5-7.5"/>'},t)}function qg(t){return J({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15.75 19.5 8.25 12l7.5-7.5"/>'},t)}function Jg(t){return J({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m8.25 4.5 7.5 7.5-7.5 7.5"/>'},t)}function Kg(t){return J({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"/>'},t)}function Qg(t){return J({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>'},t)}function Fl(t){return J({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6 18 18 6M6 6l12 12"/>'},t)}function Zg(){const t=f(Kg,{class:"tabheadicon",color:"rgb(156 163 175)"});return f(Gt,{tabName:"home",title:"Home",svg:t})}function Yg(t){return J({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-arrow-back-up",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 14l-4 -4l4 -4"/><path d="M5 10h11a4 4 0 1 1 0 8h-1"/>'},t)}function Xg(t){return J({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-file-upload",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 3v4a1 1 0 0 0 1 1h4"/><path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"/><path d="M12 11v6"/><path d="M9.5 13.5l2.5 -2.5l2.5 2.5"/>'},t)}function em(t){return J({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-server-off",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 12h-6a3 3 0 0 1 -3 -3v-2c0 -1.083 .574 -2.033 1.435 -2.56m3.565 -.44h10a3 3 0 0 1 3 3v2a3 3 0 0 1 -3 3h-2"/><path d="M16 12h2a3 3 0 0 1 3 3v2m-1.448 2.568a2.986 2.986 0 0 1 -1.552 .432h-12a3 3 0 0 1 -3 -3v-2a3 3 0 0 1 3 -3h6"/><path d="M7 8v.01"/><path d="M7 16v.01"/><path d="M3 3l18 18"/>'},t)}function tm(){const{logged:t}=he,{multiuser:e}=pe,n=f(Xg,{class:"tabheadicon",color:"rgb(156 163 175)"});return f(Gt,{tabName:"submit",title:"Analyze",svg:n,get disable(){return ae(()=>!!e())()&&!t()}})}function nm(t){return J({a:{viewBox:"0 0 1024 1024"},c:'<path d="M518.3 459a8 8 0 0 0-12.6 0l-112 141.7a7.98 7.98 0 0 0 6.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z"/><path d="M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0 1 52.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 0 1-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"/>'},t)}function rm(t){return J({a:{viewBox:"0 0 1024 1024"},c:'<path d="M920 760H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-568H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM216 712H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h72.4v20.5h-35.7c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h35.7V838H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4V716c0-2.2-1.8-4-4-4zM100 188h38v120c0 2.2 1.8 4 4 4h40c2.2 0 4-1.8 4-4V152c0-4.4-3.6-8-8-8h-78c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4zm116 240H100c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4h68.4l-70.3 77.7a8.3 8.3 0 0 0-2.1 5.4V592c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4v-36c0-2.2-1.8-4-4-4h-68.4l70.3-77.7a8.3 8.3 0 0 0 2.1-5.4V432c0-2.2-1.8-4-4-4z"/>'},t)}function im(){const{logged:t}=he,{multiuser:e}=pe,n=f(rm,{class:"tabheadicon",color:"rgb(156 163 175)"});return f(Gt,{tabName:"jobs",title:"Results",svg:n,get disable(){return ae(()=>!!e())()&&!t()}})}function sm(t){return J({a:{viewBox:"0 0 24 24"},c:'<path fill="currentColor" d="M21 13.242V20h1v2H2v-2h1v-6.758A4.496 4.496 0 0 1 1 9.5c0-.827.224-1.624.633-2.303L4.345 2.5a1 1 0 0 1 .866-.5H18.79a1 1 0 0 1 .866.5l2.703 4.682c.418.694.642 1.49.642 2.318 0 1.56-.794 2.935-2 3.742Zm-2 .73a4.496 4.496 0 0 1-3.75-1.36A4.496 4.496 0 0 1 12 14.001a4.496 4.496 0 0 1-3.25-1.387A4.496 4.496 0 0 1 5 13.973V20h14v-6.027ZM5.789 4 3.356 8.213a2.5 2.5 0 1 0 4.466 2.216c.335-.837 1.52-.837 1.856 0a2.5 2.5 0 0 0 4.644 0c.335-.837 1.52-.837 1.856 0a2.5 2.5 0 1 0 4.457-2.232L18.21 4H5.79Z"/>'},t)}function om(t){return J({a:{viewBox:"0 0 24 24"},c:'<path fill="currentColor" d="M12 2c5.523 0 10 4.477 10 10 0 2.136-.67 4.116-1.811 5.741L17 12h3a8 8 0 1 0-2.46 5.772l.998 1.795A9.961 9.961 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2Zm0 5a3 3 0 0 1 3 3v1h1v5H8v-5h1v-1a3 3 0 0 1 3-3Zm0 2a1 1 0 0 0-.993.883L11 10v1h2v-1a1 1 0 0 0-.883-.993L12 9Z"/>'},t)}function lm(t){return J({a:{viewBox:"0 0 24 24"},c:'<path fill="currentColor" d="M10 11V8l5 4-5 4v-3H1v-2h9Zm-7.542 4h2.124A8.003 8.003 0 0 0 20 12 8 8 0 0 0 4.582 9H2.458C3.732 4.943 7.522 2 12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10c-4.478 0-8.268-2.943-9.542-7Z"/>'},t)}function am(t){return J({a:{viewBox:"0 0 24 24"},c:'<path fill="currentColor" d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2a9.985 9.985 0 0 1 8 4h-2.71a8 8 0 1 0 .001 12h2.71A9.985 9.985 0 0 1 12 22Zm7-6v-3h-8v-2h8V8l5 4-5 4Z"/>'},t)}function cm(){const t=f(sm,{class:"tabheadicon",color:"rgb(156 163 175)"});return f(Gt,{tabName:"store",title:"Store",svg:t})}var um=x('<svg class=tabheadicon xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=2 stroke=currentColor><path stroke-linecap=round stroke-linejoin=round d="M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75">');function dm(){const t=um();return f(Gt,{tabName:"system",title:"System",svg:t})}var fm=x('<div class="fixed z-10"aria-labelledby=modal-title role=dialog aria-modal=true><div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"></div><div class="fixed inset-0 z-10 overflow-y-auto"><div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"><div class="relative transform overflow-hidden rounded-lg bg-white px-4 pt-5 pb-4 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-sm sm:p-6"><div><div class="mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-green-100"><svg class="h-6 w-6 text-green-600"xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor aria-hidden=true><path stroke-linecap=round stroke-linejoin=round d="M4.5 12.75l6 6 9-13.5"></path></svg></div><div class="mt-3 text-center sm:mt-5"><h3 class="text-lg font-medium leading-6 text-gray-900"></h3><div class=mt-2><p class="text-sm text-gray-500"></p></div></div></div><div class="mt-5 sm:mt-6"><button type=button class="inline-flex w-full justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:text-sm">Dismiss');function Tr(t){return(()=>{var e=fm(),n=e.firstChild,r=n.nextSibling,i=r.firstChild,s=i.firstChild,o=s.firstChild,l=o.firstChild,a=l.nextSibling,c=a.firstChild,u=c.nextSibling,d=u.firstChild,g=o.nextSibling,v=g.firstChild;return h(c,()=>t.title),h(d,()=>t.text),Lt(v,"click",t.callback,!0),e})()}F(["click"]);function hm(){const[t,e]=S(null),{serverUrl:n,withCredentials:r}=q;i();function i(){L.get(n+"/store/storeurl").then(function(s){var o=s.data.store_url;L.get(n+"/system/ez").then(function(l){var a=l.data.email,c=l.data.ez,u=l.data.idToken;c==""?e(!1):(document.cookie=document.cookie+"; ez="+c,L({method:"post",url:o+"/ez",data:{email:a,ez:c,idToken:u},withCredentials:r}).then(function(d){(d.data="ttbets")?e(!0):e(!1)}).catch(function(d){G(d),e(!1)}))}).catch(function(l){G(l),e(!1)})})}return{enterprise:t,setEnterprise:e}}const gm=te(hm);var mm=x('<div class="px-2 text-xs text-gray-600 truncate cursor-default">'),pm=x('<div><div class=flex><a href=# class=tabhead title=Logout></a><a href=# class=tabhead title="Send a password reset email.">'),bm=x('<div class="px-2 pb-8">');function vm(){const{logged:t,showAuth:e,setShowAuth:n,afterLogout:r,resetPassword:i}=he,{multiuser:s}=pe,{email:o}=Je,{enterprise:l}=gm,[a,c]=S(!1),[u,d]=S(null),[g,v]=S(null),[y,b]=S(!1),m=f(lm,{class:"tabheadicon",color:"rgb(156 163 175)"}),p=f(am,{class:"tabheadicon",color:"rgb(156 163 175)"}),w=f(om,{class:"tabheadicon",color:"rgb(156 163 175)"});let _=()=>{b(!1)};X(function(){a()==!0&&(d("Success"),v("Please check your inbox for a password reset email."),b(!0))});function k(C){n(!e())}function P(C){r()}function T(C){i(c)}return(()=>{var C=bm();return h(C,f(D,{get when(){return ae(()=>!!s())()&&l()!=null},get children(){return f(D,{get when(){return t()},get fallback(){return f(Gt,{tabName:"",title:"Sign in",svg:m,callback:k})},get children(){var I=pm(),O=I.firstChild,R=O.firstChild,N=R.nextSibling;return h(I,f(D,{get when(){return o()},get children(){var z=mm();return h(z,o),A(()=>V(z,"title",o())),z}}),O),R.$$click=P,h(R,p),N.$$click=T,h(N,w),I}})}}),null),h(C,f(D,{get when(){return y()},get children(){return f(dc,{get children(){return f(Tr,{get title(){return u()},get text(){return g()},callback:_})}})}}),null),C})()}F(["click"]);var ym=x('<div id=verdiv class="text-xs absolute left-4 bottom-2 text-gray-400"><span class=text-xs>OakVar </span><span class="curverspan text-xs">');const{serverUrl:Js}=q;function wm(){const[t]=un(e);async function e(){if(Js==null)return null;try{return(await L.get(Js+"/submit/pkgver")).data.pkg_ver}catch(n){console.error(n),G(n)}}return f(D,{get when(){return t()!=null},get children(){var n=ym(),r=n.firstChild;return r.firstChild,h(r,t,null),n}})}const yi=Symbol("store-raw"),Mt=Symbol("store-node"),Ue=Symbol("store-has"),Bl=Symbol("store-self");function zl(t){let e=t[Ee];if(!e&&(Object.defineProperty(t,Ee,{value:e=new Proxy(t,km)}),!Array.isArray(t))){const n=Object.keys(t),r=Object.getOwnPropertyDescriptors(t);for(let i=0,s=n.length;i<s;i++){const o=n[i];r[o].get&&Object.defineProperty(t,o,{enumerable:r[o].enumerable,get:r[o].get.bind(e)})}}return e}function ut(t){let e;return t!=null&&typeof t=="object"&&(t[Ee]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function Bt(t,e=new Set){let n,r,i,s;if(n=t!=null&&t[yi])return n;if(!ut(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let o=0,l=t.length;o<l;o++)i=t[o],(r=Bt(i,e))!==i&&(t[o]=r)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const o=Object.keys(t),l=Object.getOwnPropertyDescriptors(t);for(let a=0,c=o.length;a<c;a++)s=o[a],!l[s].get&&(i=t[s],(r=Bt(i,e))!==i&&(t[s]=r))}return t}function ar(t,e){let n=t[e];return n||Object.defineProperty(t,e,{value:n=Object.create(null)}),n}function cn(t,e,n){if(t[e])return t[e];const[r,i]=S(n,{equals:!1,internal:!0});return r.$=i,t[e]=r}function _m(t,e){const n=Reflect.getOwnPropertyDescriptor(t,e);return!n||n.get||!n.configurable||e===Ee||e===Mt||(delete n.value,delete n.writable,n.get=()=>t[Ee][e]),n}function Hl(t){ti()&&cn(ar(t,Mt),Bl)()}function xm(t){return Hl(t),Reflect.ownKeys(t)}const km={get(t,e,n){if(e===yi)return t;if(e===Ee)return n;if(e===ei)return Hl(t),n;const r=ar(t,Mt),i=r[e];let s=i?i():t[e];if(e===Mt||e===Ue||e==="__proto__")return s;if(!i){const o=Object.getOwnPropertyDescriptor(t,e);ti()&&(typeof s!="function"||t.hasOwnProperty(e))&&!(o&&o.get)&&(s=cn(r,e,s)())}return ut(s)?zl(s):s},has(t,e){return e===yi||e===Ee||e===ei||e===Mt||e===Ue||e==="__proto__"?!0:(ti()&&cn(ar(t,Ue),e)(),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:xm,getOwnPropertyDescriptor:_m};function Se(t,e,n,r=!1){if(!r&&t[e]===n)return;const i=t[e],s=t.length;n===void 0?(delete t[e],t[Ue]&&t[Ue][e]&&i!==void 0&&t[Ue][e].$()):(t[e]=n,t[Ue]&&t[Ue][e]&&i===void 0&&t[Ue][e].$());let o=ar(t,Mt),l;if((l=cn(o,e,i))&&l.$(()=>n),Array.isArray(t)&&t.length!==s){for(let a=t.length;a<s;a++)(l=o[a])&&l.$();(l=cn(o,"length",s))&&l.$(t.length)}(l=o[Bl])&&l.$()}function Vl(t,e){const n=Object.keys(e);for(let r=0;r<n.length;r+=1){const i=n[r];Se(t,i,e[i])}}function Sm(t,e){if(typeof e=="function"&&(e=e(t)),e=Bt(e),Array.isArray(e)){if(t===e)return;let n=0,r=e.length;for(;n<r;n++){const i=e[n];t[n]!==i&&Se(t,n,i)}Se(t,"length",r)}else Vl(t,e)}function Xt(t,e,n=[]){let r,i=t;if(e.length>1){r=e.shift();const o=typeof r,l=Array.isArray(t);if(Array.isArray(r)){for(let a=0;a<r.length;a++)Xt(t,[r[a]].concat(e),n);return}else if(l&&o==="function"){for(let a=0;a<t.length;a++)r(t[a],a)&&Xt(t,[a].concat(e),n);return}else if(l&&o==="object"){const{from:a=0,to:c=t.length-1,by:u=1}=r;for(let d=a;d<=c;d+=u)Xt(t,[d].concat(e),n);return}else if(e.length>1){Xt(t[r],e,[r].concat(n));return}i=t[r],n=[r].concat(n)}let s=e[0];typeof s=="function"&&(s=s(i,n),s===i)||r===void 0&&s==null||(s=Bt(s),r===void 0||ut(i)&&ut(s)&&!Array.isArray(s)?Vl(i,s):Se(t,r,s))}function Te(...[t,e]){const n=Bt(t||{}),r=Array.isArray(n),i=zl(n);function s(...o){ja(()=>{r&&o.length===1?Sm(n,o[0]):Xt(n,o)})}return[i,s]}const wi=Symbol("store-root");function Tt(t,e,n,r,i){const s=e[n];if(t===s)return;const o=Array.isArray(t);if(n!==wi&&(!ut(t)||!ut(s)||o!==Array.isArray(s)||i&&t[i]!==s[i])){Se(e,n,t);return}if(o){if(t.length&&s.length&&(!r||i&&t[0]&&t[0][i]!=null)){let c,u,d,g,v,y,b,m;for(d=0,g=Math.min(s.length,t.length);d<g&&(s[d]===t[d]||i&&s[d]&&t[d]&&s[d][i]===t[d][i]);d++)Tt(t[d],s,d,r,i);const p=new Array(t.length),w=new Map;for(g=s.length-1,v=t.length-1;g>=d&&v>=d&&(s[g]===t[v]||i&&s[d]&&t[d]&&s[g][i]===t[v][i]);g--,v--)p[v]=s[g];if(d>v||d>g){for(u=d;u<=v;u++)Se(s,u,t[u]);for(;u<t.length;u++)Se(s,u,p[u]),Tt(t[u],s,u,r,i);s.length>t.length&&Se(s,"length",t.length);return}for(b=new Array(v+1),u=v;u>=d;u--)y=t[u],m=i&&y?y[i]:y,c=w.get(m),b[u]=c===void 0?-1:c,w.set(m,u);for(c=d;c<=g;c++)y=s[c],m=i&&y?y[i]:y,u=w.get(m),u!==void 0&&u!==-1&&(p[u]=s[c],u=b[u],w.set(m,u));for(u=d;u<t.length;u++)u in p?(Se(s,u,p[u]),Tt(t[u],s,u,r,i)):Se(s,u,t[u])}else for(let c=0,u=t.length;c<u;c++)Tt(t[c],s,c,r,i);s.length>t.length&&Se(s,"length",t.length);return}const l=Object.keys(t);for(let c=0,u=l.length;c<u;c++)Tt(t[l[c]],s,l[c],r,i);const a=Object.keys(s);for(let c=0,u=a.length;c<u;c++)t[a[c]]===void 0&&Se(s,a[c],void 0)}function ie(t,e={}){const{merge:n,key:r="id"}=e,i=Bt(t);return s=>{if(!ut(s)||!ut(i))return i;const o=Tt(i,{[wi]:s},wi,n,r);return o===void 0?s:o}}function $m(){const[t,e]=Te({__initial:!0}),[n,r]=S({}),[i,s]=S({}),{serverUrl:o}=q;let l=!1;X(function(){t.__initial==!0&&(e(ie({})),u("false"))});function a(d){return d in t?t[d]:null}function c(d){var g=t;g[d.name]=d}function u(d){l||(l=!0,e(ie({})),L.get(o+"/store/remote?refresh="+d).then(function(g){let v=g.data.data,y=g.data.tagdesc;delete v.aggregator;const b={},m="input coversion",p="reporting";for(const w in v){const _=v[w];if(_.type=="group"&&(_.expandGroup=!1),_.groups.length>0)for(const k of _.groups)v[k].groupModuleNames==null&&(v[k].groupModuleNames=[]),v[k].groupModuleNames.push(w);if(_.tags&&_.tags.length>0)for(const k of _.tags)k!="reporters"&&k!="input/output"&&(b[k]=y[k]||k);else _.tags=[];_.type=="converter"?(b[m]="Input format conversion modules",_.tags.push(m)):_.type=="reporter"&&(b[p]="Report generation modules",_.tags.push(p))}b["no tag"]="No tag provided",s(b),e(v),l=!1}).catch(function(g){console.error(g)}))}return{remoteModules:t,setRemoteModules:e,getRemoteModule:a,addRemoteModule:c,loadAllRemoteModules:u,remoteModuleLogos:n,setRemoteModuleLogos:r,remoteTags:i}}const be=te($m);function kn(t){return J({a:{fill:"currentColor",viewBox:"0 0 16 16"},c:'<path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"/>'},t)}function Im(t){return J({a:{fill:"currentColor",viewBox:"0 0 16 16"},c:'<path fill-rule="evenodd" d="M15.528 2.973a.75.75 0 0 1 .472.696v8.662a.75.75 0 0 1-.472.696l-7.25 2.9a.75.75 0 0 1-.557 0l-7.25-2.9A.75.75 0 0 1 0 12.331V3.669a.75.75 0 0 1 .471-.696L7.443.184l.004-.001.274-.11a.75.75 0 0 1 .558 0l.274.11.004.001 6.971 2.789Zm-1.374.527L8 5.962 1.846 3.5 1 3.839v.4l6.5 2.6v7.922l.5.2.5-.2V6.84l6.5-2.6v-.4l-.846-.339Z"/>'},t)}function Cm(t){return J({a:{fill:"currentColor",viewBox:"0 0 16 16"},c:'<path d="M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5 8 5.961 14.154 3.5 8.186 1.113zM15 4.239l-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923l6.5 2.6zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464L7.443.184z"/>'},t)}function Tm(t){return J({a:{fill:"currentColor",viewBox:"0 0 16 16"},c:'<path d="M8 2a5.53 5.53 0 0 0-3.594 1.342c-.766.66-1.321 1.52-1.464 2.383C1.266 6.095 0 7.555 0 9.318 0 11.366 1.708 13 3.781 13h8.906C14.502 13 16 11.57 16 9.773c0-1.636-1.242-2.969-2.834-3.194C12.923 3.999 10.69 2 8 2zm2.354 4.854-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7 8.793l2.646-2.647a.5.5 0 0 1 .708.708z"/>'},t)}function Em(t){return J({a:{fill:"currentColor",viewBox:"0 0 16 16"},c:'<path fill-rule="evenodd" d="M10.354 6.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7 8.793l2.646-2.647a.5.5 0 0 1 .708 0z"/><path d="M4.406 3.342A5.53 5.53 0 0 1 8 2c2.69 0 4.923 2 5.166 4.579C14.758 6.804 16 8.137 16 9.773 16 11.569 14.502 13 12.687 13H3.781C1.708 13 0 11.366 0 9.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383zm.653.757c-.757.653-1.153 1.44-1.153 2.056v.448l-.445.049C2.064 6.805 1 7.952 1 9.318 1 10.785 2.23 12 3.781 12h8.906C13.98 12 15 10.988 15 9.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 4.825 10.328 3 8 3a4.53 4.53 0 0 0-2.941 1.1z"/>'},t)}function Am(t){return J({a:{fill:"currentColor",viewBox:"0 0 16 16"},c:'<path d="M13.545 2.907a13.227 13.227 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.19 12.19 0 0 0-3.658 0 8.258 8.258 0 0 0-.412-.833.051.051 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019c.308-.42.582-.863.818-1.329a.05.05 0 0 0-.01-.059.051.051 0 0 0-.018-.011 8.875 8.875 0 0 1-1.248-.595.05.05 0 0 1-.02-.066.051.051 0 0 1 .015-.019c.084-.063.168-.129.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.052.052 0 0 1 .053.007c.08.066.164.132.248.195a.051.051 0 0 1-.004.085 8.254 8.254 0 0 1-1.249.594.05.05 0 0 0-.03.03.052.052 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.235 13.235 0 0 0 4.001-2.02.049.049 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034 0 0 0-.02-.019Zm-8.198 7.307c-.789 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612Zm5.316 0c-.788 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612Z"/>'},t)}function Om(t){return J({a:{fill:"currentColor",viewBox:"0 0 16 16"},c:'<path d="m11.42 2 3.428 6-3.428 6H4.58L1.152 8 4.58 2h6.84zM4.58 1a1 1 0 0 0-.868.504l-3.428 6a1 1 0 0 0 0 .992l3.428 6A1 1 0 0 0 4.58 15h6.84a1 1 0 0 0 .868-.504l3.429-6a1 1 0 0 0 0-.992l-3.429-6A1 1 0 0 0 11.42 1H4.58z"/><path d="M6.848 5.933a2.5 2.5 0 1 0 2.5 4.33 2.5 2.5 0 0 0-2.5-4.33zm-1.78 3.915a3.5 3.5 0 1 1 6.061-3.5 3.5 3.5 0 0 1-6.062 3.5z"/>'},t)}async function Pm(t){const{serverUrl:e}=q,n=await fetch(e+t).catch(function(r){G(r)});return n==null?{}:n.json()}const Rm="module_option_file__";function Nm(){const[t,e]=Te({__initial:!0}),[n,r]=S({}),{serverUrl:i}=q;X(function(){t.__initial==!0&&(e(ie({})),a("false"))});function s(b){return b in t?t[b]:null}function o(b){var m={...t};m[b.name]=b,e(m)}function l(b){for(const[p,w]of Object.entries(b)){var m=w.conf.module_options;if(m!=null)for(const[_,k]of Object.entries(m))b[_]!=null&&(b[_].moduleOptions==null?b[_].module_options=k:b[_].module_options={...b[_].module_options,...k})}}function a(b){e(ie({})),L.get(i+"/store/local?refresh="+b).then(function(m){var p=m.data;for(var[w,_]of Object.entries(p))if(_.type=="group"&&(_.expandGroup=!1,_.selected=!1),_.groups.length>0)for(const k of _.groups){if(p[k]==null){console.log("Group "+k+" not found for module "+w);continue}p[k].groupModuleNames==null&&(p[k].groupModuleNames=[]),p[k].groupModuleNames.push(w)}l(p),e(ie(p))}).catch(function(m){G(m)})}function c(b){const m=new URLSearchParams({moduleName:b});Pm(i+"/store/addlocal?"+m).then(function(p){o(p)}).catch(function(p){console.log(p)})}function u(b){return b in n()?n()[b]:f(Om,{})}function d(b,m,p,w){t[b].module_options==null&&e(b,"module_options",{}),p.type=="int"?w=parseInt(w):p.type=="float"&&(w=parseFloat(w));const T={value:w,method:p.method,type:p.type};e(b,"module_options",m,T)}function g(b,m){let p={};for(const w in b){const _=b[w];if(_.module_options){p[w]={};for(const k in _.module_options){const P=_.module_options[k];if(P.method=="file"){const T=Rm+w+"__"+k;m.append(T,P.value)}else p[w][k]=P.value}Object.keys(p[w]).length==0&&delete p[w]}}return p}function v(b,m){const p=t[b];if(p&&p.module_options){const w=p.module_options[m];return w||null}else return null}function y(b,m,p,w){var _=b;_!=null&&(_=_.toLowerCase());let k=[];for(const[T,C]of Object.entries(t)){let I=!0;if(p!=null&&(p=="no tag"?C.tags.length>0&&(I=!1):C.tags.indexOf(p)==-1&&(I=!1)),I&&_!=null&&(I=!1,(T.toLowerCase().indexOf(_)>=0||C.title.toLowerCase().indexOf(_)>=0||C.description&&C.description.toLowerCase().indexOf(b)>=0)&&(I=!0)),C.type=="package"&&(I=!1),C.groups.length>0)I=!1;else if(I)if(C.type=="group"){var P=!1;for(const[O,R]of Object.entries(t))if(R.groups.indexOf(T)>=0&&(m.length==0||m.indexOf(R.type)>=0)){P=!0;break}P&&k.push(T);continue}else m.length>0&&m.indexOf(C.type)==-1&&(I=!1);I&&k.push(T)}return w==null||w=="Name"?k.sort():w=="Size"?k.sort((T,C)=>t[C].size-t[T].size):w=="Date"&&k.sort((T,C)=>t[C].publish_time>t[T].publish_time),k}return{localModules:t,setLocalModules:e,getLocalModule:s,addLocalModule:o,loadAllLocalModules:a,localModuleLogos:n,setLocalModuleLogos:r,getLocalModuleLogo:u,setModuleOption:d,getModuleOptions:g,getModuleOption:v,loadOneLocalModule:c,getFilteredLocalModules:y}}const ve=te(Nm),{serverUrl:Gr,withCredentials:qr}=q,{getRemoteModule:Mm}=be;function Dm(){const[t,e]=Te([]),[n,r]=Te({}),{loadAllLocalModules:i}=ve;s(),o();function s(){const{serverUrl:m}=q;L.get(m+"/store/getqueue").then(function(p){e(ie(p.data));let w={...n};for(const _ of t)_ in w||u(_)}).catch(function(p){G(p)})}function o(){const{serverUrl:m}=q;L.get(m+"/store/getinstallstate").then(function(p){let w={...p.data};for(const _ in w){let k=w[_];_ in n&&(k.progress=n[_].progress)}r(ie(w))}).catch(function(p){G(p)})}function l(){return t.length==0?null:t[t.length-1]}function a(m){if(m==null||m in n)return;const p=Mm(m);p!=null&&L.get(Gr+"/store/queueinstall",{params:{module:m,version:p.latest_version},withCredentials:qr}).then(function(w){s(),o()}).catch(function(w){G(w)})}function c(m){l()!=m&&a(m)}function u(m){let p={...n};delete p[m],r(ie(p))}function d(m){L.get(Gr+"/store/unqueue",{params:{module_name:m},withCredentials:qr}).then(function(p){s(),o()}).catch(function(p){G(p)})}function g(m){return t.length==0?!1:t.indexOf(m)>=0}function v(m){L.get(Gr+"/store/uninstall",{params:{moduleName:m},withCredentials:qr}).then(function(p){i()}).catch(function(p){G(p),s()})}function y(m,p){return m==0&&p==0||isNaN(m)||isNaN(p)}function b(m,p,w){const _=parseFloat(p),k=parseFloat(w);if(m=="start")return 5;if(m=="killed"||m=="error"||m=="skip"||m=="finished"||m=="finish")return 100;if(m=="extract_code")return 10;if(m=="extract_data")return 90;if(m=="download_code")return y(_,k)?void 0:_/k*5+5;if(m=="download_data")return y(_,k)?void 0:_/k*75+15}return{installQueue:t,addToInstallQueue:c,removeFromInstallQueue:d,removeFromInstallState:u,inQueue:g,uninstallModule:v,installState:n,setInstallState:r,getInstallProgress:b,fetchInstallQueue:s}}const $t=te(Dm);function Lm(){const[t,e]=S(null);return{systemMsg:t,setSystemMsg:e}}const Wl=te(Lm),jm="connection",Um="setup",Fm="setup_error",Ks="install",Bm="install_error";function zm(){const[t,e]=S(null),[n,r]=S(!1),{fetchInstallQueue:i,installState:s,setInstallState:o,removeFromInstallState:l,getInstallProgress:a}=$t,{wsUrl:c}=q,{setSystemMsg:u}=Wl,[d,g]=S(""),[v,y]=S(null),[b,m]=S(!1),{loadAllLocalModules:p}=ve;let w=0;const _=10;X(function(){t()==null&&setTimeout(function(){e(P())}),b()==!0&&v&&v()});function k(){return d()}function P(){const M=new WebSocket(c);return M.onopen=function(U){r(!0)},M.onclose=function(U){if(w+=1,w>=_){const K={};K.response=void 0,G(K)}else r(!1),setTimeout(function(){e(null)},3e3)},M.onmessage=function(U){const K=JSON.parse(U.data);z(K)},M.onerror=function(U){G(U)},M}function T(M){M=="Logging in..."?g("Logging in..."):M=="Setting up store cache..."?g("Setting up store cache..."):M=="Setting up administrative database..."?g("Setting up administrative database..."):M=="Installing system modules..."?g("Installing system modules..."):M.startsWith("Installing")||M.startsWith("Installed")||M.includes("already exists")?g(M):M=="Done setting up the system."&&(g("Done setting up the system."),m(!0))}function C(M){let U=[];const K=M.msg.split(`
`);for(const H of K)U.push({kind:M.kind,msg:H,dt:M.dt}),T(H);u(U)}function I(M){const U=JSON.parse(M.msg);G(U),u([{msg:U.response.data.msg,dt:M.dt}])}function O(M){for(const U of M)U.kind==Fm?I(U):C(U)}function R(M){const U=M.msg,K=U.split(":"),H=K[0],re=K[1],Ce=parseInt(K[2]),fe=parseInt(K[3]),ye=a(H,Ce,fe);re in s&&(o(re,"stage",H),ye!=null&&o(re,"progress",ye)),H=="error"?G({response:{status:500,data:{msg:U}}}):(H=="killed"||H=="finished"||H=="error"||H=="skip")&&(i(),l(re),H=="finished"&&p())}function N(M){for(const U of M)U.kind==Ks?R(U):U.kind==Bm}function z(M){const U=M.msg_kind;U==jm?document.cookie="ws_id="+M.ws_id:U==Um?O(M.items):U==Ks&&N(M.items)}return{wsOpened:n,getSetupStageMsg:k,setCallbackAfterSetup:y,setSetupStateMsg:g}}const Gl=te(zm);function Hm(){const{wsOpened:t}=Gl;return f(D,{get classList(){return{hidden:t()==!0}},get children(){return f(em,{color:"#dc2626",size:48})}})}var Vm=x('<div id=sidebar_static class="md:flex md:w-36 md:flex-col md:fixed md:inset-y-0"><div class="flex-1 flex flex-col min-h-0 border-r border-gray-200"><div class="flex-1 flex flex-col pt-5 pb-4 overflow-y-auto"><div class="flex items-center flex-shrink-0 px-4"><img class="h-16 w-auto"alt=Logo></div><nav class="mt-5 flex-1 px-2 space-y-1">');function Wm(){const{serverUrl:t}=q,{logged:e}=he,{multiuser:n}=pe,{admin:r}=he;return(()=>{var i=Vm(),s=i.firstChild,o=s.firstChild,l=o.firstChild,a=l.firstChild,c=l.nextSibling;return V(a,"src",t+"/submit/images/logo_transparent_bw.png"),h(c,f(Zg,{}),null),h(c,f(tm,{}),null),h(c,f(im,{}),null),h(c,f(cm,{}),null),h(c,f(D,{get when(){return n()==!1||e()==!0&&r()==!0},get children(){return f(dm,{})}}),null),h(o,f(vm,{}),null),h(o,f(wm,{}),null),h(o,f(Hm,{}),null),i})()}var Gm=x('<a target=_blank><button class="relative inline-flex items-center justify-center p-0.5 mb-2 mr-2 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-cyan-500 to-blue-500 group-hover:from-cyan-500 group-hover:to-blue-500 hover:text-white dark:text-white focus:ring-4 focus:outline-none focus:ring-cyan-200 dark:focus:ring-cyan-800"><span class="relative px-5 py-2.5 transition-all ease-in duration-75 bg-white dark:bg-gray-900 rounded-md group-hover:bg-opacity-0">');function tt(t){return(()=>{var e=Gm(),n=e.firstChild,r=n.firstChild;return h(r,()=>t.icon,null),h(r,()=>t.text,null),A(()=>V(e,"href",t.url)),e})()}function Qs(t){return J({a:{viewBox:"0 0 496 512"},c:'<path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/>'},t)}function qm(t){return J({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2zM22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/>'},t)}function Jm(t){return J({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M12 2A10 10 0 1 0 12 22 10 10 0 1 0 12 2z"/><path d="M8 12 16 12"/>'},t)}function Km(t){return J({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M12 2A10 10 0 1 0 12 22 10 10 0 1 0 12 2z"/><path d="M12 8 12 16"/><path d="M8 12 16 12"/>'},t)}function Qm(t){return J({a:{"xml:space":"preserve",x:"0",y:"0","enable-background":"new 0 0 512 512",viewBox:"0 0 512 512"},c:'<path id="icons" d="M28 28v456h456V28H28zm378.83 108.04-24.46 23.45a7.162 7.162 0 0 0-2.72 6.86v172.28c-.44 2.61.61 5.26 2.72 6.86l23.88 23.45v5.15H286.13v-5.15l24.74-24.02c2.43-2.43 2.43-3.15 2.43-6.86V198.81l-68.79 174.71h-9.3l-80.09-174.71v117.1c-.67 4.92.97 9.88 4.43 13.44l32.18 39.03v5.15h-91.24v-5.15l32.18-39.03c3.44-3.57 4.98-8.56 4.15-13.44V180.5c.38-3.76-1.05-7.48-3.86-10.01l-28.6-34.46v-5.15h88.81l68.65 150.55 60.35-150.55h84.66v5.16z"/>'},t)}function Zm(t){return J({a:{viewBox:"0 0 512 512"},c:'<path d="M324 256a36 36 0 1 0 36 36 36 36 0 0 0-36-36Z"/><path d="M188 256A36 36 0 1 0 188 328 36 36 0 1 0 188 256z" transform="rotate(-22.5 187.997 291.992)"/><path d="M496 253.77c0-31.19-25.14-56.56-56-56.56a55.72 55.72 0 0 0-35.61 12.86c-35-23.77-80.78-38.32-129.65-41.27l22-79 66.41 13.2c1.9 26.48 24 47.49 50.65 47.49 28 0 50.78-23 50.78-51.21S441 48 413 48c-19.53 0-36.31 11.19-44.85 28.77l-90-17.89-31.1 109.52-4.63.13c-50.63 2.21-98.34 16.93-134.77 41.53A55.38 55.38 0 0 0 72 197.21c-30.89 0-56 25.37-56 56.56a56.43 56.43 0 0 0 28.11 49.06 98.65 98.65 0 0 0-.89 13.34c.11 39.74 22.49 77 63 105C146.36 448.77 199.51 464 256 464s109.76-15.23 149.83-42.89c40.53-28 62.85-65.27 62.85-105.06a109.32 109.32 0 0 0-.84-13.3A56.32 56.32 0 0 0 496 253.77ZM414 75a24 24 0 1 1-24 24 24 24 0 0 1 24-24ZM42.72 253.77a29.6 29.6 0 0 1 29.42-29.71 29 29 0 0 1 13.62 3.43c-15.5 14.41-26.93 30.41-34.07 47.68a30.23 30.23 0 0 1-8.97-21.4ZM390.82 399c-35.74 24.59-83.6 38.14-134.77 38.14S157 423.61 121.29 399c-33-22.79-51.24-52.26-51.24-83A78.5 78.5 0 0 1 75 288.72c5.68-15.74 16.16-30.48 31.15-43.79a155.17 155.17 0 0 1 14.76-11.53l.3-.21.24-.17c35.72-24.52 83.52-38 134.61-38s98.9 13.51 134.62 38l.23.17.34.25A156.57 156.57 0 0 1 406 244.92c15 13.32 25.48 28.05 31.16 43.81a85.44 85.44 0 0 1 4.31 17.67 77.29 77.29 0 0 1 .6 9.65c-.01 30.72-18.21 60.19-51.25 82.95Zm69.6-123.92c-7.13-17.28-18.56-33.29-34.07-47.72A29.09 29.09 0 0 1 440 224a29.59 29.59 0 0 1 29.41 29.71 30.07 30.07 0 0 1-8.99 21.39Z"/><path d="M323.23 362.22c-.25.25-25.56 26.07-67.15 26.27-42-.2-66.28-25.23-67.31-26.27a4.14 4.14 0 0 0-5.83 0l-13.7 13.47a4.15 4.15 0 0 0 0 5.89c3.4 3.4 34.7 34.23 86.78 34.45 51.94-.22 83.38-31.05 86.78-34.45a4.16 4.16 0 0 0 0-5.9l-13.71-13.47a4.13 4.13 0 0 0-5.81 0Z"/>'},t)}function Ym(t){return J({a:{viewBox:"0 0 512 512"},c:'<rect width="416" height="320" x="48" y="96" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" rx="40" ry="40"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M112 160 256 272 400 160"/>'},t)}function Xm(t){return J({a:{viewBox:"0 0 512 512"},c:'<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M85.57 446.25h340.86a32 32 0 0 0 28.17-47.17L284.18 82.58c-12.09-22.44-44.27-22.44-56.36 0L57.4 399.08a32 32 0 0 0 28.17 47.17Z"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="m250.26 195.39 5.74 122 5.73-121.95a5.74 5.74 0 0 0-5.79-6h0a5.74 5.74 0 0 0-5.68 5.95Z"/><path d="M256 397.25a20 20 0 1 1 20-20 20 20 0 0 1-20 20Z"/>'},t)}var ep=x("<span class=font-semibold>"),tp=x('<div id=tab_home class="tabcontent px-6 my-6 text-gray-700"><h1 class="text-4xl font-extrabold dark:text-white">OakVar</h1><p class="mb-6 text-lg font-normal text-gray-500 lg:text-xl dark:text-gray-400">Genomic variant analysis platform</p><div class="mt-4 text-base w-[64rem]"><p>OakVar is a platform for analyzing and exploring genomic variants.</p><p class=my-2>Use <!> tab to submit analysis jobs. Use <!> tab to monitor your past and current jobs. <!> shows analysis and reporting modules available through OakVar. In <!> tab, you can perform system admin tasks. </p><div class=my-2><h3 class="mb-2 font-semibold dark:text-white">Benefits:</h3><ul class="space-y-1 list-disc list-inside"><li> genomic variants with diverse annotation sources.</li><li>Make <!> of annotated variants.</li><li>Query annotated variants with <!> sets.</li><li>Make <!> in diverse formats.</li><li> annotated variants with graphical user interface.</li><li>Works via <!> and <!>.</li><li>Easily develop, run, and distribute CLI and GUI <!>. OakVar acts as an operating system for genomics apps.</li><li>Connect genomic data to AI/ML models.</li></ul></div><div><h3 class="mb-2 font-semibold dark:text-white">Resources:</h3></div><div><h3 class="mb-2 font-semibold dark:text-white">Follow us:</h3></div><div><h3 class="mb-2 font-semibold dark:text-white">Help and support:');const{multiuser:np}=pe;function _e(t){return(()=>{var e=ep();return h(e,t),e})()}function rp(){const{tabName:t}=gt;return(()=>{var e=tp(),n=e.firstChild,r=n.nextSibling,i=r.nextSibling,s=i.firstChild,o=s.nextSibling,l=o.firstChild,a=l.nextSibling,c=a.nextSibling,u=c.nextSibling,d=u.nextSibling,g=d.nextSibling,v=g.nextSibling,y=v.nextSibling;y.nextSibling;var b=o.nextSibling,m=b.firstChild,p=m.nextSibling,w=p.firstChild,_=w.firstChild,k=w.nextSibling,P=k.firstChild,T=P.nextSibling;T.nextSibling;var C=k.nextSibling,I=C.firstChild,O=I.nextSibling;O.nextSibling;var R=C.nextSibling,N=R.firstChild,z=N.nextSibling;z.nextSibling;var M=R.nextSibling,U=M.firstChild,K=M.nextSibling,H=K.firstChild,re=H.nextSibling,Ce=re.nextSibling,fe=Ce.nextSibling;fe.nextSibling;var ye=K.nextSibling,ce=ye.firstChild,ke=ce.nextSibling;ke.nextSibling;var E=b.nextSibling;E.firstChild;var we=E.nextSibling;we.firstChild;var Ze=we.nextSibling;return Ze.firstChild,h(o,()=>_e("Analyze"),a),h(o,()=>_e("Results"),u),h(o,()=>_e("Store"),g),h(o,()=>_e("System"),y),h(o,f(D,{get when(){return np()},get children(){return["In ",ae(()=>_e("Account"))," tab, you can perform account tasks including logging out."]}}),null),h(w,()=>_e("Annotate"),_),h(k,()=>_e("databases"),T),h(C,()=>_e("filter"),O),h(R,()=>_e("reports"),z),h(M,()=>_e("Visualize"),U),h(K,()=>_e("CLI"),re),h(K,()=>_e("GUI"),fe),h(ye,()=>_e("genomics apps"),ke),h(E,f(tt,{url:"https://docs.oakvar.com/",get icon(){return f(qm,{class:"inline mr-1"})},text:"Documentation"}),null),h(E,f(tt,{url:"https://github.com/rkimoakbioinformatics/oakvar",get icon(){return f(Qs,{class:"inline mr-1"})},text:"GitHub"}),null),h(we,f(tt,{url:"https://medium.com/oakvar",get icon(){return f(Qm,{class:"inline mr-1"})},text:"Medium (Announcements)"}),null),h(we,f(tt,{url:"https://discord.gg/wZfkTMKTjG",get icon(){return f(Am,{class:"inline mr-1"})},text:"Discord (Messaging)"}),null),h(we,f(tt,{url:"https://www.reddit.com/r/oakvar",get icon(){return f(Zm,{class:"inline mr-1"})},text:"Reddit (Discussion)"}),null),h(we,f(tt,{url:"https://dashboard.mailerlite.com/forms/21170/56038572068701589/share",icon:"",text:"Join the mailing list"}),null),h(Ze,f(tt,{url:"https://github.com/rkimoakbioinformatics/oakvar/issues",get icon(){return f(Qs,{class:"inline mr-1"})},text:"Issues"}),null),h(Ze,f(tt,{url:"mailto:info@oakbioinformatics.com",get icon(){return f(Ym,{class:"inline mr-1"})},text:"Mail"}),null),A(()=>e.classList.toggle("hidden",t()!="home")),e})()}var ip=x('<a href=# class="text-gray-600 block px-4 py-2 text-sm text-right hover:bg-gray-100 hover:text-gray-900"role=menuitem tabindex=-1 value="">');function jn(t){function e(){t.setAssembly(t.value),t.setShow(!1)}return(()=>{var n=ip();return n.$$click=e,h(n,()=>t.title),n})()}F(["click"]);var sp=x('<div id=assembly-select class="option-list ease-in absolute right-0 z-10 mt-2 w-32 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"role=menu aria-orientation=vertical aria-labelledby=menu-button tabindex=-1><div class=py-1 role=none>');function op(t){return(()=>{var e=sp(),n=e.firstChild;return h(n,f(jn,{value:"auto",title:"Auto",get setAssembly(){return t.setAssembly},get setShow(){return t.setShow}}),null),h(n,f(jn,{value:"hg38",title:"GRCh38/hg38",get setAssembly(){return t.setAssembly},get setShow(){return t.setShow}}),null),h(n,f(jn,{value:"hg19",title:"GRCh37/hg19",get setAssembly(){return t.setAssembly},get setShow(){return t.setShow}}),null),h(n,f(jn,{value:"hg18",title:"GRCh36/hg18",get setAssembly(){return t.setAssembly},get setShow(){return t.setShow}}),null),A(()=>e.classList.toggle("hidden",!t.show)),e})()}var lp=x('<div id=assembly-select-panel class="select-div relative inline-block text-left"value=""><div><button type=button class="inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-600 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-100"id=assembly-select-div title="Genome assembly">Genome assembly: ');function ap(t){const[e,n]=S(!1),r={"":"Auto",hg38:"GRCh38/hg38",hg19:"GRCh37/hg19",hg18:"GRCh36/hg18"};function i(s){n(!e())}return(()=>{var s=lp(),o=s.firstChild,l=o.firstChild;return l.firstChild,l.$$click=i,h(l,()=>r[t.assembly],null),h(l,f(xn,{class:"-mr-1 ml-2 h-5 w-5"}),null),h(s,f(op,{get show(){return e()},get setAssembly(){return t.setAssembly},setShow:n}),null),s})()}F(["click"]);var cp=x('<a href=# class="text-gray-600 block px-4 py-2 text-sm text-right hover:bg-gray-100 hover:text-gray-900"role=menuitem tabindex=-1 value="">');function Zs(t){function e(){t.setInputFormat(t.value),t.setShow(!1)}return(()=>{var n=cp();return n.$$click=e,h(n,()=>t.title),n})()}F(["click"]);var up=x('<div id=input-format-select class="option-list ease-in absolute right-0 z-10 mt-2 w-32 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"role=menu aria-orientation=vertical aria-labelledby=menu-button tabindex=-1><div class=py-1 role=none>');function dp(t){return(()=>{var e=up(),n=e.firstChild;return h(n,f(Zs,{value:"",title:"Auto",get setInputFormat(){return t.setInputFormat},get setShow(){return t.setShow}}),null),h(n,f(le,{get each(){return t.converters},children:function(r){return f(Zs,{get value(){return r.format},get title(){return r.title},get setInputFormat(){return t.setInputFormat},get setShow(){return t.setShow}})}}),null),A(()=>e.classList.toggle("hidden",!t.show)),e})()}var fp=x('<div id=input-format-select-panel class="select-div relative inline-block text-left ml-6"value=""><div><button type=button class="inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-600 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-100"id=input-format-select-div title=Format>Format: ');const{multiuser:hp}=pe,{logged:gp}=he,{serverUrl:mp}=q;async function pp(){if(hp()==!1||gp()==!0)try{return await(await L.get(mp+"/submit/converters")).data}catch(t){console.error(t),t.response.responseText=="system_not_ready"}}function bp(t){const[e,n]=S(!1),[r,i]=S({"":"Auto"}),[s]=un(pp);X(()=>{var l={"":"Auto"};if(!(s()==null||s()==null)){for(var a=0;a<s().length;a++)l[s()[a].format]=s()[a].title;i(l)}});function o(l){n(!e())}return(()=>{var l=fp(),a=l.firstChild,c=a.firstChild;return c.firstChild,c.$$click=o,h(c,()=>r()[t.inputFormat],null),h(c,f(xn,{class:"-mr-1 ml-2 h-5 w-5"}),null),h(l,f(dp,{get show(){return e()},get converters(){return s()},get setInputFormat(){return t.setInputFormat},setInputFormats:i,setShow:n}),null),l})()}F(["click"]);var vp=x('<div id=input-upload-list-div class="w-1/2 flex flex-col justify-center items-center p-2 relative h-full bg-gray-50"><button id=clear_inputfilelist_button class="text-gray-500 bg-neutral-200 hover:bg-neutral-300 p-1 w-16 rounded-md absolute top-1 left-1">Clear</button><div id=input-upload-list-wrapper class="flex w-full overflow-auto h-[13rem] absolute bottom-1 bg-gray-50"><div id=input-upload-list class="h-full overflow-auto">'),yp=x('<label id=input-drop-area for=input-file class="flex items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-md cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600 relative"><div id=input-drop-box class=w-1/2><div class="flex flex-col items-center justify-center pt-5 pb-6"><p class="mb-2 text-sm text-gray-500 dark:text-gray-400"><span class=font-semibold>Click to upload</span> input files</p><button class="mb-2 text-sm text-gray-500 dark:text-gray-400 bg-neutral-200 hover:bg-neutral-300 p-2 rounded-md absolute top-0 right-0">Manually enter variants instead</button></div><input type=file class=hidden name=input-file id=input-file multiple>'),wp=x('<span class="pl-2 text-sm text-gray-600 hover:text-gray-400 cursor-pointer round-md inline-block w-5/6"title="Click to remove">');function _p(t){const{setShowErrorDialog:e,setErrorDialogTitle:n,setErrorDialogText:r}=mn;function i(l,a){a.preventDefault();for(var c=0;c<t.inputDataDrop.length;c++)if(t.inputDataDrop[c].name==l){t.setInputDataDrop([...t.inputDataDrop.slice(0,c),...t.inputDataDrop.slice(c+1,t.inputDataDrop.length)]);break}}function s(l){const a=l.target.files;for(var c=0;c<a.length;c++)if(a[c].name.indexOf(" ")>=0){n("Problem"),r("Input file names should not have space."),e(!0);break}t.setInputDataDrop([...t.inputDataDrop,...a]),l.target.value=null}function o(l){l.preventDefault(),t.setInputDataDrop([])}return(()=>{var l=yp(),a=l.firstChild,c=a.firstChild,u=c.firstChild,d=u.nextSibling,g=c.nextSibling;return h(l,f(D,{get when(){return t.inputDataDrop.length>0},get children(){var v=vp(),y=v.firstChild,b=y.nextSibling,m=b.firstChild;return y.$$click=o,h(m,f(le,{get each(){return t.inputDataDrop},children:p=>(()=>{var w=wp();return w.$$click=i,w.$$clickData=p.name,h(w,()=>p.name),w})()})),v}}),a),h(c,f(nm,{class:"w-10 h-10",color:"#9ca3af"}),u),d.$$click=t.setInputMode,d.$$clickData="paste",g.addEventListener("change",s),l})()}F(["click"]);var xp=x(`<div id=input-paste-area class="relative w-full h-[20rem] border-2 border-gray-300 border-dashed rounded-md"><textarea id=input-text class="font-mono border-0 bg-gray-50 text-gray-600 p-4 resize-none w-full h-full"placeholder="Copy and paste or type input variants. VCF is supported. A quick and simple format is space-delimited one:

chr1 9384934 + A T

which is chromosome, position, strand, a reference allele, and an alternate allele.

Alternatively, if 'Server files' box is checked, paths to input files in the server can be used as well. For example,

/mnt/oakvar/input/sample/sample_1.vcf
"></textarea><div class="top-2 right-3 absolute cursor-pointer"title="Click to go back"></div><div class="absolute bottom-1 right-1 text-gray-400 text-sm"><button value=cravat class="p-1 text-gray-500 bg-neutral-200 hover:bg-neutral-300">Try an example`);function kp(t){function e(){const{serverUrl:r,withCredentials:i}=q;t.setAssembly("hg38"),t.setInputFormat("csv"),L({method:"get",url:`${r}/submit/inputexamples/exampleinput`,withCredentials:i}).then(function(s){let o=s.data;t.changeInputData("paste",o)})}function n(r){t.changeInputData("paste",r.target.value)}return(()=>{var r=xp(),i=r.firstChild,s=i.nextSibling,o=s.nextSibling,l=o.firstChild;return i.$$keyup=n,s.$$click=t.setInputMode,s.$$clickData="drop",h(s,f(Yg,{class:"w-5 h-5 mr-2"})),l.$$click=e,A(()=>i.value=t.inputDataPaste),r})()}F(["keyup","click"]);var Sp=x('<div id=job-name-div class="mt-4 w-full"><textarea id=job-name class="font-mono text-sm border-0 bg-gray-100 text-gray-600 p-4 resize-none rounded-md w-full "placeholder="(Optional) job name">');function $p(t){function e(n){t.setJobName(n.target.value)}return(()=>{var n=Sp(),r=n.firstChild;return r.$$keyup=e,A(()=>n.classList.toggle("hidden",!t.inputExists)),A(()=>r.value=t.jobName),n})()}F(["keyup"]);var Ip=x('<div id=submit-note-div class="mt-4 w-full"><textarea id=submit-note class="font-mono text-sm border-0 bg-gray-100 text-gray-600 p-4 resize-none rounded-md w-full"placeholder="(Optional) note for this job">');function Cp(t){function e(n){t.setJobNote(n.target.value)}return(()=>{var n=Ip(),r=n.firstChild;return r.$$keyup=e,A(()=>n.classList.toggle("hidden",!t.inputExists)),A(()=>r.value=t.jobNote),n})()}F(["keyup"]);var Tp=x('<div id=submit-job-button-div class=mt-4><button id=submit-job-button type=button class="inline-flex items-center h-12 rounded-md border border-transparent bg-indigo-600 px-6 py-3 text-base font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">Annotate');function Ep(t){return(()=>{var e=Tp(),n=e.firstChild;return Lt(n,"click",t.submitFn,!0),A(()=>e.classList.toggle("hidden",!t.inputExists)),e})()}F(["click"]);var Ap=x('<div class="flex items-center justify-center ml-6"><input id=default-checkbox type=checkbox value=""title="If checked, each input files will be processed separately."class="w-4 h-4 text-blue-600 bg-gray-100 checked:bg-gray-500 rounded border-gray-300 focus:ring-0 focus:ring-offset-0 dark:bg-gray-700 dark:border-gray-600"><label for=default-checkbox class="ml-2 text-sm font-medium text-gray-700 dark:text-gray-300"title="If checked, each input files will be processed separately.">Separate job per file'),Op=x('<div class="flex items-center justify-center ml-6"><input id=default-checkbox type=checkbox title="If checked, each input line should be a path to an input file in the server."class="w-4 h-4 text-blue-600 bg-gray-100 checked:bg-gray-500 rounded border-gray-300 focus:ring-0 focus:ring-offset-0 dark:bg-gray-700 dark:border-gray-600"><label for=default-checkbox class="ml-2 text-sm font-medium text-gray-700 dark:text-gray-300"title="If checked, each input line should be a path to an input file in the server.">Server files'),Pp=x('<div id=input-div class="w-[40rem] items-center flex flex-col"style="height:calc(100vh - 10rem);"><div class=flex></div><div class="w-full flex items-center justify-center mt-1"ondragenter=onDragEnterInputFiles(event) ondragover=onDragOverInputFiles(event) ondragleave=onDragLeaveInputFiles(event) ondrop=onDropInputFiles(event)>');function Rp(t){function e(i,s){t.setInputMode(i),i=="drop"?t.setInputDataDrop(s):i=="paste"&&t.setInputDataPaste(s)}X(function(){t.inputMode=="drop"?t.setInputExists(t.inputDataDrop.length>0):t.inputMode=="paste"&&t.setInputExists(t.inputDataPaste.length>0)});function n(i){t.setSeparateJobPerFile(!t.separateJobPerFile)}function r(i){t.setServerFileMode(!t.serverFileMode())}return(()=>{var i=Pp(),s=i.firstChild,o=s.nextSibling;return h(s,f(ap,{get assembly(){return t.assembly},get setAssembly(){return t.setAssembly}}),null),h(s,f(bp,{get inputFormat(){return t.inputFormat},get setInputFormat(){return t.setInputFormat}}),null),h(s,f(D,{get when(){return t.inputMode=="drop"},get children(){var l=Ap(),a=l.firstChild;return a.$$click=n,A(()=>a.checked=t.separateJobPerFile),l}}),null),h(s,f(D,{get when(){return t.inputMode=="paste"},get children(){var l=Op(),a=l.firstChild;return a.$$click=r,l}}),null),h(o,f(Pe,{get children(){return[f(se,{get when(){return t.inputMode=="drop"},get children(){return f(_p,{get setInputMode(){return t.setInputMode},get inputDataDrop(){return t.inputDataDrop},get setInputDataDrop(){return t.setInputDataDrop}})}}),f(se,{get when(){return t.inputMode=="paste"},get children(){return f(kp,{get setInputMode(){return t.setInputMode},changeInputData:e,get inputDataPaste(){return t.inputDataPaste},get assembly(){return t.assembly},get setAssembly(){return t.setAssembly},get inputFormat(){return t.inputFormat},get setInputFormat(){return t.setInputFormat}})}})]}})),h(i,f($p,{get inputExists(){return t.inputExists},get jobName(){return t.jobName},get setJobName(){return t.setJobName}}),null),h(i,f(Cp,{get inputExists(){return t.inputExists},get jobNote(){return t.jobNote},get setJobNote(){return t.setJobNote}}),null),h(i,f(Ep,{get inputExists(){return t.inputExists},get submitFn(){return t.submitFn}}),null),i})()}F(["click"]);const Np=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,Ys=t=>{if(typeof t!="string")throw new TypeError("Invalid argument expected string");const e=t.match(Np);if(!e)throw new Error(`Invalid argument not valid semver ('${t}' received)`);return e.shift(),e},Xs=t=>t==="*"||t==="x"||t==="X",eo=t=>{const e=parseInt(t,10);return isNaN(e)?t:e},Mp=(t,e)=>typeof t!=typeof e?[String(t),String(e)]:[t,e],Dp=(t,e)=>{if(Xs(t)||Xs(e))return 0;const[n,r]=Mp(eo(t),eo(e));return n>r?1:n<r?-1:0},to=(t,e)=>{for(let n=0;n<Math.max(t.length,e.length);n++){const r=Dp(t[n]||"0",e[n]||"0");if(r!==0)return r}return 0},Lp=(t,e)=>{const n=Ys(t),r=Ys(e),i=n.pop(),s=r.pop(),o=to(n,r);return o!==0?o:i&&s?to(i.split("."),s.split(".")):i||s?i?-1:1:0},jp=(t,e,n)=>{Up(n);const r=Lp(t,e);return ql[n].includes(r)},ql={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},no=Object.keys(ql),Up=t=>{if(typeof t!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof t}`);if(no.indexOf(t)===-1)throw new Error(`Invalid operator, expected one of ${no.join("|")}`)};function cr(t){return Object.keys(t).length==0}function Jl(t){let o="";return t>1099511627776?o=(t/1099511627776).toFixed(1)+" TB":t>1073741824?o=(t/1073741824).toFixed(1)+" GB":t>1048576?o=(t/1048576).toFixed(1)+" MB":t>1024?o=(t/1024).toFixed(1)+" KB":o=t+"B",o}function zt(t,e,n,r,i,s){var o=e;o!=null&&(o=o.toLowerCase());let l=[];for(const[c,u]of Object.entries(t)){let d=!0;if(r!=null&&(r=="no tag"?u.tags.length>0&&(d=!1):u.tags.indexOf(r)==-1&&(d=!1)),d&&o!=null&&(d=!1,(c.toLowerCase().indexOf(o)>=0||u.title.toLowerCase().indexOf(o)>=0||u.description&&u.description.toLowerCase().indexOf(e)>=0)&&(d=!0)),(s.indexOf(u.type)>=0||u.type=="package")&&(d=!1),u.groups.length>0)d=!1;else if(d)if(u.type=="group"){var a=!1;for(const[g,v]of Object.entries(t))if(v.groups.indexOf(c)>=0&&(n.length==0||n=="all"||n.indexOf(v.type)>=0)){a=!0;break}a&&l.push(c);continue}else n.length>0&&n!="all"&&n.indexOf(u.type)==-1&&(d=!1);d&&l.push(c)}return i==null||i=="Name"?l.sort((c,u)=>t[c].title.localeCompare(t[u].title)):i=="Size"?l.sort((c,u)=>t[u].size-t[c].size):i=="Date"&&l.sort((c,u)=>t[u].publish_time>t[c].publish_time),l}function Fp(){const[t,e]=Te({}),[n,r]=S(!1),[i,s]=S(!1),{localModules:o}=ve,{remoteModules:l}=be,[a,c]=S(!1),[u,d]=S(!1);X(function(){!cr(o)&&!cr(l)&&o.__initial==null&&l.__initial==null&&a()==!1&&(g(),c(!0),d(!1))});function g(){let p={},w=0;for(const _ in l)if(_ in o){p[_]={installed:!0};const k=o[_],P=l[_],T=k.version,C=P.latest_version;jp(C,T,">")==!0?(p[_].update_available=!0,w+=1):p[_].update_available=!1}else p[_]={installed:!1,update_available:!1};e(p),s(w),r(w>0)}function v(p,w,_,k,P){const T=[];if(t==null||Object.keys(l).length==0)return T;for(const C of zt(l,p,w,_,P,[])){const I=t[C];let O=!1;I.installed==!0&&(k==!0?I.update_available==!0&&(O=!0):O=!0),O==!0&&T.push(C)}return T}function y(p,w,_,k,P){const T=[];if(t==null||Object.keys(l).length==0)return T;for(const C of zt(l,p,w,_,k,P))t[C].installed!=!0&&T.push(C);return T}function b(p){return t==null?!1:t[p].installed}function m(p){return t[p].update_available}return{moduleInstallStates:t,setModuleInstallStates:e,makeModuleInstallStates:g,updateAvailable:n,numUpdateAvailable:i,getInstalledModules:v,getNotInstalledModules:y,installed:b,updateAvailableForModule:m,initialLoaded:a,setInitialLoaded:c,refreshOn:u,setRefreshOn:d}}const mt=te(Fp);function Bp(){const[t,e]=S(null),[n,r]=S(null);return{showDetailCard:t,setShowDetailCard:e,detailModuleName:n,setDetailModuleName:r}}const Kl=te(Bp);var zp=x("<a>");function ot(t){return(()=>{var e=zp();return Lt(e,"click",t.clickFn,!0),h(e,()=>t.children),A(n=>{var r="relative text-sm h-8 inline-flex items-center rounded-md border border-gray-300 px-2 py-2 text-sm font-medium text-gray-500 cursor-pointer focus:z-20 "+t.bgColor+" "+t.bgHoverColor,i=t.hrefValue,s=t.targetValue;return r!==n.e&&wt(e,n.e=r),i!==n.t&&V(e,"href",n.t=i),s!==n.a&&V(e,"target",n.a=s),n},{e:void 0,t:void 0,a:void 0}),e})()}F(["click"]);function Hp(){const[t,e]=Te({__initial:!0}),[n,r]=Te({__initial:!0}),[i,s]=Te({__initial:!0});return X(function(){t.__initial==!0&&e(ie({})),n.__initial==!0&&r(ie({})),i.__initial==!0&&s(ie({}))}),{annotators:t,setAnnotators:e,postaggregators:n,setPostaggregators:r,reporters:i,setReporters:s}}const Er=te(Hp),{localModules:kt,setLocalModules:Dt}=ve,{remoteModules:Vp}=be,{annotators:Wp,setAnnotators:Ql,postaggregators:Gp,setPostaggregators:Zl,reporters:qp,setReporters:Yl}=Er;function Xl(t){const n=kt[t].type;n=="annotator"?(Ql(t,void 0),Dt(t,"selected",!1)):n=="postaggregator"?(Zl(t,void 0),Dt(t,"selected",!1)):n=="reporter"&&(Yl(t,void 0),Dt(t,"selected",!1))}function ea(){for(const t in{...Wp})yt(t);for(const t in{...Gp})yt(t);for(const t in{...qp})yt(t)}function ro(t){const e=[];ta(t,e);for(const n of e)Xl(n);ea()}function Jp(t){const e=[];Bi(t,e,[]);for(const r of e)Xl(r);ea()}function yt(t){Kp(t)}function Bi(t,e,n){var r=kt[t];if(r==null&&(r=kt[t+"reporter"],r==null)){n.includes(t)==!1&&n.push(t);return}e.includes(t)==!1&&e.push(t);const i=r.conf;if(i==null)return;const s=i.requires;if(s!=null)for(const o of s)e.indexOf(o)==-1&&Bi(o,e,n)}function ta(t,e){for(const n in kt){const i=kt[n].conf.requires;if(i==null||i.length==0)continue;[...i].includes(t)&&e.indexOf(t)==-1&&e.indexOf(n)==-1&&(e.push(n),ta(n,e))}return e.push(t),e}function Kp(t){const e=[t],n=[];Bi(t,e,n);const r=[];for(const o of n){const l=Vp[o];l!=null&&l.type!="webviewerwidget"&&r.push(o)}if(r.length>0){let o=`The following modules should be installed to run this module:
`;for(const a of r)o+=a.name+`
`;G({response:{data:{msg:o}}});return}for(var i of e){var s=kt[i];s==null&&(i=i+"reporter",s=kt[i]);const o=s.type;if(o=="annotator")Ql(i,s),Dt(i,"selected",!0);else if(o=="postaggregator")Zl(i,s),Dt(i,"selected",!0);else if(o=="reporter")Yl(i,s),Dt(i,"selected",!0);else continue}}var Qp=x('<input class="block w-full text-xs text-gray-900 bg-gray-50 rounded-lg border border-gray-300 cursor-pointer dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400"type=file>'),Zp=x('<select class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">'),Yp=x('<div class="flex flex-col mb-4"><span class="mb-2 font-xs">'),Xp=x("<input type=text>"),e0=x("<option>");const{setModuleOption:t0,getModuleOption:n0}=ve;function r0(t){const[e,n]=S("");X(function(){const i=n0(t.moduleName,t.name);e()==null&&i!=null&&n(i.value)});function r(i){const s=i.target.value;n(i.target.value),t0(t.moduleName,t.name,t.values,s)}return(()=>{var i=Yp(),s=i.firstChild;return h(s,()=>t.values.title),h(i,f(Pe,{get fallback(){return(()=>{var o=Xp();return o.$$keyup=r,A(()=>o.value=e()),o})()},get children(){return[f(se,{get when(){return t.values.method=="file"},get children(){var o=Qp();return o.addEventListener("change",r),o}}),f(se,{get when(){return t.values.method=="select"},get children(){var o=Zp();return o.addEventListener("change",r),o.$$click=function(l){l.stopPropagation()},h(o,f(le,{get each(){return t.values.options},children:l=>(()=>{var a=e0();return a.value=l,h(a,l),a})()})),A(()=>V(o,"title",t.values.help)),A(()=>o.value=e()),o}})]}}),null),A(()=>V(s,"title",t.values.help)),i})()}F(["click","keyup"]);var Jr=x('<div title="Add this module for analysis">'),i0=x('<div title="Remove this module and the module that depend on it">'),s0=x('<div title="Remove this module and its dependencies">'),io=x('<img class="w-20 rounded-lg">'),o0=x("<span class=break-all>"),l0=x('<span class="inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800 cursor-default"title="Data version">'),a0=x('<span class="inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800">'),c0=x('<span class="inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-800">Installed'),u0=x('<span class="inline-flex items-center rounded-full bg-yellow-100 px-2.5 py-0.5 text-xs font-medium text-yellow-800">New'),d0=x('<span class="inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800">Installed '),f0=x('<div class="absolute top-1 right-1">'),h0=x('<div class="group relative modulecard relative items-center space-x-3 rounded-lg border border-gray-300 px-6 shadow-sm focus-within:ring-2 focus-within:ring-indigo-500 focus-within:ring-offset-2 hover:border-gray-400 p-2 mb-2"><div class="absolute right-0 bottom-0 h-full w-[140px] p-2 cursor-default"style="background-color:rgba(68, 64, 60, 0.1);"></div><div class=flex><div class="w-24 h-24 mr-2 flex justify-center items-center"></div><div class="min-w-0 flex-1"style=min-height:6rem;><p><span class="text-md font-semibold text-gray-700"></span><span class="inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800 cursor-default"title="Installed version"></span></p><p class="text-sm text-gray-500"></p><p><span class="inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800"></span></p><p>');function oe(t){const{setRemoteModules:e}=be,{setLocalModules:n}=ve,[r,i]=S(!1),{serverUrl:s}=q,{installed:o,updateAvailableForModule:l}=mt,{setShowDetailCard:a,setDetailModuleName:c}=Kl,{addToInstallQueue:u,removeFromInstallQueue:d,inQueue:g,uninstallModule:v}=$t,{admin:y}=he,{multiuser:b}=pe;function m(){return o(t.moduleName)}function p(N){if(t.kind=="remote")t.moduleInfo.type=="group"?e(t.moduleName,"expandGroup",!t.remoteModuleInfo.expandGroup):(c(t.moduleName),a(!0));else if(t.kind=="local")t.localModuleInfo.type=="group"?n(t.moduleName,"expandGroup",!t.localModuleInfo.expandGroup):(c(t.moduleName),a(!0));else return}function w(N){t.kind=="remote"?e(t.moduleName,"expandGroup",!0):n(t.moduleName,"expandGroup",!0)}function _(N){t.kind=="remote"?e(t.moduleName,"expandGroup",!1):n(t.moduleName,"expandGroup",!1)}function k(N){i(!0)}function P(N){i(!1)}function T(N){t.kind=="remote"?e(t.moduleName,"selected",N):n(t.moduleName,"selected",N)}function C(N){yt(t.moduleName),T(!0)}function I(N){ro(t.moduleName),T(!1)}function O(N){ro(t.moduleName),Jp(t.moduleName),T(!1)}function R(){g(t.moduleName)?d(t.moduleName):m()&&v(t.moduleName)}return(()=>{var N=h0(),z=N.firstChild,M=z.nextSibling,U=M.firstChild,K=U.nextSibling,H=K.firstChild,re=H.firstChild,Ce=re.nextSibling,fe=H.nextSibling,ye=fe.nextSibling,ce=ye.firstChild,ke=ye.nextSibling;return N.addEventListener("mouseleave",P),N.addEventListener("mouseenter",k),h(z,f(Pe,{get children(){return[f(se,{get when(){return t.moduleInfo.type=="group"&&t.moduleInfo.expandGroup==!1},get children(){var E=Jr();return E.$$click=w,h(E,f(ot,{class:"details-button w-full text-sm h-8 cursor-pointer",bgColor:"bg-white",bgHoverColor:"hover:bg-gray-100",children:"Expand"})),E}}),f(se,{get when(){return t.moduleInfo.type=="group"&&t.moduleInfo.expandGroup==!0},get children(){var E=Jr();return E.$$click=_,h(E,f(ot,{class:"details-button w-full text-sm h-8 cursor-pointer",bgColor:"bg-white",bgHoverColor:"hover:bg-gray-100",children:"Collapse"})),E}}),f(se,{get when(){return t.moduleInfo.type!="group"&&!t.moduleInfo.selected},get children(){var E=Jr();return E.$$click=C,h(E,f(ot,{class:"details-button w-full text-sm h-8 cursor-pointer",bgColor:"bg-white",bgHoverColor:"hover:bg-gray-100",children:"Add"})),E}}),f(se,{get when(){return t.moduleInfo.type!="group"&&t.moduleInfo.selected},get children(){return[(()=>{var E=i0();return E.$$click=I,h(E,f(ot,{class:"details-button w-full text-sm h-8 cursor-pointer",bgColor:"bg-white",bgHoverColor:"hover:bg-gray-100",onClick:I,children:"RemoveUp"})),E})(),(()=>{var E=s0();return E.$$click=O,h(E,f(ot,{class:"details-button w-full text-sm h-8 cursor-pointer",bgColor:"bg-white",bgHoverColor:"hover:bg-gray-100",onClick:O,children:"RemoveDown"})),E})()]}})]}})),U.$$click=p,h(U,f(Pe,{get children(){return[f(se,{get when(){return t.moduleInfo.has_logo},get children(){return f(Pe,{get children(){return[f(se,{get when(){return t.kind=="remote"},get children(){var E=io();return A(()=>V(E,"src",`${s}/store/remotelogo?module=${t.moduleName}&store=${t.remoteModuleInfo.store}`)),E}}),f(se,{get when(){return t.kind=="local"},get children(){var E=io();return A(()=>V(E,"src",`${s}/store/locallogo?module=${t.moduleName}`)),E}})]}})}}),f(se,{get when(){return!t.moduleInfo.has_logo},get children(){var E=o0();return h(E,()=>t.moduleInfo.title),E}})]}})),h(re,()=>t.moduleInfo.title),h(Ce,f(Pe,{get children(){return[f(se,{get when(){return t.kind=="remote"},get children(){return t.remoteModuleInfo.latest_version}}),f(se,{get when(){return t.kind=="local"},get children(){return t.localModuleInfo.code_version}})]}})),h(H,f(D,{get when(){return t.moduleInfo.conf.data_version!=null},get children(){var E=l0();return h(E,()=>t.moduleInfo.conf.data_version),E}}),null),h(fe,f(Pe,{get children(){return[f(se,{get when(){return t.kind=="remote"},get children(){return t.moduleInfo.conf.description}}),f(se,{get when(){return t.kind=="local"},get children(){return t.localModuleInfo.conf.description}})]}})),h(ye,f(D,{get when(){return t.moduleInfo.size!=null},get children(){var E=a0();return h(E,()=>Jl(t.moduleInfo.size)),E}}),ce),h(ce,()=>t.moduleInfo.type),h(ke,f(Pe,{get children(){return f(se,{get when(){return t.kind=="remote"},get children(){return[f(D,{get when(){return m()},get children(){return c0()}}),f(D,{get when(){return l(t.moduleName)},get children(){return[u0(),(()=>{var E=d0();return E.firstChild,h(E,()=>t.localModuleInfo.version,null),E})()]}})]}})}})),h(K,f(Pe,{get children(){return f(se,{get when(){return ae(()=>t.kind=="remote")()&&(b()==!1||y()==!0)},get children(){var E=f0();return h(E,f(D,{get when(){return ae(()=>!!(!m()||l(t.moduleName)))()&&!g(t.moduleName)},get children(){return f(Km,{class:"group-hover:block hidden cursor-pointer",color:"rgb(3 105 161)",size:"24",get onClick(){return[u,t.moduleName]}})}}),null),h(E,f(D,{get when(){return m()||g(t.moduleName)},get children(){return f(Jm,{class:"group-hover:block hidden cursor-pointer",color:"rgb(251 146 60)",size:"24",onClick:R})}}),null),E}})}}),null),h(N,f(D,{get when(){return t.moduleInfo.selected==!0&&t.selectedCard==!0&&t.moduleInfo.module_options!=null},get children(){return f(le,{get each(){return Object.keys(t.moduleInfo.module_options)},children:E=>f(r0,{get moduleName(){return t.moduleName},name:E,get values(){return t.moduleInfo.module_options[E]}})})}}),null),A(E=>{var we=!!(t.moduleInfo.groups.length&&!t.doNotIndent),Ze=!!t.moduleInfo.selected,Cn=!t.moduleInfo.selected,Tn=t.moduleInfo.name,En=t.moduleInfo.kind,An=!r()||t.kind=="remote",On=t.moduleInfo.type!="group",Pn=t.moduleInfo.type=="group",Rn=t.moduleInfo.type=="group"?"Click to expand group":"Click for details",Nn=t.moduleInfo.size!=null;return we!==E.e&&N.classList.toggle("ml-16",E.e=we),Ze!==E.t&&N.classList.toggle("bg-gray-200",E.t=Ze),Cn!==E.a&&N.classList.toggle("bg-white",E.a=Cn),Tn!==E.o&&V(N,"name",E.o=Tn),En!==E.i&&V(N,"kind",E.i=En),An!==E.n&&z.classList.toggle("hidden",E.n=An),On!==E.s&&U.classList.toggle("cursor-help",E.s=On),Pn!==E.h&&U.classList.toggle("cursor-pointer",E.h=Pn),Rn!==E.r&&V(U,"title",E.r=Rn),Nn!==E.d&&ce.classList.toggle("ml-2",E.d=Nn),E},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0}),N})()}F(["click"]);var g0=x('<div id=report-choice-div class="w-[36rem] flex flex-col justify-center items-center"><div class="text-md text-gray-600">(Optional) reporters to run</div><div id=report-choice-items class="w-96 grid gap-2 justify-center overflow-y-auto bg-gray-100 py-4 rounded-md"style="height:calc(100vh - 10rem);">');const m0=async()=>{const{serverUrl:t}=q,n=(await(await fetch(t+"/submit/reporttypes")).json()).valid;return n.sort(),n};function p0(){const[t]=un(m0),{remoteModules:e}=be,{localModules:n}=ve;return(()=>{var r=g0(),i=r.firstChild,s=i.nextSibling;return h(s,f(le,{get each(){return t()},children:o=>f(oe,{kind:"local",moduleName:o+"reporter",doNotIndent:!0,get remoteModuleInfo(){return e[o+"reporter"]},get localModuleInfo(){return n[o+"reporter"]},get moduleInfo(){return n[o+"reporter"]}})})),r})()}var b0=x('<div id=cta-analysis-module-choice class="absolute inset-x-0 bottom-0 cursor-pointer"><div class="mx-auto max-w-7xl px-2 sm:px-6 lg:px-8"><div class="rounded-lg bg-indigo-50 p-2 shadow-md sm:p-3"><div class="flex flex-wrap items-center justify-between"><div class="flex w-0 flex-1 items-center"><p class="ml-3 truncate font-medium text-gray-500 text-center"><span>Click to select analysis modules');function v0(t){function e(){document.querySelector("#analysis-module-choice-div").scrollIntoView({behavior:"smooth"})}return(()=>{var n=b0(),r=n.firstChild,i=r.firstChild,s=i.firstChild,o=s.firstChild,l=o.firstChild;return n.$$click=e,h(o,f(Hg,{color:"#6b7280"}),l),n})()}F(["click"]);var y0=x("<button type=button class=filter-category>");function At(t){function e(n){t.setFilterCategory(t.value)}return(()=>{var n=y0();return n.$$click=e,h(n,()=>t.title),A(r=>{var i=t.value==t.filterCategory,s=t.pos=="left",o=t.pos=="right";return i!==r.e&&n.classList.toggle("pinned",r.e=i),s!==r.t&&n.classList.toggle("rounded-l-lg",r.t=s),o!==r.a&&n.classList.toggle("rounded-r-md",r.a=o),r},{e:void 0,t:void 0,a:void 0}),A(()=>n.value=t.value),n})()}F(["click"]);var w0=x('<a href=# class="text-gray-600 block px-4 py-2 text-sm text-right hover:bg-gray-100 hover:text-gray-900"role=menuitem tabindex=-1 value="">');function Kr(t){function e(){t.setSort(t.value),t.setShow(!1)}return(()=>{var n=w0();return n.$$click=e,h(n,()=>t.title),n})()}F(["click"]);var _0=x('<div class="option-list ease-in absolute right-0 z-10 mt-2 w-24 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"role=menu aria-orientation=vertical aria-labelledby=menu-button tabindex=-1><div class=py-1 role=none>');function x0(t){return(()=>{var e=_0(),n=e.firstChild;return h(n,f(Kr,{value:"Name",title:"Name",get setSort(){return t.setSort},get setShow(){return t.setShow}}),null),h(n,f(Kr,{value:"Size",title:"Size",get setSort(){return t.setSort},get setShow(){return t.setShow}}),null),h(n,f(Kr,{value:"Date",title:"Date",get setSort(){return t.setSort},get setShow(){return t.setShow}}),null),A(()=>e.classList.toggle("hidden",!t.show)),e})()}var k0=x('<div class="select-div relative inline-block text-left"value=""><div class="flex justify-center"><button name=sort type=button class="inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-1 py-2 text-sm font-medium text-gray-600 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-100"><span class=ml-2>Sort by ');function S0(t){const[e,n]=S(!1);function r(i){n(!e())}return(()=>{var i=k0(),s=i.firstChild,o=s.firstChild,l=o.firstChild;return l.firstChild,o.$$click=r,h(l,()=>t.sort,null),h(o,f(xn,{class:"ml-2 h-5 w-5"}),null),h(i,f(x0,{get show(){return e()},get setSort(){return t.setSort},setShow:n}),null),i})()}F(["click"]);var $0=x('<a href=# class="text-gray-600 block px-4 py-2 text-sm text-right bg-gray-200 hover:bg-gray-100 hover:text-gray-900"role=menuitem tabindex=-1 value="">'),I0=x('<a href=# class="text-gray-600 block px-4 py-2 text-sm text-right hover:bg-gray-100 hover:text-gray-900"role=menuitem tabindex=-1 value="">');function pt(t){function e(){t.setType(t.value),t.setShow(!1)}return f(D,{get when(){return t.value==t.type},get fallback(){return(()=>{var n=I0();return n.$$click=e,h(n,()=>t.title),n})()},get children(){var n=$0();return n.$$click=e,h(n,()=>t.title),n}})}F(["click"]);var C0=x('<div class="option-list ease-in absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"role=menu aria-orientation=vertical aria-labelledby=menu-button tabindex=-1><div class=py-1 role=none>');function T0(t){return(()=>{var e=C0(),n=e.firstChild;return h(n,f(pt,{value:"all",title:"All",get type(){return t.type},get setType(){return t.setType},get setShow(){return t.setShow}}),null),h(n,f(D,{get when(){return t.kind=="remote"},get children(){return[f(pt,{value:"converter",title:"Converter",get type(){return t.type},get setType(){return t.setType},get setShow(){return t.setShow}}),f(pt,{value:"mapper",title:"Mapper",get type(){return t.type},get setType(){return t.setType},get setShow(){return t.setShow}})]}}),null),h(n,f(pt,{value:"annotator",title:"Annotator",get type(){return t.type},get setType(){return t.setType},get setShow(){return t.setShow}}),null),h(n,f(pt,{value:"postaggregator",title:"Postaggregator",get type(){return t.type},get setType(){return t.setType},get setShow(){return t.setShow}}),null),h(n,f(D,{get when(){return t.kind=="remote"},get children(){return[f(pt,{value:"reporter",title:"Reporter",get type(){return t.type},get setType(){return t.setType},get setShow(){return t.setShow}}),f(pt,{value:"webviewerwidget",title:"Webviewer Widget",get type(){return t.type},get setType(){return t.setType},get setShow(){return t.setShow}})]}}),null),A(()=>e.classList.toggle("hidden",!t.show)),e})()}var E0=x('<div class="select-div relative inline-block text-left ml-2"value=""><div class="flex justify-center"><button name=typefilter type=button class="inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-1 py-2 text-sm font-medium text-gray-600 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-100"><span class=ml-2>');function A0(t){const[e,n]=S(!1);function r(s){n(!e())}function i(){return t.type=="all"?"All":t.type=="converter"?"Converter":t.type=="mapper"?"Mapper":t.type=="annotator"?"Annotator":t.type=="postaggregator"?"Postaggregator":t.type=="reporter"?"Reporter":t.type=="webviewerwidget"?"Webviewer Widget":"NA"}return(()=>{var s=E0(),o=s.firstChild,l=o.firstChild,a=l.firstChild;return l.$$click=r,h(a,i),h(l,f(xn,{class:"ml-2 h-5 w-5"}),null),h(s,f(T0,{get kind(){return t.kind},get type(){return t.type},get setType(){return t.setType},get show(){return e()},setShow:n}),null),s})()}F(["click"]);var O0=x('<button type=button class="graybutton inline-flex items-center rounded border border-transparent bg-gray-50 px-2.5 py-1.5 text-xs font-medium text-gray-700 shadow-sm hover:bg-gray-300 focus:outline-none drop-shadow-lg">'),P0=x('<div class="flex items-center mr-4">'),R0=x('<div class="flex mb-2"><label for=search class=sr-only>Search</label><input type=text name=search class="block rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm mr-2"placeholder=Search><div class="relative flex text-xs font-medium text-gray-700 shadow-sm items-center"><button type=button class="ml-2 graybutton inline-flex items-center rounded border border-transparent bg-gray-50 px-2.5 py-1.5 text-xs font-medium text-gray-700 shadow-sm hover:bg-gray-300 focus:outline-none drop-shadow-lg">');function qt(t){function e(o){t.setSearchText(o.target.value)}function n(o){t.setNotInstalledOnly(!t.notInstalledOnly)}function r(o){t.setExpandGroups(!t.expandGroups)}function i(){return t.notInstalledOnly?"Click to show all modules":"Click to show uninstalled modules only"}function s(){return t.expandGroups?"Click to collapse groups":"Click to expand groups"}return(()=>{var o=R0(),l=o.firstChild,a=l.nextSibling,c=a.nextSibling,u=c.firstChild;return a.$$keyup=e,h(c,f(D,{get when(){return t.showInstalledOnlyButton},get children(){var d=P0();return h(d,f(D,{get when(){return t.showUninstalledOnly},get children(){var g=O0();return g.$$click=n,h(g,f(D,{get when(){return t.notInstalledOnly},get fallback(){return f(Em,{size:22})},get children(){return f(Tm,{size:22})}})),A(v=>{var y=i(),b=!!t.notInstalledOnly;return y!==v.e&&V(g,"title",v.e=y),b!==v.t&&g.classList.toggle("checked",v.t=b),v},{e:void 0,t:void 0}),g}})),d}}),u),h(c,f(S0,{get sort(){return t.sort},get setSort(){return t.setSort}}),u),h(c,f(A0,{get kind(){return t.kind},get type(){return t.type},get setType(){return t.setType}}),u),u.$$click=r,h(u,f(D,{get when(){return t.expandGroups},get fallback(){return f(Cm,{size:22})},get children(){return f(Im,{size:22})}})),A(d=>{var g=s(),v=!!t.expandGroups;return g!==d.e&&V(u,"title",d.e=g),v!==d.t&&u.classList.toggle("checked",d.t=v),d},{e:void 0,t:void 0}),A(()=>a.value=t.searchText),o})()}F(["keyup","click"]);var N0=x('<div class="flex items-center justify-center"><p class="text-lg text-gray-700">No module met the criteria.'),so=x("<div>");function Jt(t){const{installQueue:e}=$t,{remoteModules:n}=be,{localModules:r}=ve;function i(){return e.length>0?"calc(100vh - 19rem)":"calc(100vh - 9rem)"}function s(){return N0()}return(()=>{var o=so();return h(o,f(D,{get when(){return t.moduleNames!=null&&t.moduleNames.length>0},get fallback(){return s()},get children(){return f(le,{get each(){return t.moduleNames},children:l=>(()=>{var a=so();return h(a,f(oe,{moduleName:l,get kind(){return t.kind},get remoteModuleInfo(){return n[l]},get localModuleInfo(){return r[l]},get moduleInfo(){return t.kind=="remote"?n[l]:r[l]}}),null),h(a,f(Pe,{get children(){return[f(se,{get when(){return t.kind=="remote"&&(t.expandGroups||n[l].expandGroup)},get children(){return f(le,{get each(){return n[l].groupModuleNames},children:c=>f(oe,{moduleName:c,get kind(){return t.kind},get remoteModuleInfo(){return n[c]},get localModuleInfo(){return r[c]},get moduleInfo(){return n[c]}})})}}),f(se,{get when(){return t.kind=="local"&&(t.expandGroup||r[l].expandGroup)},get children(){return f(le,{get each(){return r[l].groupModuleNames},children:c=>f(oe,{moduleName:c,get kind(){return t.kind},get remoteModuleInfo(){return n[c]},get localModuleInfo(){return r[c]},get moduleInfo(){return r[c]}})})}})]}}),null),a})()})}})),A(l=>{var a=`store-filtered-modules pr-4 overflow-auto grid grid-cols-${t.noCols}`,c=i();return a!==l.e&&wt(o,l.e=a),c!==l.t&&((l.t=c)!=null?o.style.setProperty("height",c):o.style.removeProperty("height")),l},{e:void 0,t:void 0}),o})()}var M0=x('<div id=analysis-module-filter-panel-all class="analysis-module-filter-panel w-full mt-4 overflow-auto">');function D0(t){const[e,n]=S(null),[r,i]=S("Name"),[s,o]=S("annotator"),[l,a]=S(!1),[c,u]=S([]),{localModules:d}=ve;return X(function(){u(zt(d,e(),s(),null,r(),["converter","mapper","webviewerwidget","webapp"]))}),(()=>{var g=M0();return h(g,f(qt,{kind:"local",get searchText(){return e()},setSearchText:n,get sort(){return r()},setSort:i,get type(){return s()},setType:o,get expandGroups(){return l()},setExpandGroups:a}),null),h(g,f(Jt,{kind:"local",noCols:1,get moduleNames(){return c()},setExpandGroups:a}),null),A(()=>g.classList.toggle("hidden",t.filterCategory!="all")),g})()}var L0=x('<div class="relative flex items-start mb-2"><div class="flex items-center"><input type=radio name=module-tag class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"><label class="ml-3 block text-sm font-medium text-gray-600">');function j0(t){return t.replace(" ","_")}function U0(t){return t.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}function na(t){const e=`module-tag-radio-${j0(t.value)}`;function n(){return t.selectedTag==t.value}return(()=>{var r=L0(),i=r.firstChild,s=i.firstChild,o=s.nextSibling;return s.$$click=t.setSelectedTag,s.$$clickData=t.value,V(s,"id",e),V(o,"for",e),h(o,()=>U0(t.value)),A(()=>V(r,"title",t.title)),A(()=>s.value=t.value),A(()=>s.checked=n()),r})()}F(["click"]);var F0=x('<div id=analysis-module-filter-panel-tags class="analysis-module-filter-panel w-full mt-4 overflow-auto grid grid-cols-3"><div id=analysis-module-filter-items-tags class="col-span-1 flex flex-col justify-leading pl-1 overflow-y-auto"style="height:calc(95vh - 8rem);"></div><div class=col-span-2>');const B0=async()=>{const{serverUrl:t}=q;let e=await(await fetch(t+"/submit/tags_annotators_postaggregators")).json();return e.push("no tag"),e};function z0(t){const[e]=un(B0),[n,r]=S(null),[i,s]=S("allele frequency"),[o,l]=S("Name"),[a,c]=S("all"),[u,d]=S(!1),[g,v]=S([]),{localModules:y}=ve;return X(function(){v(zt(y,n(),a(),i(),o(),["converter","mapper","webviewerwidget","webapp"]))}),(()=>{var b=F0(),m=b.firstChild,p=m.nextSibling;return h(m,f(le,{get each(){return e()},children:w=>f(na,{value:w,get selectedTag(){return i()},setSelectedTag:s})})),h(p,f(qt,{kind:"local",get searchText(){return n()},setSearchText:r,get selectedTag(){return i()},get sort(){return o()},setSort:l,get type(){return a()},setType:c,get expandGroups(){return u()},setExpandGroups:d}),null),h(p,f(Jt,{kind:"local",noCols:1,get moduleNames(){return g()},setExpandGroups:d}),null),A(()=>b.classList.toggle("hidden",t.filterCategory!="tags")),b})()}var H0=x('<div class="analysis-module-filter-wrapper col-span-7"><div id=analysis-module-filter-kinds class=w-full><div class="inline-flex rounded-md shadow-sm"role=group>');function V0(t){const[e,n]=S("all");return(()=>{var r=H0(),i=r.firstChild,s=i.firstChild;return h(s,f(At,{value:"all",title:"All",pos:"left",get filterCategory(){return e()},setFilterCategory:n}),null),h(s,f(At,{value:"tags",title:"Tags",pos:"right",get filterCategory(){return e()},setFilterCategory:n}),null),h(r,f(D0,{get filterCategory(){return e()},get localModules(){return t.localModules}}),null),h(r,f(z0,{get filterCategory(){return e()},get localModules(){return t.localModules}}),null),r})()}var W0=x('<div class=col-span-4><div class="text-gray-600 bg-gray-100 rounded-md border border-transparent font-medium px-3 py-1.5 h-[34px]">Selected analysis modules</div><div class="flex mb-2 mt-4"><button type=button class="items-center rounded border border-gray-300 bg-white px-2.5 py-1.5 text-xs font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 h-[38px]">Clear</button></div><div class="relative filtered-modules-div overflow-auto pr-2">');function G0(){const{annotators:t,setAnnotators:e,postaggregators:n,setPostaggregators:r}=Er,{remoteModules:i}=be,{localModules:s}=ve;function o(){let a=[];for(const c in t)a.push(c);for(const c in n)a.push(c);return a.sort(),a}function l(){e(ie({})),r(ie({}))}return(()=>{var a=W0(),c=a.firstChild,u=c.nextSibling,d=u.firstChild,g=u.nextSibling;return d.$$click=l,g.style.setProperty("height","calc(100vh - 12rem)"),h(g,f(le,{get each(){return o()},children:function(v){return f(oe,{kind:"local",selectedCard:!0,moduleName:v,doNotIndent:!0,get remoteModuleInfo(){return i[v]},get localModuleInfo(){return s[v]},get moduleInfo(){return s[v]}})}})),a})()}F(["click"]);var q0=x('<div id=cta-input class="absolute inset-x-0 top-0 cursor-pointer"><div class="mx-auto max-w-7xl px-2 sm:px-6 lg:px-8"><div class="rounded-lg bg-indigo-50 p-2 shadow-md sm:p-3"><div class="flex flex-wrap items-center justify-between"><div class="flex w-0 flex-1 items-center"><p class="ml-3 truncate font-medium text-gray-500 text-center"><span>Go back to the input panel');function J0(t){function e(){document.querySelector("#input-div").scrollIntoView({behavior:"smooth"})}return(()=>{var n=q0(),r=n.firstChild,i=r.firstChild,s=i.firstChild,o=s.firstChild,l=o.firstChild;return n.$$click=e,h(o,f(Gg,{color:"#6b7280"}),l),n})()}F(["click"]);var K0=x('<div id=analysis-module-choice-div class="relative container mt-6 mb-4 snap-center flex justify-center max-w-7xl max-w-7xl"><div id=analysis-module-filter-div class="bg-white p-4 rounded-md ml-4 mt-4 overflow-auto flex flex-col gap-8 text-gray-600 h-[95vh] w-full"><div id=analysis-module-div class="grid grid-cols-12 gap-2 mt-8"style="height:calc(95vh - 20rem);"><div class="col-span-1 flex flex-col justify-center content-center items-center">');function Q0(t){return(()=>{var e=K0(),n=e.firstChild,r=n.firstChild,i=r.firstChild;return e.style.setProperty("height","calc(100vh - 3rem)"),h(e,f(J0,{}),n),h(r,f(V0,{get localModules(){return t.localModules}}),i),h(i,f(Wg,{})),h(r,f(G0,{}),null),e})()}var Z0=x('<li><a href=# class="block hover:bg-gray-50"><div class=py-4><div class="flex items-center justify-between"><p class="truncate text-sm font-medium text-indigo-600"></p></div><div class="mt-2 sm:flex sm:justify-between"><div class="mt-2 w-full flex items-center text-sm text-gray-500 sm:mt-0"><div class="w-full bg-gray-200 rounded-full dark:bg-gray-700"><div class="bg-blue-600 text-xs font-medium text-blue-100 text-center p-0.5 leading-none rounded-full">%');function Y0(t){return(()=>{var e=Z0(),n=e.firstChild,r=n.firstChild,i=r.firstChild,s=i.firstChild,o=i.nextSibling,l=o.firstChild,a=l.firstChild,c=a.firstChild,u=c.firstChild;return h(s,()=>t.fileName),h(c,()=>t.progress,u),A(()=>t.progress+"%"!=null?c.style.setProperty("width",t.progress+"%"):c.style.removeProperty("width")),e})()}var X0=x('<div class="relative z-10"aria-labelledby=modal-title role=dialog aria-modal=true><div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"></div><div class="fixed inset-0 z-10 overflow-y-auto"><div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"><div class="relative transform overflow-hidden rounded-lg bg-white px-4 pt-5 pb-4 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-2xl sm:p-6"><div><div class="mt-3 text-center sm:mt-5"><ul role=list class="divide-y divide-gray-200"></ul></div></div><div class="mt-5 sm:mt-6"><button type=button class="inline-flex w-full justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:text-sm">Cancel');function eb(t){function e(){t.controller.abort()}return(()=>{var n=X0(),r=n.firstChild,i=r.nextSibling,s=i.firstChild,o=s.firstChild,l=o.firstChild,a=l.firstChild,c=a.firstChild,u=l.nextSibling,d=u.firstChild;return h(c,f(Y0,{fileName:"Uploading...",get progress(){return t.uploadState.progress}})),d.$$click=e,n})()}F(["click"]);var tb=x('<div class="fixed z-10"aria-labelledby=modal-title role=dialog aria-modal=true><div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"></div><div class="fixed inset-0 z-10 w-screen overflow-y-auto"><div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"><div class="relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6"><div class="sm:flex sm:items-start"><div class="mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-orange-100 sm:mx-0 sm:h-10 sm:w-10"><svg class="h-6 w-6 text-orange-600"fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor aria-hidden=true><path stroke-linecap=round stroke-linejoin=round d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"></path></svg></div><div class="mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left"><h3 class="text-base font-semibold leading-6 text-gray-900"id=modal-title></h3><div class=mt-2><p class="text-sm text-gray-500"></p></div></div></div><div class="mt-5 sm:mt-4 sm:flex sm:flex-row-reverse"><button type=button class="inline-flex w-full justify-center rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 sm:ml-3 sm:w-auto">Proceed</button><button type=button class="mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto">Cancel');function nb(t){return(()=>{var e=tb(),n=e.firstChild,r=n.nextSibling,i=r.firstChild,s=i.firstChild,o=s.firstChild,l=o.firstChild,a=l.nextSibling,c=a.firstChild,u=c.nextSibling,d=u.firstChild,g=o.nextSibling,v=g.firstChild,y=v.nextSibling;return h(c,()=>t.title),h(d,()=>t.text),Lt(v,"click",t.ycallback,!0),Lt(y,"click",t.ncallback,!0),e})()}F(["click"]);var rb=x('<div class="tabcontent p-4 snap-y snap-mandatory h-screen overflow-y-auto"><div class="relative container flex gap-8 snap-center max-w-7xl h-[95vh] justify-center items-start">'),ib=x("<div>Loading..."),sb=x("<div><span>Analysis submission was successful.</span><br><span>You can find the status of your analysis submission on the Results section.</span><br><span>"),ob=x("<div class=text-md><div>No analysis module was selected.</div><div class=mt-2>Proceed to submit?");const{tabName:lb}=gt,{localModules:ab,getModuleOptions:cb}=ve,{serverUrl:ub,withCredentials:db}=q,{logged:oo}=he,{multiuser:lo}=pe;function fb(t){const[e,n]=S("drop"),[r,i]=S(""),[s,o]=S([]),[l,a]=S(""),{annotators:c,setAnnotators:u,postaggregators:d,setPostaggregators:g,reporters:v,setReporters:y}=Er,[b,m]=S(""),[p,w]=S(!1),[_,k]=S(null),[P,T]=S(null),[C,I]=S(!1),[O,R]=S({}),[N,z]=S(!1),[M,U]=S(null),[K,H]=S(!1),[re,Ce]=S(!1),[fe,ye]=S(!1);let ce=[],ke=null,E={},we;X(function(){lo()&&!oo()&&Ze()});function Ze(){n("drop"),i(""),o([]),a([]),u(ie({})),g(ie({})),y(ie({})),m(""),w(!1),k(null),T(null),I(!1),R({})}function Cn(){return re()}function Tn(){let B=[],ge=l().split(`
`);for(var Ye=0;Ye<ge.length;Ye++){let me=ge[Ye];me==""||me.startsWith("#")||B.push(me.trim())}B.length>0&&(E.inputServerFiles=B)}function En(){ce=[];const B=new Blob([l()],{type:"text/plain"});ce.push(new File([B],"input"))}function An(){Cn()?Tn():En()}function On(){E.annotators=[];for(const B in c)E.annotators.push(B)}function Pn(){E.postaggregators=[];for(const B in d)E.postaggregators.push(B)}function Rn(){E.report_types=[];for(const B in v)E.report_types.push(B.substring(0,B.lastIndexOf("reporter")))}function Nn(){b()!="auto"&&(E.genome=b())}function va(){E.input_format=r()}function ya(){E.job_name=_()}function wa(){E.note=P()}function _a(B){let ge={};for(const me in c)ge[me]=c[me];for(const me in d)ge[me]=d[me];for(const me in v)ge[me]=v[me];const Ye=cb(ge,B);E.module_options=Ye}function Qi(){we=new AbortController,I(!0),R({progress:0}),L({method:"post",url:ub+"/submit/submit?"+Math.random(),data:ke,transformRequest:()=>ke,signal:we.signal,withCredentials:db,onUploadProgress:B=>{let ge=Math.round(B.progress*100);R({progress:ge})}}).then(function(B){I(!1),U(B.data.job_name),z(!0),setTimeout(function(){t.setJobsTrigger(!t.jobsTrigger)},500)}).catch(function(B){B.code!="ERR_CANCELED"&&G(B),R({}),I(!1)})}function xa(){E.combine_input=K()!=!0}function Zi(){ce={},e()=="drop"?ce=s():e()=="paste"&&An()}function ka(){if(ce.length>0)for(var B=0;B<ce.length;B++)ke.append("file_"+B,ce[B])}function Sa(B){ke.append("file_"+B,ce[B])}function $a(){ke=new FormData}function Yi(B){return $a(),K()!=!0?ka():Sa(B),Ca()}function Ia(){var B=0;for(const ge in c)B+=1;for(const ge in d)B+=1;B==0?ye(!0):Xi()}function Ca(){return On(),Pn(),Rn(),Nn(),va(),xa(),ya(),wa(),_a(ke),E.writeadmindb=!0,ke.append("options",JSON.stringify(E)),!0}function Ta(){return E={},Zi(),Yi()==!1,Qi(),!0}function Ea(){E={},Zi();for(let B=0;B<ce.length;B++)Yi(B)==!1,Qi();return!0}function Xi(){return K()==!0?Ea():Ta()}return(()=>{var B=rb(),ge=B.firstChild;return h(ge,f(D,{get when(){return lo()==!1||oo()==!0},get children(){return f(Rp,{get inputMode(){return e()},setInputMode:n,get inputDataDrop(){return s()},setInputDataDrop:o,get inputDataPaste(){return l()},setInputDataPaste:a,get assembly(){return b()},setAssembly:m,get inputFormat(){return r()},setInputFormat:i,get inputExists(){return p()},setInputExists:w,get jobName(){return _()},setJobName:k,get jobNote(){return P()},setJobNote:T,submitFn:Ia,get separateJobPerFile(){return K()},setSeparateJobPerFile:H,serverFileMode:re,setServerFileMode:Ce})}}),null),h(ge,f(D,{get when(){return p()},get children(){return[f(D,{get when(){return!cr(ab)},get fallback(){return ib()},get children(){return f(p0,{})}}),f(v0,{})]}}),null),h(B,f(D,{get when(){return p()},get children(){return f(Q0,{})}}),null),h(B,f(D,{get when(){return C()},get children(){return f(eb,{get uploadState(){return O()},controller:we})}}),null),h(B,f(D,{get when(){return N()==!0},get children(){return f(Tr,{get title(){return"Success: "+M()},get text(){return(()=>{var Ye=sb(),me=Ye.firstChild,Aa=me.nextSibling,Oa=Aa.nextSibling,Pa=Oa.nextSibling,Ra=Pa.nextSibling;return h(Ra,()=>"Look for the name "+M()+"."),Ye})()},callback:function(){z(!1)}})}}),null),h(B,f(D,{get when(){return fe()},get children(){return f(nb,{title:"Warning",get text(){return ob()},ycallback:function(){ye(!1),Xi()},ncallback:function(){ye(!1)}})}}),null),A(()=>B.classList.toggle("hidden",lb()!="submit")),B})()}var hb=x('<a href=# class="text-gray-600 block px-4 py-2 text-sm text-right hover:bg-gray-100 hover:text-gray-900"role=menuitem tabindex=-1 value="">');function gb(t){function e(){t.setAction(t.optionValue),t.execute(),t.setShow(!1)}return(()=>{var n=hb();return n.$$click=e,h(n,()=>t.optionTitle),n})()}F(["click"]);var mb=x('<div class="option-list ease-in absolute right-0 z-10 mt-12 w-24 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"role=menu><div class=py-1 role=none>');function pb(t){return(()=>{var e=mb(),n=e.firstChild;return h(n,f(le,{get each(){return t.options},children:function(r){return f(gb,{get optionValue(){return r.value},get optionTitle(){return r.title},get execute(){return t.execute},get setAction(){return t.setAction},get setShow(){return t.setShow}})}})),A(()=>e.classList.toggle("hidden",!t.show)),e})()}var bb=x('<div class="select-div relative inline-flex text-left"><div><button type=button class="inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-600 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-100"id=assembly-select-div title="Job action">Action');function vb(t){const[e,n]=S(!1),[r,i]=S(""),s=[{value:"abort",title:"Abort"},{value:"delete",title:"Delete"},{value:"copy_to_submit",title:"Copy to submit"}];function o(){t.performJobAction(r())}function l(a){n(!e())}return(()=>{var a=bb(),c=a.firstChild,u=c.firstChild;return u.firstChild,u.$$click=l,h(u,f(xn,{class:"-mr-1 ml-2 h-5 w-5"}),null),h(a,f(pb,{get show(){return e()},options:s,execute:o,setAction:i,setShow:n}),null),a})()}F(["click"]);var yb=x('<div class="flex bg-white pb-2 mt-2"><div class=flex><nav class="isolate inline-flex rounded-md shadow-sm ml-8"aria-label=Pagination><a href=# class="jobs-table-page-nav-btn relative inline-flex items-center rounded-l-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 focus:z-20"></a><span aria-current=page class="relative z-10 inline-flex items-center border bg-white border-gray-300 text-gray-500 px-4 py-2 text-sm font-medium focus:z-20"></span><a href=# class="jobs-table-page-nav-btn relative inline-flex items-center rounded-r-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 focus:z-20"></a><span class="relative inline-flex items-center border-gray-300 bg-white ml-4 px-2 py-2 text-sm font-medium text-gray-500">Go to page</span><input type=text class="relative inline-flex items-center rounded-md w-12 border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500"><a href=# class="relative inline-flex items-center rounded-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 focus:z-20">Go</a><span class="relative inline-flex items-center border-gray-300 bg-white ml-4 px-2 py-2 text-sm font-medium text-gray-500">Show</span><input type=text class="relative inline-flex items-center rounded-md w-12 border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500"><a href=# class="relative inline-flex items-center rounded-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 focus:z-20">jobs per page</a><a href=# class="relative inline-flex items-center rounded-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 focus:z-20 ml-4">');function wb(t){function e(){let o=t.pageno;o=o-1,o<=0&&(o=1),o!=t.pageno&&t.setPageno(o)}function n(){let o=t.pageno;o=o+1,o!=t.pageno&&t.setPageno(o)}function r(o){let l=o.target.value;try{l=parseInt(l)}catch(a){console.error(a);return}l<1&&(l=1),t.setPageno(l)}function i(o){let l=o.target.value;try{l=parseInt(l)}catch(a){console.error(a);return}t.setPagesize(l)}function s(o){t.setJobsTrigger(!t.jobsTrigger)}return(()=>{var o=yb(),l=o.firstChild,a=l.firstChild,c=a.firstChild,u=c.nextSibling,d=u.nextSibling,g=d.nextSibling,v=g.nextSibling,y=v.nextSibling,b=y.nextSibling,m=b.nextSibling,p=m.nextSibling,w=p.nextSibling;return h(l,f(vb,{get performJobAction(){return t.performJobAction}}),a),c.$$click=e,h(c,f(qg,{class:"w-5 h-5"})),h(u,()=>t.pageno),d.$$click=n,h(d,f(Jg,{class:"w-5 h-5"})),v.addEventListener("change",r),m.addEventListener("change",i),w.$$click=s,h(w,f(Vg,{class:"w-5 h-5"})),A(()=>v.value=t.pageno),A(()=>m.value=t.pagesize),o})()}F(["click"]);var ao=x("<div>"),_b=x('<span class="inline-flex rounded-full bg-green-100 px-2 text-xs font-semibold leading-5 text-green-800">'),xb=x('<span class="inline-flex rounded-full bg-amber-100 px-2 text-xs font-semibold leading-5 text-amber-800">'),kb=x('<span class="inline-flex rounded-full bg-red-100 px-2 text-xs font-semibold leading-5 text-red-800">'),Sb=x('<span class="inline-flex text-xs">'),$b=x('<tr class="text-sm h-16"><td scope=col class="relative w-12 px-6 sm:w-16 sm:px-8 bg-gray-50"><input type=checkbox class="absolute left-4 top-1/2 -mt-2 h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 sm:left-6"></td><td class=jobs-table-td></td><td class="jobs-table-td bg-gray-50"></td><td class=jobs-table-td></td><td class="jobs-table-td bg-gray-50"></td><td class=jobs-table-td></td><td class="jobs-table-td bg-gray-50 text-xs"></td><td class=jobs-table-td></td><td class="jobs-table-td bg-gray-50"></td><td class=jobs-table-td>');function Ib(t){return t=="Finished"||t=="Error"||t=="Aborted"}function Cb(t){const{serverUrl:e,withCredentials:n}=q,r=1e4;let i=null;nn(()=>clearInterval(i));function s(){t.changeJobChecked(t.job.uid),t.setAllMarksOn(null)}function o(){L.get(e+"/submit/jobstatus",{params:{uid:t.job.uid},withCredentials:n}).then(function(m){const p=m.data;Ib(p)&&clearInterval(i),t.changeJobStatus(t.job.uid,p)}).catch(function(m){console.error(m)})}function l(){const m=t.job.status;m!="Finished"&&m!="Error"&&m!="Aborted"&&(i=setInterval(function(){o()},r))}function a(){return t.job.status=="Finished"}function c(){return a()?f(ot,{children:"View",get hrefValue(){return e+"/result/nocache/index.html?uid="+t.job.uid},targetValue:"_blank",bgColor:"bg-sky-100",bgHoverColor:"hover:bg-sky-200"}):ao()}function u(){return f(ot,{children:"Log",get hrefValue(){return e+"/submit/joblog?uid="+t.job.uid},targetValue:"_blank",bgColor:"bg-gray-100",bgHoverColor:"hover:bg-gray-200"})}function d(){return a()?f(ot,{children:"DB",get hrefValue(){return e+"/submit/jobdb?uid="+t.job.uid},targetValue:"_blank",bgColor:"bg-gray-100",bgHoverColor:"hover:bg-gray-200"}):ao()}function g(){const m=t.job.status;return m=="Finished"?(()=>{var p=_b();return h(p,()=>t.job.status),p})():m=="Aborted"?(()=>{var p=xb();return h(p,()=>t.job.status),p})():m=="Error"?(()=>{var p=kb();return h(p,()=>t.job.status),p})():(()=>{var p=Sb();return h(p,()=>t.job.status),p})()}function v(){return t.job.info_json.orig_input_fname?t.job.info_json.orig_input_fname.join(", "):""}function y(){return(""+new Date(t.job.info_json.submission_time)).split("GMT")[0]}function b(){let m=[];const p=t.job.info_json;if(!p)return"";const w=p.annotators;if(w)for(const k of w)k!="original_input"&&m.push(k);const _=p.postaggregators;if(_)for(const k of _)m.push(k);return m.join(", ")}return l(),(()=>{var m=$b(),p=m.firstChild,w=p.firstChild,_=p.nextSibling,k=_.nextSibling,P=k.nextSibling,T=P.nextSibling,C=T.nextSibling,I=C.nextSibling,O=I.nextSibling,R=O.nextSibling,N=R.nextSibling;return p.$$click=s,h(_,()=>t.job.name),h(k,g),h(P,c),h(T,v),h(C,b),h(I,y),h(O,u),h(R,d),h(N,()=>t.job.info_json.note),A(()=>w.checked=t.job.checked),m})()}F(["click"]);var Tb=x('<div class="flex flex-col"><div class="relative shadow ring-1 ring-black ring-opacity-5 md:rounded-lg overflow-auto"><table class="table-fixed divide-y divide-gray-300"><thead class="table-header-group bg-gray-50 block"><tr><th scope=col class="relative w-12 px-6 sm:w-16 sm:px-8"><input type=checkbox class="absolute left-4 top-1/2 -mt-2 h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 sm:left-6"></th><th scope=col class="jobs-table-th min-w-[10rem]">Name</th><th scope=col class="jobs-table-th min-w-[5rem]">State</th><th scope=col class="jobs-table-th min-w-[5rem]">View</th><th scope=col class="jobs-table-th min-w-[20rem]">Input</th><th scope=col class="jobs-table-th min-w-[10rem]">Modules</th><th scope=col class="jobs-table-th min-w-[8rem]">Submitted</th><th scope=col class="jobs-table-th min-w-[5rem]">Log</th><th scope=col class="jobs-table-th min-w-[5rem]">DB</th><th scope=col class="jobs-table-th w-full">Note</th></tr></thead><tbody class="table-row-group divide-y divide-gray-200 bg-white block overflow-auto h-[36rem]">');function Eb(t){const[e,n]=S(null);function r(){if(e()==!0?n(!1):(e()==null||e()==!1)&&n(!0),e()==!0)for(const i of t.jobs)t.changeJobChecked(i.uid,!0);else if(e()==!1)for(const i of t.jobs)t.changeJobChecked(i.uid,!1)}return(()=>{var i=Tb(),s=i.firstChild,o=s.firstChild,l=o.firstChild,a=l.firstChild,c=a.firstChild,u=c.firstChild,d=l.nextSibling;return u.$$click=r,h(d,f(le,{get each(){return t.jobs},children:g=>f(Cb,{job:g,get changeJobStatus(){return t.changeJobStatus},get changeJobChecked(){return t.changeJobChecked},setAllMarksOn:n})})),A(()=>u.checked=e()),i})()}F(["click"]);var Ab=x('<div class="fixed z-10"aria-labelledby=modal-title role=dialog aria-modal=true><div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"></div><div class="fixed inset-0 z-10 overflow-y-auto"><div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"><div class="relative transform overflow-hidden rounded-lg bg-white px-4 pt-5 pb-4 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-sm sm:p-6"><div><div class=text-center><p class="text-sm text-gray-500">');function Ob(t){return(()=>{var e=Ab(),n=e.firstChild,r=n.nextSibling,i=r.firstChild,s=i.firstChild,o=s.firstChild,l=o.firstChild,a=l.firstChild;return h(a,()=>t.msg),A(()=>e.classList.toggle("hidden",t.msg==null)),e})()}var Pb=x('<div id=tab_jobs class="tabcontent px-6 mb-4"><div>');const{serverUrl:Qr,withCredentials:Zr}=q,{logged:Rb,setLogged:Nb}=he,{multiuser:Mb}=pe,{email:Db}=Je,{setAnnotators:Lb,setPostaggregators:jb,setReporters:Ub}=Er;function Fb(t){const{tabName:e}=gt,[n,r]=Te([]),[i,s]=S(1),[o,l]=S(10),[a,c]=S(null);X(function(){(Mb()==!1||Rb()==!0)&&g(i(),o(),t.jobsTrigger)});function u(m,p){r(w=>w.uid==m,"status",p)}function d(m,p){p==null?r(w=>w.uid==m,"checked",w=>!w):r(w=>w.uid==m,"checked",p)}function g(m,p,w){L.post(Qr+"/submit/jobs",{pageno:m,pagesize:p},{withCredentials:Zr}).then(function(_){if(_.status=="error"){Nb(!1);return}const k=_.data;r(k)}).catch(function(_){console.error(_),_.response.status==404&&s(i()-1)})}function v(m,p){const w=m.map(_=>_.uid);L.post(Qr+"/submit/delete_jobs",{uids:w,abort_only:p},{withCredentials:Zr}).then(function(){t.setJobsTrigger(!t.jobsTrigger),c(null)}).catch(function(_){console.error(_),c(null)})}function y(m){const p=m.map(_=>_.uid);if(p.length==0)return;const w=p[0];L.post(Qr+"/submit/jobinfo",{username:Db(),uid:w},{withCredentials:Zr}).then(function(_){const k=_.data,P=k.annotators,T=k.postaggregators;var C=k.report_types;Lb(ie({})),jb(ie({})),Ub(ie({}));for(const I of P)yt(I);for(const I of T)yt(I);for(const I of C)yt(I);c(null)}).catch(function(_){console.error(_),c(null)})}function b(m){const p=n.filter(w=>w.checked);m=="delete"?(c("Deleting jobs..."),v(p,!1)):m=="abort"?(c("Aborting jobs..."),v(p,!0)):m=="copy_to_submit"&&(c("Copying job setting to submit..."),y(p))}return(()=>{var m=Pb(),p=m.firstChild;return h(p,f(wb,{get pageno(){return i()},setPageno:s,get pagesize(){return o()},setPagesize:l,get jobsTrigger(){return t.jobsTrigger},get setJobsTrigger(){return t.setJobsTrigger},performJobAction:b}),null),h(p,f(Eb,{jobs:n,changeJobStatus:u,changeJobChecked:d}),null),h(m,f(Ob,{get msg(){return a()}}),null),A(()=>m.classList.toggle("hidden",e()!="jobs")),m})()}var Bb=x('<div class="remote-module-filter-panel w-full mt-4 overflow-auto"><div class=store-filtered-modules><h1 class="text-4xl font-extrabold dark:text-white">Welcome to Module Store!</h1><p class="mb-6 text-lg font-normal text-gray-500 lg:text-xl dark:text-gray-400">Ultimate store of genomic variant analysis modules</p><div class="mt-4 text-base pr-4"><p><span class=font-bold>All</span> tab lists all available modules. In <span class=font-bold>Tags</span> tab, modules can be searched by the tags provided by the developers of modules. To quickly see all the modules already installed in the system, click <span class=font-bold>Installed</span> tab. When an updated version of any of installed modules is available, <span class=font-bold>Updates available</span> tab will appear.</p><p class=mt-2>To install a module, hover on the module card and click <span class=font-bold>Install</span>. Module installation is queued at the bottom. If you cancel the installation of a module, click the module card in the queue area.</p><p class=mt-2>Below are some of popular modules for you to get started!</p><p class=my-2>For cancer research:</p><p class="mt-4 mb-2">For clinical implications of variants:</p><p class="mt-4 mb-2">For allele frequencies in different populations:</p><p class="mt-4 mb-2">For actionable gene-drug associations:</p><p class="mt-4 mb-2">For the prediction of varinat effect:</p></div><p class=mt-2>Look around and happy annotating!');function zb(t){const{installQueue:e}=$t,{remoteModules:n}=be,{localModules:r}=ve;function i(){return e.length>0?"calc(100vh - 15rem)":"calc(100vh - 9rem)"}return(()=>{var s=Bb(),o=s.firstChild,l=o.firstChild,a=l.nextSibling,c=a.nextSibling,u=c.firstChild,d=u.nextSibling,g=d.nextSibling,v=g.nextSibling,y=v.nextSibling,b=y.nextSibling,m=b.nextSibling,p=m.nextSibling;return h(c,f(oe,{moduleName:"civic",get addToInstallQueue(){return t.addToInstallQueue},kind:"remote",get remoteModuleInfo(){return n.civic},get localModuleInfo(){return r.civic},get moduleInfo(){return n.civic}}),y),h(c,f(oe,{moduleName:"cosmic",get addToInstallQueue(){return t.addToInstallQueue},kind:"remote",get remoteModuleInfo(){return n.cosmic},get localModuleInfo(){return r.cosmic},get moduleInfo(){return n.cosmic}}),y),h(c,f(oe,{moduleName:"oncokb",get addToInstallQueue(){return t.addToInstallQueue},kind:"remote",get remoteModuleInfo(){return n.oncokb},get localModuleInfo(){return r.oncokb},get moduleInfo(){return n.oncokb}}),y),h(c,f(oe,{moduleName:"clinvar",get addToInstallQueue(){return t.addToInstallQueue},kind:"remote",get remoteModuleInfo(){return n.clinvar},get localModuleInfo(){return r.clinvar},get moduleInfo(){return n.clinvar}}),b),h(c,f(oe,{moduleName:"grasp",get addToInstallQueue(){return t.addToInstallQueue},kind:"remote",get remoteModuleInfo(){return n.grasp},get localModuleInfo(){return r.grasp},get moduleInfo(){return n.grasp}}),b),h(c,f(oe,{moduleName:"gwas_catalog",get addToInstallQueue(){return t.addToInstallQueue},kind:"remote",get remoteModuleInfo(){return n.gwas_catalog},get localModuleInfo(){return r.gwas_catalog},get moduleInfo(){return n.gwas_catalog}}),b),h(c,f(oe,{moduleName:"omim",get addToInstallQueue(){return t.addToInstallQueue},kind:"remote",get remoteModuleInfo(){return n.omim},get localModuleInfo(){return r.omim},get moduleInfo(){return n.omim}}),b),h(c,f(oe,{moduleName:"thousandgenomes",get addToInstallQueue(){return t.addToInstallQueue},kind:"remote",get remoteModuleInfo(){return n.thousandgenomes},get localModuleInfo(){return r[moduleName]},get moduleInfo(){return n.thousandgenomes}}),m),h(c,f(oe,{moduleName:"gnomad3",get addToInstallQueue(){return t.addToInstallQueue},kind:"remote",get remoteModuleInfo(){return n.gnomad3},get localModuleInfo(){return r.gnomad3},get moduleInfo(){return n.gnomad3}}),m),h(c,f(oe,{moduleName:"pharmgkb",get addToInstallQueue(){return t.addToInstallQueue},kind:"remote",get remoteModuleInfo(){return n.pharmgkb},get localModuleInfo(){return r.pharmgkb},get moduleInfo(){return n.pharmgkb}}),p),h(c,f(oe,{moduleName:"cadd",get addToInstallQueue(){return t.addToInstallQueue},kind:"remote",get remoteModuleInfo(){return n.cadd},get localModuleInfo(){return r.cadd},get moduleInfo(){return n.cadd}}),null),h(c,f(oe,{moduleName:"fathmm",get addToInstallQueue(){return t.addToInstallQueue},kind:"remote",get remoteModuleInfo(){return n.fathmm},get localModuleInfo(){return r.fathmm},get moduleInfo(){return n.fathmm}}),null),h(c,f(oe,{moduleName:"sift",get addToInstallQueue(){return t.addToInstallQueue},kind:"remote",get remoteModuleInfo(){return n.sift},get localModuleInfo(){return r.sift},get moduleInfo(){return n.sift}}),null),h(c,f(oe,{moduleName:"polyphen2",get addToInstallQueue(){return t.addToInstallQueue},kind:"remote",get remoteModuleInfo(){return n.polyphen2},get localModuleInfo(){return r.polyphen2},get moduleInfo(){return n.polyphen2}}),null),A(w=>{var _=t.filterCategory!="home",k=i();return _!==w.e&&s.classList.toggle("hidden",w.e=_),k!==w.t&&((w.t=k)!=null?s.style.setProperty("height",k):s.style.removeProperty("height")),w},{e:void 0,t:void 0}),s})()}var Hb=x('<div class="remote-module-filter-panel w-full mt-4 overflow-auto">');const{getNotInstalledModules:Vb}=mt;function Wb(t){const[e,n]=S(null),[r,i]=S(!1),[s,o]=S("Name"),[l,a]=S("annotator"),[c,u]=S(!1),[d,g]=S([]),{remoteModules:v}=be;return X(function(){r()==!0?g(Vb(e(),[l()],null,s())):g(zt(v,e(),[l()],null,s(),[]))}),(()=>{var y=Hb();return h(y,f(qt,{kind:"remote",get searchText(){return e()},setSearchText:n,get notInstalledOnly(){return r()},setNotInstalledOnly:i,showUninstalledOnly:!0,get sort(){return s()},setSort:o,get type(){return l()},setType:a,get expandGroups(){return c()},setExpandGroups:u}),null),h(y,f(Jt,{kind:"remote",noCols:1,get moduleNames(){return d()},get expandGroups(){return c()}}),null),A(()=>y.classList.toggle("hidden",t.filterCategory!="all")),y})()}var Gb=x('<div class="remote-module-filter-panel w-full mt-4 overflow-auto flex"><div class="store-filtered-modules col-span-1 flex flex-col justify-leading pl-1 overflow-y-auto w-[20rem]"></div><div class="ml-8 w-full">');const{remoteModules:qb,remoteTags:co}=be,{getNotInstalledModules:Jb}=mt;function Kb(t){const[e,n]=S(null),[r,i]=S("clinical relevance"),[s,o]=S("Name"),[l,a]=S("all"),[c,u]=S(!1),[d,g]=S([]);return X(function(){c()==!0?g(Jb(e(),[l()],r(),s())):g(zt(qb,e(),[l()],r(),s(),[]))}),(()=>{var v=Gb(),y=v.firstChild,b=y.nextSibling;return h(y,f(le,{get each(){return Object.keys(co()).sort()},children:m=>f(na,{value:m,get title(){return co()[m]},get selectedTag(){return r()},setSelectedTag:i})})),h(b,f(qt,{kind:"remote",get searchText(){return e()},setSearchText:n,get notInstalledOnly(){return c()},setNotInstalledOnly:u,showUninstalledOnly:!0,get sort(){return s()},setSort:o,get type(){return l()},setType:a}),null),h(b,f(Jt,{kind:"remote",noCols:1,get moduleNames(){return d()}}),null),A(()=>v.classList.toggle("hidden",t.filterCategory!="tags")),v})()}var Qb=x('<div class="remote-module-filter-panel w-full mt-4 overflow-auto">');const{getInstalledModules:Zb}=mt;function Yb(t){const[e,n]=S(null),[r,i]=S("Name"),[s,o]=S("annotator"),[l,a]=S([]);return X(function(){a(Zb(e(),[s()],null,null,r()))}),(()=>{var c=Qb();return h(c,f(qt,{kind:"remote",get searchText(){return e()},setSearchText:n,get sort(){return r()},setSort:i,get type(){return s()},setType:o}),null),h(c,f(Jt,{kind:"remote",noCols:1,get moduleNames(){return l()}}),null),A(()=>c.classList.toggle("hidden",t.filterCategory!="installed")),c})()}var Xb=x('<div class="remote-module-filter-panel w-full mt-4 overflow-auto">');const{getInstalledModules:ev}=mt;function tv(t){const[e,n]=S(null),[r,i]=S([]),[s,o]=S("Name"),[l,a]=S([]);return X(function(){a(ev(e(),r(),null,!0,s()))}),(()=>{var c=Xb();return h(c,f(qt,{kind:"update",side:"remote",get searchText(){return e()},setSearchText:n,get sort(){return s()},setSort:o}),null),h(c,f(Jt,{kind:"update",side:"remote",noCols:1,get moduleNames(){return l()}}),null),A(()=>c.classList.toggle("hidden",t.filterCategory!="update")),c})()}var nv=x('<div class="flex-inline mr-2"><svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"><circle class=opacity-25 cx=12 cy=12 r=10 stroke-width=4></circle><path class=opacity-75 fill=currentColor d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">');function Sn(t){let e=t.width||5,n=t.height||5,r=t.stroke||"currentColor";return(()=>{var i=nv(),s=i.firstChild,o=s.firstChild;return V(s,"class",`hide animate-spin ml-1 h-${e} w-${n} text-white m-auto`),V(o,"stroke",r),A(()=>s.classList.toggle("hidden",!t.show)),i})()}var rv=x('<button type=button class="ml-4 inline-flex items-center px-5 py-2.5 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Updates available<span class="inline-flex justify-center items-center ml-2 w-4 h-4 text-xs font-semibold text-blue-800 bg-blue-200 rounded-full">'),iv=x('<div class="analysis-module-filter-wrapper col-span-7 grow"><div class=w-full><div class="inline-flex rounded-md shadow-sm"role=group><button type=button class="ml-4 inline-flex items-center px-5 py-2.5 text-sm font-medium text-center text-white bg-gray-500 rounded-lg hover:bg-gray-600 focus:ring-4 focus:outline-none focus:ring-gray-300 dark:bg-gray-600 dark:hover:bg-gray-700 dark:focus:ring-gray-800 min-w-[6rem] place-content-center">');const{updateAvailable:sv,numUpdateAvailable:ov,setInitialLoaded:lv,refreshOn:uo,setRefreshOn:av}=mt;function cv(t){const[e,n]=S("home"),{setLocalModules:r,loadAllLocalModules:i}=ve,{setRemoteModules:s,loadAllRemoteModules:o}=be;function l(){av(!0),r(ie({})),s(ie({})),lv(!1),i("true"),o("true")}return(()=>{var a=iv(),c=a.firstChild,u=c.firstChild,d=u.firstChild;return h(u,f(At,{value:"home",title:"Home",pos:"left",get filterCategory(){return e()},setFilterCategory:n}),d),h(u,f(At,{value:"all",title:"All",pos:"center",get filterCategory(){return e()},setFilterCategory:n}),d),h(u,f(At,{value:"tags",title:"Tags",pos:"center",get filterCategory(){return e()},setFilterCategory:n}),d),h(u,f(At,{value:"installed",title:"Installed",pos:"right",get filterCategory(){return e()},setFilterCategory:n}),d),d.$$click=l,h(d,f(D,{get when(){return uo()==!0},fallback:"Refresh",get children(){return f(Sn,{show:!0,width:5,height:5,stroke:"#000000"})}})),h(u,f(D,{get when(){return sv()==!0},get children(){var g=rv(),v=g.firstChild,y=v.nextSibling;return g.$$click=n,g.$$clickData="update",h(y,ov),g}}),null),h(a,f(zb,{get modules(){return t.modules},get filterCategory(){return e()}}),null),h(a,f(Wb,{get modules(){return t.modules},get filterCategory(){return e()}}),null),h(a,f(Kb,{get modules(){return t.modules},get filterCategory(){return e()}}),null),h(a,f(Yb,{get modules(){return t.modules},get filterCategory(){return e()}}),null),h(a,f(tv,{get modules(){return t.modules},get filterCategory(){return e()}}),null),A(()=>d.disabled=uo()),a})()}F(["click"]);var uv=x('<img class="w-24 rounded-lg">'),dv=x('<div class="group-hover:block absolute z-10 w-[6.5rem] h-[6.5rem]"><div class="install_pie absolute top-[1.25rem] left-[1.25rem]">'),fv=x('<div class="relative modulecard items-center rounded-lg border border-gray-300 bg-white shadow-sm focus-within:ring-2 focus-within:ring-indigo-500 focus-within:ring-offset-2 hover:border-gray-400 flex items-center group h-[6.5rem] w-[6.5rem] shrink-0"><div class="flex justify-center items-center h-full w-full"></div><div class="group-hover:block hidden bg-gray-900/60 absolute z-20 w-full h-full">'),hv=x("<span class=break-all>");const{serverUrl:gv}=q,{remoteModules:mv}=be,{removeFromInstallQueue:pv}=$t;function bv(t){const e=mv[t.moduleName];function n(){pv(t.moduleName),t.setTooltipShow(!1)}function r(s){const o=s.target.closest(".modulecard");let l=o.getBoundingClientRect(),a=l.left;l.left>window.innerWidth/2&&(a=a-280),t.setTooltipText(t.moduleName),t.setTooltipTop(o.offsetTop-80),t.setTooltipLeft(a),t.setTooltipShow(!0)}function i(){t.setTooltipShow(!1)}return(()=>{var s=fv(),o=s.firstChild,l=o.nextSibling;return h(o,f(D,{get when(){return e.has_logo},get fallback(){return(()=>{var a=hv();return h(a,()=>e.title),a})()},get children(){var a=uv();return A(()=>V(a,"src",`${gv}/store/remotelogo?module=${t.moduleName}&store=${e.store}`)),a}})),l.addEventListener("mouseleave",i),l.addEventListener("mouseenter",r),h(l,f(Qg,{color:"#ffffff",size:48,class:"m-auto cursor-pointer",style:"height: 6rem;",onClick:n})),h(s,f(D,{get when(){return t.state&&t.state.progress>0},get children(){var a=dv(),c=a.firstChild;return c.style.setProperty("--b","10px"),c.style.setProperty("--c","rgb(3 105 161)"),A(()=>t.state.progress!=null?c.style.setProperty("--p",t.state.progress):c.style.removeProperty("--p")),a}}),null),A(a=>{var c=e&&e.name,u=e&&e.kind;return c!==a.e&&V(s,"name",a.e=c),u!==a.t&&V(s,"kind",a.t=u),a},{e:void 0,t:void 0}),s})()}var vv=x('<div class="h-[8rem] px-2 flex items-center rounded-lg border border-gray-300 bg-white shadow-sm"><div class="flex overflow-auto w-full">');const{installQueue:Yr,installState:yv}=$t;function wv(t){return f(D,{get when(){return Yr.length>0},get children(){var e=vv(),n=e.firstChild;return h(n,f(le,{each:Yr,children:r=>f(bv,{moduleName:r,get state(){return yv[r]},get setTooltipText(){return t.setTooltipText},get setTooltipShow(){return t.setTooltipShow},get setTooltipTop(){return t.setTooltipTop},get setTooltipLeft(){return t.setTooltipLeft}})})),A(()=>e.classList.toggle("border-blue-500",Yr.length>0)),e}})}var _v=x('<div class="h-64 w-64 m-auto flex"><div class="m-auto flex flex-col"><div class=mb-4>Loading store modules...</div><div class=m-auto>');function xv(){return(()=>{var t=_v(),e=t.firstChild,n=e.firstChild,r=n.nextSibling;return h(r,f(Sn,{show:!0,width:20,height:20,stroke:"#000000"})),t})()}var kv=x('<div role=tooltip class="absolute top-0 right-0 inline-block z-10 p-4 text-sm font-medium text-gray-700 bg-gray-200 border border-gray-200 rounded-lg shadow-lg transition-opacity duration-300 tooltip dark:bg-gray-700 opacity-0 w-[24rem] break-word"><div class=tooltip-arrow data-popper-arrow>');function ra(t){let e;return(()=>{var n=kv(),r=n.firstChild,i=e;return typeof i=="function"?dn(i,n):e=n,h(n,()=>t.text,r),A(s=>{var o=!!t.tooltipShow,l=!!t.tooltipShow,a=t.tooltipTop+"px",c=t.tooltipLeft+"px";return o!==s.e&&n.classList.toggle("opacity-100",s.e=o),l!==s.t&&n.classList.toggle("visible",s.t=l),a!==s.a&&((s.a=a)!=null?n.style.setProperty("top",a):n.style.removeProperty("top")),c!==s.o&&((s.o=c)!=null?n.style.setProperty("left",c):n.style.removeProperty("left")),s},{e:void 0,t:void 0,a:void 0,o:void 0}),n})()}var Sv=x('<div id=tab-store class="tabcontent p-4 snap-y snap-mandatory h-screen overflow-y-auto flex flex-col">');function $v(){const{remoteModules:t}=be,{tabName:e}=gt,{addToInstallQueue:n}=$t,{moduleInstallStates:r}=mt,[i,s]=S(null),[o,l]=S(!1),[a,c]=S(0),[u,d]=S(null);return(()=>{var g=Sv();return h(g,f(D,{get when(){return!cr(r)},get fallback(){return f(xv,{})},get children(){return[f(cv,{addToInstallQueue:n,modules:t}),f(wv,{setTooltipText:s,setTooltipShow:l,setTooltipTop:c,setTooltipLeft:d}),f(ra,{get text(){return i()},get tooltipShow(){return o()},get tooltipTop(){return a()},get tooltipLeft(){return u()}})]}})),A(()=>g.classList.toggle("hidden",e()!="store")),g})()}function Iv(){const[t,e]=S(null),{serverUrl:n,withCredentials:r}=q,{admin:i}=he;X(function(){i()==!0&&s()});function s(){L.get(n+"/server/users",{withCredentials:r}).then(function(c){const u=[];for(const d of c.data)d.email!="default"&&u.push(d);e(u)}).catch(function(c){console.error(c),G(c)})}function o(c){L.get(n+"/server/makeadmin",{params:{email:c},withCredentials:r}).then(function(u){s()}).catch(function(u){G(u)})}function l(c){L.get(n+"/server/removeadmin",{params:{email:c},withCredentials:r}).then(function(u){s()}).catch(function(u){G(u)})}function a(c){L.get(n+"/server/removeuser",{params:{email:c},withCredentials:r}).then(function(u){s()}).catch(function(u){G(u)})}return{users:t,setUsers:e,loadAllUsers:s,makeAdmin:o,removeAdmin:l,removeUser:a}}const Cv=te(Iv);var Tv=x('<form class=space-y-6 action=#><div><label for=email class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Up to 8 Emails to invite</label><textarea class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white h-48"required>'),Ev=x('<button type=button class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"><div class=flex><p>Invite'),Av=x('<div class="h-screen w-screen grid place-items-center fixed z-10 top-0 left-0 bg-white opacity-95"><div aria-hidden=true class="z-10 p-4 overflow-x-hidden overflow-y-auto w-96"><h3 class="mb-4 text-xl font-medium text-gray-900 dark:text-white">Invite users</h3><div class="flex mt-2 items-center space-x-2 border-gray-200 rounded-b dark:border-gray-600"><button type=button class="text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600">Cancel'),Ov=x("<div class=h-48>Invitation has been successful."),Pv=x('<button type=button class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Close');function Rv(t){const{email:e}=Je,{serverUrl:n,withCredentials:r}=q,[i,s]=S(!1),[o,l]=S(!1);let a;function c(){l(!1),t.setShowInviteDialog(!1)}function u(){s(!0);const d=window.location.origin;let v=a.value.split(`
`),y=[];for(const m of v){const p=m.split(" ");for(const w of p)y.push(w)}const b={emails:y,site_url:d,referrer:e()};L({method:"post",url:n+"/server/inviteusers",data:b,withCredentials:r}).then(function(m){s(!1),m.status==200?l(!0):G(err)}).catch(function(m){s(!1),G(m)})}return(()=>{var d=Av(),g=d.firstChild,v=g.firstChild,y=v.nextSibling,b=y.firstChild;return h(g,f(D,{get when(){return!o()},get fallback(){return Ov()},get children(){var m=Tv(),p=m.firstChild,w=p.firstChild,_=w.nextSibling,k=a;return typeof k=="function"?dn(k,_):a=_,m}}),y),h(y,f(D,{get when(){return o()==!1},get fallback(){return(()=>{var m=Pv();return m.$$click=c,m})()},get children(){var m=Ev(),p=m.firstChild,w=p.firstChild;return m.$$click=u,h(p,f(D,{get when(){return i()},get children(){return f(Sn,{get show(){return i()}})}}),w),m}}),b),b.$$click=t.setShowInviteDialog,b.$$clickData=!1,A(()=>d.classList.toggle("hidden",t.showInviteDialog==!1)),d})()}F(["click"]);var Nv=x('<div class=mt-4><h3 class="text-lg font-semibold">Users</h3><div class="rounded-lg bg-white shadow mt-2"><button type=button class="m-2 items-center rounded border border-transparent bg-blue-600 px-2.5 py-1.5 text-xs font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ml-4">Invite user</button><table class="w-full text-sm text-left text-gray-500 dark:text-gray-400"><thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"><tr><th scope=col class="py-3 px-6">Email</th><th scope=col class="py-3 px-6">Role</th></tr></thead><tbody>'),Mv=x('<span class="ml-2 inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-800">Admin'),Dv=x('<button type=button class="invisible inline-flex items-center rounded border border-transparent bg-blue-600 px-2.5 py-1.5 text-xs font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ml-4 group-hover:visible">Remove admin'),Lv=x('<button type=button class="invisible inline-flex items-center rounded border border-transparent bg-blue-600 px-2.5 py-1.5 text-xs font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ml-4 group-hover:visible">Remove user'),jv=x('<tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 group"><td scope=row class="py-4 px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white"></td><td class="py-4 px-6">'),Uv=x('<button type=button class="invisible inline-flex items-center rounded border border-transparent bg-blue-600 px-2.5 py-1.5 text-xs font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ml-4 group-hover:visible">Make admin');function Fv(){const{users:t,makeAdmin:e,removeAdmin:n,removeUser:r}=Cv,[i,s]=S(!1);return(()=>{var o=Nv(),l=o.firstChild,a=l.nextSibling,c=a.firstChild,u=c.nextSibling,d=u.firstChild,g=d.nextSibling;return c.$$click=s,c.$$clickData=!0,h(g,f(le,{get each(){return t()},children:v=>(()=>{var y=jv(),b=y.firstChild,m=b.nextSibling;return h(b,()=>v.email,null),h(b,f(D,{get when(){return v.role=="admin"},get children(){return Mv()}}),null),h(m,()=>v.role,null),h(m,f(D,{get when(){return v.role=="admin"},get fallback(){return(()=>{var p=Uv();return p.$$click=e,p.$$clickData=v.email,p})()},get children(){var p=Dv();return p.$$click=n,p.$$clickData=v.email,p}}),null),h(m,f(D,{get when(){return v.role!="admin"},get children(){var p=Lv();return p.$$click=r,p.$$clickData=v.email,p}}),null),y})()})),h(o,f(Rv,{get showInviteDialog(){return i()},setShowInviteDialog:s}),null),o})()}F(["click"]);var Bv=x('<div class=""><h3 class="text-lg font-semibold mt-8 mb-2">Log</h3><button type=button class="inline-flex items-center px-5 py-2.5 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Download system log');function zv(){const{serverUrl:t}=q;function e(){L({url:t+"/submit/systemlog",method:"GET",responseType:"blob"}).then(function(n){let r=document.createElement("a");r.href=window.URL.createObjectURL(new Blob([n.data],{type:"text/plain"})),r.download=n.headers["content-disposition"].split("=")[1],document.body.appendChild(r),r.click(),document.body.removeChild(r)}).catch(function(n){console.error(n)})}return(()=>{var n=Bv(),r=n.firstChild,i=r.nextSibling;return i.$$click=e,n})()}F(["click"]);var Hv=x("<div id=tab_system class=tabcontent><div class=p-4>");function Vv(){const{tabName:t}=gt,{multiuser:e}=pe;return(()=>{var n=Hv(),r=n.firstChild;return h(r,f(D,{get when(){return e()==!0},get children(){return f(Fv,{})}}),null),h(r,f(zv,{}),null),A(()=>n.classList.toggle("hidden",t()!="system")),n})()}var Wv=x('<div id=tab_account class="tabcontent p-4"><p class=text-gray-600></p><button type=button class="inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-3 py-2 text-sm font-medium leading-4 text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 mt-2">Logout');const{tabName:Gv}=gt,{email:qv}=Je,{auth:Jv}=Ir;function Kv(){function t(){El(Jv()).catch(function(e){console.error(e)})}return(()=>{var e=Wv(),n=e.firstChild,r=n.nextSibling;return h(n,qv),r.$$click=t,A(()=>e.classList.toggle("hidden",Gv()!="account")),e})()}F(["click"]);var Qv=x('<main class="h-screen md:pl-36 flex flex-col flex-1"><div>');function Zv(){const[t,e]=S(!1),{multiuser:n}=pe,{admin:r}=he;return(()=>{var i=Qv(),s=i.firstChild;return h(s,f(rp,{}),null),h(s,f(fb,{get jobsTrigger(){return t()},setJobsTrigger:e}),null),h(s,f(Fb,{get jobsTrigger(){return t()},setJobsTrigger:e}),null),h(s,f($v,{}),null),h(s,f(D,{get when(){return n()==!1||r()==!0},get children(){return f(Vv,{})}}),null),h(s,f(D,{get when(){return n()==!0},get children(){return f(Kv,{})}}),null),i})()}function zi(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let It=zi();function ia(t){It=t}const sa=/[&<>"']/,Yv=new RegExp(sa.source,"g"),oa=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Xv=new RegExp(oa.source,"g"),ey={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},fo=t=>ey[t];function xe(t,e){if(e){if(sa.test(t))return t.replace(Yv,fo)}else if(oa.test(t))return t.replace(Xv,fo);return t}const ty=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function ny(t){return t.replace(ty,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const ry=/(^|[^\[])\^/g;function Z(t,e){let n=typeof t=="string"?t:t.source;e=e||"";const r={replace:(i,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace(ry,"$1"),n=n.replace(i,o),r},getRegex:()=>new RegExp(n,e)};return r}function ho(t){try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const tn={exec:()=>null};function go(t,e){const n=t.replace(/\|/g,(s,o,l)=>{let a=!1,c=o;for(;--c>=0&&l[c]==="\\";)a=!a;return a?"|":" |"}),r=n.split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function Un(t,e,n){const r=t.length;if(r===0)return"";let i=0;for(;i<r;){const s=t.charAt(r-i-1);if(s===e&&!n)i++;else if(s!==e&&n)i++;else break}return t.slice(0,r-i)}function iy(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return-1}function mo(t,e,n,r){const i=e.href,s=e.title?xe(e.title):null,o=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){r.state.inLink=!0;const l={type:"link",raw:n,href:i,title:s,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,l}return{type:"image",raw:n,href:i,title:s,text:xe(o)}}function sy(t,e){const n=t.match(/^(\s+)(?:```)/);if(n===null)return e;const r=n[1];return e.split(`
`).map(i=>{const s=i.match(/^\s+/);if(s===null)return i;const[o]=s;return o.length>=r.length?i.slice(r.length):i}).join(`
`)}class ur{options;rules;lexer;constructor(e){this.options=e||It}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Un(r,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const r=n[0],i=sy(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:i}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(/#$/.test(r)){const i=Un(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){let r=n[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`);r=Un(r.replace(/^ *>[ \t]?/gm,""),`
`);const i=this.lexer.state.top;this.lexer.state.top=!0;const s=this.lexer.blockTokens(r);return this.lexer.state.top=i,{type:"blockquote",raw:n[0],tokens:s,text:r}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r=n[1].trim();const i=r.length>1,s={type:"list",raw:"",ordered:i,start:i?+r.slice(0,-1):"",loose:!1,items:[]};r=i?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=i?r:"[*+-]");const o=new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`);let l="",a="",c=!1;for(;e;){let u=!1;if(!(n=o.exec(e))||this.rules.block.hr.test(e))break;l=n[0],e=e.substring(l.length);let d=n[2].split(`
`,1)[0].replace(/^\t+/,p=>" ".repeat(3*p.length)),g=e.split(`
`,1)[0],v=0;this.options.pedantic?(v=2,a=d.trimStart()):(v=n[2].search(/[^ ]/),v=v>4?1:v,a=d.slice(v),v+=n[1].length);let y=!1;if(!d&&/^ *$/.test(g)&&(l+=g+`
`,e=e.substring(g.length+1),u=!0),!u){const p=new RegExp(`^ {0,${Math.min(3,v-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),w=new RegExp(`^ {0,${Math.min(3,v-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),_=new RegExp(`^ {0,${Math.min(3,v-1)}}(?:\`\`\`|~~~)`),k=new RegExp(`^ {0,${Math.min(3,v-1)}}#`);for(;e;){const P=e.split(`
`,1)[0];if(g=P,this.options.pedantic&&(g=g.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),_.test(g)||k.test(g)||p.test(g)||w.test(e))break;if(g.search(/[^ ]/)>=v||!g.trim())a+=`
`+g.slice(v);else{if(y||d.search(/[^ ]/)>=4||_.test(d)||k.test(d)||w.test(d))break;a+=`
`+g}!y&&!g.trim()&&(y=!0),l+=P+`
`,e=e.substring(P.length+1),d=g.slice(v)}}s.loose||(c?s.loose=!0:/\n *\n *$/.test(l)&&(c=!0));let b=null,m;this.options.gfm&&(b=/^\[[ xX]\] /.exec(a),b&&(m=b[0]!=="[ ] ",a=a.replace(/^\[[ xX]\] +/,""))),s.items.push({type:"list_item",raw:l,task:!!b,checked:m,loose:!1,text:a,tokens:[]}),s.raw+=l}s.items[s.items.length-1].raw=l.trimEnd(),s.items[s.items.length-1].text=a.trimEnd(),s.raw=s.raw.trimEnd();for(let u=0;u<s.items.length;u++)if(this.lexer.state.top=!1,s.items[u].tokens=this.lexer.blockTokens(s.items[u].text,[]),!s.loose){const d=s.items[u].tokens.filter(v=>v.type==="space"),g=d.length>0&&d.some(v=>/\n.*\n/.test(v.raw));s.loose=g}if(s.loose)for(let u=0;u<s.items.length;u++)s.items[u].loose=!0;return s}}html(e){const n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){const n=this.rules.block.def.exec(e);if(n){const r=n[1].toLowerCase().replace(/\s+/g," "),i=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:i,title:s}}}table(e){const n=this.rules.block.table.exec(e);if(!n||!/[:|]/.test(n[2]))return;const r=go(n[1]),i=n[2].replace(/^\||\| *$/g,"").split("|"),s=n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[],o={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===i.length){for(const l of i)/^ *-+: *$/.test(l)?o.align.push("right"):/^ *:-+: *$/.test(l)?o.align.push("center"):/^ *:-+ *$/.test(l)?o.align.push("left"):o.align.push(null);for(const l of r)o.header.push({text:l,tokens:this.lexer.inline(l)});for(const l of s)o.rows.push(go(l,o.header.length).map(a=>({text:a,tokens:this.lexer.inline(a)})));return o}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:xe(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const o=Un(r.slice(0,-1),"\\");if((r.length-o.length)%2===0)return}else{const o=iy(n[2],"()");if(o>-1){const a=(n[0].indexOf("!")===0?5:4)+n[1].length+o;n[2]=n[2].substring(0,o),n[0]=n[0].substring(0,a).trim(),n[3]=""}}let i=n[2],s="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);o&&(i=o[1],s=o[3])}else s=n[3]?n[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(r)?i=i.slice(1):i=i.slice(1,-1)),mo(n,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){const i=(r[2]||r[1]).replace(/\s+/g," "),s=n[i.toLowerCase()];if(!s){const o=r[0].charAt(0);return{type:"text",raw:o,text:o}}return mo(r,s,r[0],this.lexer)}}emStrong(e,n,r=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!i||i[3]&&r.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const o=[...i[0]].length-1;let l,a,c=o,u=0;const d=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,n=n.slice(-1*e.length+o);(i=d.exec(n))!=null;){if(l=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!l)continue;if(a=[...l].length,i[3]||i[4]){c+=a;continue}else if((i[5]||i[6])&&o%3&&!((o+a)%3)){u+=a;continue}if(c-=a,c>0)continue;a=Math.min(a,a+c+u);const g=[...i[0]][0].length,v=e.slice(0,o+i.index+g+a);if(Math.min(o,a)%2){const b=v.slice(1,-1);return{type:"em",raw:v,text:b,tokens:this.lexer.inlineTokens(b)}}const y=v.slice(2,-2);return{type:"strong",raw:v,text:y,tokens:this.lexer.inlineTokens(y)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(/\n/g," ");const i=/[^ ]/.test(r),s=/^ /.test(r)&&/ $/.test(r);return i&&s&&(r=r.substring(1,r.length-1)),r=xe(r,!0),{type:"codespan",raw:n[0],text:r}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){const n=this.rules.inline.autolink.exec(e);if(n){let r,i;return n[2]==="@"?(r=xe(n[1]),i="mailto:"+r):(r=xe(n[1]),i=r),{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(e){let n;if(n=this.rules.inline.url.exec(e)){let r,i;if(n[2]==="@")r=xe(n[0]),i="mailto:"+r;else{let s;do s=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])?.[0]??"";while(s!==n[0]);r=xe(n[0]),n[1]==="www."?i="http://"+n[0]:i=n[0]}return{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){const n=this.rules.inline.text.exec(e);if(n){let r;return this.lexer.state.inRawBlock?r=n[0]:r=xe(n[0]),{type:"text",raw:n[0],text:r}}}}const oy=/^(?: *(?:\n|$))+/,ly=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,ay=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,$n=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,cy=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,la=/(?:[*+-]|\d{1,9}[.)])/,aa=Z(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,la).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Hi=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,uy=/^[^\n]+/,Vi=/(?!\s*\])(?:\\.|[^\[\]\\])+/,dy=Z(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",Vi).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),fy=Z(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,la).getRegex(),Ar="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Wi=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,hy=Z("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",Wi).replace("tag",Ar).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ca=Z(Hi).replace("hr",$n).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ar).getRegex(),gy=Z(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",ca).getRegex(),Gi={blockquote:gy,code:ly,def:dy,fences:ay,heading:cy,hr:$n,html:hy,lheading:aa,list:fy,newline:oy,paragraph:ca,table:tn,text:uy},po=Z("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",$n).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ar).getRegex(),my={...Gi,table:po,paragraph:Z(Hi).replace("hr",$n).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",po).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ar).getRegex()},py={...Gi,html:Z(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Wi).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:tn,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Z(Hi).replace("hr",$n).replace("heading",` *#{1,6} *[^
]`).replace("lheading",aa).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},ua=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,by=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,da=/^( {2,}|\\)\n(?!\s*$)/,vy=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,In="\\p{P}\\p{S}",yy=Z(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,In).getRegex(),wy=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,_y=Z(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,In).getRegex(),xy=Z("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,In).getRegex(),ky=Z("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,In).getRegex(),Sy=Z(/\\([punct])/,"gu").replace(/punct/g,In).getRegex(),$y=Z(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Iy=Z(Wi).replace("(?:-->|$)","-->").getRegex(),Cy=Z("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Iy).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),dr=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Ty=Z(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",dr).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),fa=Z(/^!?\[(label)\]\[(ref)\]/).replace("label",dr).replace("ref",Vi).getRegex(),ha=Z(/^!?\[(ref)\](?:\[\])?/).replace("ref",Vi).getRegex(),Ey=Z("reflink|nolink(?!\\()","g").replace("reflink",fa).replace("nolink",ha).getRegex(),qi={_backpedal:tn,anyPunctuation:Sy,autolink:$y,blockSkip:wy,br:da,code:by,del:tn,emStrongLDelim:_y,emStrongRDelimAst:xy,emStrongRDelimUnd:ky,escape:ua,link:Ty,nolink:ha,punctuation:yy,reflink:fa,reflinkSearch:Ey,tag:Cy,text:vy,url:tn},Ay={...qi,link:Z(/^!?\[(label)\]\((.*?)\)/).replace("label",dr).getRegex(),reflink:Z(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",dr).getRegex()},_i={...qi,escape:Z(ua).replace("])","~|])").getRegex(),url:Z(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Oy={..._i,br:Z(da).replace("{2,}","*").getRegex(),text:Z(_i.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Fn={normal:Gi,gfm:my,pedantic:py},Qt={normal:qi,gfm:_i,breaks:Oy,pedantic:Ay};class Ne{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||It,this.options.tokenizer=this.options.tokenizer||new ur,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:Fn.normal,inline:Qt.normal};this.options.pedantic?(n.block=Fn.pedantic,n.inline=Qt.pedantic):this.options.gfm&&(n.block=Fn.gfm,this.options.breaks?n.inline=Qt.breaks:n.inline=Qt.gfm),this.tokenizer.rules=n}static get rules(){return{block:Fn,inline:Qt}}static lex(e,n){return new Ne(n).lex(e)}static lexInline(e,n){return new Ne(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(l,a,c)=>a+"    ".repeat(c.length));let r,i,s,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(r=l.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),r.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let l=1/0;const a=e.slice(1);let c;this.options.extensions.startBlock.forEach(u=>{c=u.call({lexer:this},a),typeof c=="number"&&c>=0&&(l=Math.min(l,c))}),l<1/0&&l>=0&&(s=e.substring(0,l+1))}if(this.state.top&&(r=this.tokenizer.paragraph(s))){i=n[n.length-1],o&&i.type==="paragraph"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r),o=s.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&i.type==="text"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r,i,s,o=e,l,a,c;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)u.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.anyPunctuation.exec(o))!=null;)o=o.slice(0,l.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(a||(c=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>(r=u.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.emStrong(e,o,c)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.autolink(e)){e=e.substring(r.raw.length),n.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e))){e=e.substring(r.raw.length),n.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let u=1/0;const d=e.slice(1);let g;this.options.extensions.startInline.forEach(v=>{g=v.call({lexer:this},d),typeof g=="number"&&g>=0&&(u=Math.min(u,g))}),u<1/0&&u>=0&&(s=e.substring(0,u+1))}if(r=this.tokenizer.inlineText(s)){e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(c=r.raw.slice(-1)),a=!0,i=n[n.length-1],i&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return n}}class fr{options;constructor(e){this.options=e||It}code(e,n,r){const i=(n||"").match(/^\S*/)?.[0];return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="language-'+xe(i)+'">'+(r?e:xe(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:xe(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,n){return e}heading(e,n,r){return`<h${n}>${e}</h${n}>
`}hr(){return`<hr>
`}list(e,n,r){const i=n?"ol":"ul",s=n&&r!==1?' start="'+r+'"':"";return"<"+i+s+`>
`+e+"</"+i+`>
`}listitem(e,n,r){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>
`}table(e,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,n){const r=n.header?"th":"td";return(n.align?`<${r} align="${n.align}">`:`<${r}>`)+e+`</${r}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,n,r){const i=ho(e);if(i===null)return r;e=i;let s='<a href="'+e+'"';return n&&(s+=' title="'+n+'"'),s+=">"+r+"</a>",s}image(e,n,r){const i=ho(e);if(i===null)return r;e=i;let s=`<img src="${e}" alt="${r}"`;return n&&(s+=` title="${n}"`),s+=">",s}text(e){return e}}class Ji{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,n,r){return""+r}image(e,n,r){return""+r}br(){return""}}class Me{options;renderer;textRenderer;constructor(e){this.options=e||It,this.options.renderer=this.options.renderer||new fr,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Ji}static parse(e,n){return new Me(n).parse(e)}static parseInline(e,n){return new Me(n).parseInline(e)}parse(e,n=!0){let r="";for(let i=0;i<e.length;i++){const s=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const o=s,l=this.options.extensions.renderers[o.type].call({parser:this},o);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(o.type)){r+=l||"";continue}}switch(s.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{const o=s;r+=this.renderer.heading(this.parseInline(o.tokens),o.depth,ny(this.parseInline(o.tokens,this.textRenderer)));continue}case"code":{const o=s;r+=this.renderer.code(o.text,o.lang,!!o.escaped);continue}case"table":{const o=s;let l="",a="";for(let u=0;u<o.header.length;u++)a+=this.renderer.tablecell(this.parseInline(o.header[u].tokens),{header:!0,align:o.align[u]});l+=this.renderer.tablerow(a);let c="";for(let u=0;u<o.rows.length;u++){const d=o.rows[u];a="";for(let g=0;g<d.length;g++)a+=this.renderer.tablecell(this.parseInline(d[g].tokens),{header:!1,align:o.align[g]});c+=this.renderer.tablerow(a)}r+=this.renderer.table(l,c);continue}case"blockquote":{const o=s,l=this.parse(o.tokens);r+=this.renderer.blockquote(l);continue}case"list":{const o=s,l=o.ordered,a=o.start,c=o.loose;let u="";for(let d=0;d<o.items.length;d++){const g=o.items[d],v=g.checked,y=g.task;let b="";if(g.task){const m=this.renderer.checkbox(!!v);c?g.tokens.length>0&&g.tokens[0].type==="paragraph"?(g.tokens[0].text=m+" "+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&g.tokens[0].tokens[0].type==="text"&&(g.tokens[0].tokens[0].text=m+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",text:m+" "}):b+=m+" "}b+=this.parse(g.tokens,c),u+=this.renderer.listitem(b,y,!!v)}r+=this.renderer.list(u,l,a);continue}case"html":{const o=s;r+=this.renderer.html(o.text,o.block);continue}case"paragraph":{const o=s;r+=this.renderer.paragraph(this.parseInline(o.tokens));continue}case"text":{let o=s,l=o.tokens?this.parseInline(o.tokens):o.text;for(;i+1<e.length&&e[i+1].type==="text";)o=e[++i],l+=`
`+(o.tokens?this.parseInline(o.tokens):o.text);r+=n?this.renderer.paragraph(l):l;continue}default:{const o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return r}parseInline(e,n){n=n||this.renderer;let r="";for(let i=0;i<e.length;i++){const s=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const o=this.options.extensions.renderers[s.type].call({parser:this},s);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){r+=o||"";continue}}switch(s.type){case"escape":{const o=s;r+=n.text(o.text);break}case"html":{const o=s;r+=n.html(o.text);break}case"link":{const o=s;r+=n.link(o.href,o.title,this.parseInline(o.tokens,n));break}case"image":{const o=s;r+=n.image(o.href,o.title,o.text);break}case"strong":{const o=s;r+=n.strong(this.parseInline(o.tokens,n));break}case"em":{const o=s;r+=n.em(this.parseInline(o.tokens,n));break}case"codespan":{const o=s;r+=n.codespan(o.text);break}case"br":{r+=n.br();break}case"del":{const o=s;r+=n.del(this.parseInline(o.tokens,n));break}case"text":{const o=s;r+=n.text(o.text);break}default:{const o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return r}}class Jn{options;constructor(e){this.options=e||It}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}class Py{defaults=zi();options=this.setOptions;parse=this.#e(Ne.lex,Me.parse);parseInline=this.#e(Ne.lexInline,Me.parseInline);Parser=Me;Renderer=fr;TextRenderer=Ji;Lexer=Ne;Tokenizer=ur;Hooks=Jn;constructor(...e){this.use(...e)}walkTokens(e,n){let r=[];for(const i of e)switch(r=r.concat(n.call(this,i)),i.type){case"table":{const s=i;for(const o of s.header)r=r.concat(this.walkTokens(o.tokens,n));for(const o of s.rows)for(const l of o)r=r.concat(this.walkTokens(l.tokens,n));break}case"list":{const s=i;r=r.concat(this.walkTokens(s.items,n));break}default:{const s=i;this.defaults.extensions?.childTokens?.[s.type]?this.defaults.extensions.childTokens[s.type].forEach(o=>{const l=s[o].flat(1/0);r=r.concat(this.walkTokens(l,n))}):s.tokens&&(r=r.concat(this.walkTokens(s.tokens,n)))}}return r}use(...e){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{const i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){const o=n.renderers[s.name];o?n.renderers[s.name]=function(...l){let a=s.renderer.apply(this,l);return a===!1&&(a=o.apply(this,l)),a}:n.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=n[s.level];o?o.unshift(s.tokenizer):n[s.level]=[s.tokenizer],s.start&&(s.level==="block"?n.startBlock?n.startBlock.push(s.start):n.startBlock=[s.start]:s.level==="inline"&&(n.startInline?n.startInline.push(s.start):n.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(n.childTokens[s.name]=s.childTokens)}),i.extensions=n),r.renderer){const s=this.defaults.renderer||new fr(this.defaults);for(const o in r.renderer){if(!(o in s))throw new Error(`renderer '${o}' does not exist`);if(o==="options")continue;const l=o,a=r.renderer[l],c=s[l];s[l]=(...u)=>{let d=a.apply(s,u);return d===!1&&(d=c.apply(s,u)),d||""}}i.renderer=s}if(r.tokenizer){const s=this.defaults.tokenizer||new ur(this.defaults);for(const o in r.tokenizer){if(!(o in s))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const l=o,a=r.tokenizer[l],c=s[l];s[l]=(...u)=>{let d=a.apply(s,u);return d===!1&&(d=c.apply(s,u)),d}}i.tokenizer=s}if(r.hooks){const s=this.defaults.hooks||new Jn;for(const o in r.hooks){if(!(o in s))throw new Error(`hook '${o}' does not exist`);if(o==="options")continue;const l=o,a=r.hooks[l],c=s[l];Jn.passThroughHooks.has(o)?s[l]=u=>{if(this.defaults.async)return Promise.resolve(a.call(s,u)).then(g=>c.call(s,g));const d=a.call(s,u);return c.call(s,d)}:s[l]=(...u)=>{let d=a.apply(s,u);return d===!1&&(d=c.apply(s,u)),d}}i.hooks=s}if(r.walkTokens){const s=this.defaults.walkTokens,o=r.walkTokens;i.walkTokens=function(l){let a=[];return a.push(o.call(this,l)),s&&(a=a.concat(s.call(this,l))),a}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return Ne.lex(e,n??this.defaults)}parser(e,n){return Me.parse(e,n??this.defaults)}#e(e,n){return(r,i)=>{const s={...i},o={...this.defaults,...s};this.defaults.async===!0&&s.async===!1&&(o.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),o.async=!0);const l=this.#t(!!o.silent,!!o.async);if(typeof r>"u"||r===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(o.hooks&&(o.hooks.options=o),o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(r):r).then(a=>e(a,o)).then(a=>o.hooks?o.hooks.processAllTokens(a):a).then(a=>o.walkTokens?Promise.all(this.walkTokens(a,o.walkTokens)).then(()=>a):a).then(a=>n(a,o)).then(a=>o.hooks?o.hooks.postprocess(a):a).catch(l);try{o.hooks&&(r=o.hooks.preprocess(r));let a=e(r,o);o.hooks&&(a=o.hooks.processAllTokens(a)),o.walkTokens&&this.walkTokens(a,o.walkTokens);let c=n(a,o);return o.hooks&&(c=o.hooks.postprocess(c)),c}catch(a){return l(a)}}}#t(e,n){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const i="<p>An error occurred:</p><pre>"+xe(r.message+"",!0)+"</pre>";return n?Promise.resolve(i):i}if(n)return Promise.reject(r);throw r}}}const St=new Py;function Q(t,e){return St.parse(t,e)}Q.options=Q.setOptions=function(t){return St.setOptions(t),Q.defaults=St.defaults,ia(Q.defaults),Q};Q.getDefaults=zi;Q.defaults=It;Q.use=function(...t){return St.use(...t),Q.defaults=St.defaults,ia(Q.defaults),Q};Q.walkTokens=function(t,e){return St.walkTokens(t,e)};Q.parseInline=St.parseInline;Q.Parser=Me;Q.parser=Me.parse;Q.Renderer=fr;Q.TextRenderer=Ji;Q.Lexer=Ne;Q.lexer=Ne.lex;Q.Tokenizer=ur;Q.Hooks=Jn;Q.parse=Q;Q.options;Q.setOptions;Q.use;Q.walkTokens;Q.parseInline;Me.parse;Ne.lex;var Ry=x('<div><table class="w-full text-sm text-left text-gray-500 dark:text-gray-400 mt-4"><thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"><tr><th scope=col class="py-3 px-6">Name</th><th scope=col class="py-3 px-6">Type</th><th scope=col class="py-3 px-6">Description</th></tr></thead><tbody>'),Ny=x('<tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700"><th scope=row class="py-4 px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white"></th><td class="py-4 px-6"></td><td class="py-4 px-6">');function ga(t){return(()=>{var e=Ry(),n=e.firstChild,r=n.firstChild,i=r.nextSibling;return h(i,f(le,{get each(){return t.outputColumns},children:s=>(()=>{var o=Ny(),l=o.firstChild,a=l.nextSibling,c=a.nextSibling;return h(l,()=>s.title),h(a,()=>s.type),h(c,()=>s.desc,null),h(c,f(D,{get when(){return s.table},get children(){return f(ga,{get outputColumns(){return s.table_headers}})}}),null),o})()})),e})()}var My=x('<div><h3 class="text-lg font-semibold mt-8">Developer information</h3><div class="overflow-hidden bg-white shadow sm:rounded-lg mt-4"><div class="border-t border-gray-200 px-4 py-5 sm:px-6"><dl class="grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2"><div class=sm:col-span-1><dt class="text-sm font-medium text-gray-500">Name</dt><dd class="mt-1 text-sm text-gray-900"></dd></div><div class=sm:col-span-1><dt class="text-sm font-medium text-gray-500">Organization</dt><dd class="mt-1 text-sm text-gray-900"></dd></div><div class=sm:col-span-1><dt class="text-sm font-medium text-gray-500">Email address</dt><dd class="mt-1 text-sm text-gray-900"><a></a></dd></div><div class=sm:col-span-1><dt class="text-sm font-medium text-gray-500">Website</dt><dd class="mt-1 text-sm text-gray-900"><a></a></dd></div><div class=sm:col-span-2><dt class="text-sm font-medium text-gray-500">Citation</dt><dd class="mt-1 text-sm text-gray-900"></dd></div></dl></div></div> ');function Dy(t){return(()=>{var e=My(),n=e.firstChild,r=n.nextSibling,i=r.firstChild,s=i.firstChild,o=s.firstChild,l=o.firstChild,a=l.nextSibling,c=o.nextSibling,u=c.firstChild,d=u.nextSibling,g=c.nextSibling,v=g.firstChild,y=v.nextSibling,b=y.firstChild,m=g.nextSibling,p=m.firstChild,w=p.nextSibling,_=w.firstChild,k=m.nextSibling,P=k.firstChild,T=P.nextSibling;return h(a,()=>t.module.name),h(d,()=>t.module.organization),h(b,()=>t.module.email),h(_,()=>t.module.website),h(T,()=>t.module.citation),A(C=>{var I="mailto:"+t.module.email,O=t.module.website;return I!==C.e&&V(b,"href",C.e=I),O!==C.t&&V(_,"href",C.t=O),C},{e:void 0,t:void 0}),e})()}var Ly=x('<div><h3 class="text-lg font-semibold mt-8">Data information</h3><div class="overflow-hidden bg-white shadow sm:rounded-lg mt-4"><div class="border-t border-gray-200 px-4 py-5 sm:px-6"><dl class="grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2"><div class=sm:col-span-1><dt class="text-sm font-medium text-gray-500">Name</dt><dd class="mt-1 text-sm text-gray-900"></dd></div><div class=sm:col-span-1><dt class="text-sm font-medium text-gray-500">Organization</dt><dd class="mt-1 text-sm text-gray-900"></dd></div><div class=sm:col-span-1><dt class="text-sm font-medium text-gray-500">Email address</dt><dd class="mt-1 text-sm text-gray-900"><a></a></dd></div><div class=sm:col-span-1><dt class="text-sm font-medium text-gray-500">Website</dt><dd class="mt-1 text-sm text-gray-900"><a></a></dd></div><div class=sm:col-span-2><dt class="text-sm font-medium text-gray-500">Citation</dt><dd class="mt-1 text-sm text-gray-900"></dd></div></dl></div></div> ');function jy(t){return(()=>{var e=Ly(),n=e.firstChild,r=n.nextSibling,i=r.firstChild,s=i.firstChild,o=s.firstChild,l=o.firstChild,a=l.nextSibling,c=o.nextSibling,u=c.firstChild,d=u.nextSibling,g=c.nextSibling,v=g.firstChild,y=v.nextSibling,b=y.firstChild,m=g.nextSibling,p=m.firstChild,w=p.nextSibling,_=w.firstChild,k=m.nextSibling,P=k.firstChild,T=P.nextSibling;return h(a,()=>t.data.name),h(d,()=>t.data.organization),h(b,()=>t.data.email),h(_,()=>t.data.website),h(T,()=>t.data.citation),A(C=>{var I="mailto:"+t.data.email,O=t.data.website;return I!==C.e&&V(b,"href",C.e=I),O!==C.t&&V(_,"href",C.t=O),C},{e:void 0,t:void 0}),e})()}var Uy=x('<span class="relative inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800 cursor-default"title="Data version">'),Fy=x('<div class="absolute w-full h-full bg-white opacity-1 top-0 left-0 z-30"><div class="absolute opacity-1 top-[5vh] left-[10vw] w-[80vw] h-[80vh] overflow-auto bg-gray-50 z-30 m-4 p-8"><div class="-ml-1 mb-2"><span class="relative inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-80 cursor-default"></span><span class="relative inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800 cursor-default"title="Latest version"></span><span class="inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800 cursor-default"></span><span class="inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-800 cursor-default">Installed</span><span class="inline-flex items-center rounded-full bg-yellow-100 px-2.5 py-0.5 text-xs font-medium text-yellow-800 cursor-default">Update available</span></div><img class="h-[100px] top-0 right-0 rounded-lg"><div class="readme opacity-1 list-decimal mb-8"></div><h3 class="text-lg font-semibold">Module output</h3></div><div class="absolute top-0 right-0 cursor-pointer">');const By=/img src=\"(?!http)/g;function zy(){const{detailModuleName:t,setDetailModuleName:e,showDetailCard:n,setShowDetailCard:r}=Kl,{serverUrl:i}=q,[s,{mutate:o}]=un(t,g),{remoteModules:l}=be,{installed:a,updateAvailableForModule:c}=mt,[u,d]=S(null);X(function(){t()!=null&&d(l[t()])});async function g(y){try{const b=await L.get(i+"/store/getreadme",{params:{module_name:y}});let m=Q.parse(b.data);return m=m.replace(By,'img src="https://karchinlab.org/cravatstore/modules/'+y+"/"+u().latest_version+"/"),m}catch(b){console.error(b),G(b)}}function v(){r(!1),e(null),o(null)}return f(D,{get when(){return ae(()=>!!n())()&&s()!=null},get children(){var y=Fy(),b=y.firstChild,m=b.firstChild,p=m.firstChild,w=p.nextSibling,_=w.nextSibling,k=_.nextSibling,P=k.nextSibling,T=m.nextSibling,C=T.nextSibling;C.nextSibling;var I=b.nextSibling;return h(p,()=>u().type),h(w,()=>u().latest_version),h(m,f(D,{get when(){return u().conf.data_version!=null},get children(){var O=Uy();return h(O,()=>u().conf.data_version),O}}),_),h(_,()=>Jl(u().size)),h(b,f(ga,{get outputColumns(){return u().output_columns}}),null),h(b,f(Dy,{get module(){return u().developer.module}}),null),h(b,f(jy,{get data(){return u().developer.data}}),null),I.$$click=v,h(I,f(Fl,{color:"rgb(107 114 128)",size:64})),A(O=>{var R=!a(t()),N=!c(t()),z=`${i}/store/remotelogo?module=${u().name}&store=${u().store}`,M=s();return R!==O.e&&k.classList.toggle("hidden",O.e=R),N!==O.t&&P.classList.toggle("hidden",O.t=N),z!==O.a&&V(T,"src",O.a=z),M!==O.o&&(C.innerHTML=O.o=M),O},{e:void 0,t:void 0,a:void 0,o:void 0}),y}})}F(["click"]);var Hy=x('<div id=error-dialog class="relative z-10"aria-labelledby=modal-title role=dialog aria-modal=true><div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"></div><div class="fixed inset-0 z-10 overflow-y-auto"><div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"><div><div><div class="mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-red-100"><svg class="h-6 w-6 text-red-600"xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor aria-hidden=true><path stroke-linecap=round stroke-linejoin=round d="M12 10.5v3.75m-9.303 3.376C1.83 19.126 2.914 21 4.645 21h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 4.88c-.866-1.501-3.032-1.501-3.898 0L2.697 17.626zM12 17.25h.007v.008H12v-.008z"></path></svg></div><div class="mt-3 text-center sm:mt-5"><h3 class="text-lg font-medium leading-6 text-gray-900"></h3><div class=mt-2><p class="text-sm text-gray-500"></p></div></div></div><div class="mt-5 sm:mt-6"><button type=button class="inline-flex w-full justify-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 sm:text-sm">Dismiss');function Ki(t){const{showErrorDialog:e,setShowErrorDialog:n,errorDialogTitle:r,errorDialogText:i,getErrorText:s,showDismiss:o}=mn;let l=t.width;return l||(l="[48rem]"),f(D,{get when(){return e()},get children(){var a=Hy(),c=a.firstChild,u=c.nextSibling,d=u.firstChild,g=d.firstChild,v=g.firstChild,y=v.firstChild,b=y.nextSibling,m=b.firstChild,p=m.nextSibling,w=p.firstChild,_=v.nextSibling,k=_.firstChild;return wt(g,`relative transform overflow-hidden rounded-lg bg-white px-4 pt-5 pb-4 text-left shadow-xl transition-all sm:my-8 sm:p-6 w-${l}`),h(m,r),h(w,s),k.$$click=n,k.$$clickData=!1,A(P=>{var T={"sm:max-w-3xl":i().length>200},C=!o();return P.e=ki(g,T,P.e),C!==P.t&&_.classList.toggle("hidden",P.t=C),P},{e:void 0,t:void 0}),a}})}F(["click"]);var Vy=x('<div><div class=mt-4><label for=email class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Email</label><input type=email name=email class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white"placeholder=name@company.com required></div><div><span class=text-orange-500></span></div><div class=mt-4><label for=password class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Password</label><input type=password name=password placeholder=•••••••• class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white"required></div><div><span class=text-orange-500>');function ma(t){const{email:e,password:n,setEmail:r,setPassword:i,errorInEmail:s,errorInPassword:o,checkEmailAndPassword:l,emailErrorMsg:a,passwordErrorMsg:c}=Je;function u(){return!s()&&!o()}function d(v){r(v.target.value),l(),v.keyCode==13&&u()&&t.submit("email")}function g(v){i(v.target.value),l(),v.keyCode==13&&u()&&t.submit("email")}return(()=>{var v=Vy(),y=v.firstChild,b=y.firstChild,m=b.nextSibling,p=y.nextSibling,w=p.firstChild,_=p.nextSibling,k=_.firstChild,P=k.nextSibling,T=_.nextSibling,C=T.firstChild;return m.$$keyup=d,h(w,a),P.$$keyup=g,h(C,c),A(()=>m.value=e()),A(()=>P.value=n()),v})()}F(["keyup"]);var Wy=x('<div class=flex><div><a href=#>Forgot password?</a><button type=submit class="flex justify-center w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 mt-4"><div class=flex><p>Sign in');function pa(t){const[e,n]=S(!1),[r,i]=S(!1),[s,o]=S(null),[l,a]=S(null),{setShowErrorDialog:c,setErrorDialogTitle:u,setErrorDialogText:d}=mn,g={"auth/user-not-found":"Account was not found. Please sign up first.","auth/account-exists-with-different-credential":"Account exists with different credential.","auth/wrong-password":"Wrong password. Please check your password or use Forget Your Password? link.","auth/missing-email":"Please provide an email address.","missing-password":"Please provide a password.","account-exists":"Account already exists.","auth/too-many-requests":"Too many failed attempts. Wait for a while and try again, or use Forgot your password? link."},{email:v,password:y,errorInEmail:b}=Je,{auth:m}=Ir;let p=()=>{i(!1)};function w(T,C){if(T.response&&(T=T.response.data),T.code=="auth/popup-closed-by-user"){n(!1);return}u(C);let I=g[T.code];I?d(I):(d("Error code: "+T.code),console.error(T)),c(!0)}function _(){n(!0),gh(m(),v(),y()).then(function(T){n(!1),t.signedInCallback&&t.signedInCallback()}).catch(function(T){w(T,"Login failed"),n(!1)})}function k(){b()||ji(m(),v()).then(function(){o("Success"),a("Please check your email for a password reset link."),i(!0)}).catch(function(T){w(T,"Password reset failed")})}function P(){return t.width?t.width:"64"}return(()=>{var T=Wy(),C=T.firstChild,I=C.firstChild,O=I.nextSibling,R=O.firstChild,N=R.firstChild;return h(C,f(ma,{submit:_}),I),I.$$click=k,O.$$click=_,h(R,f(Sn,{get show(){return e()}}),N),h(T,f(Ki,{}),null),h(T,f(D,{get when(){return r()},get children(){return f(Tr,{get title(){return s()},get text(){return l()},callback:p})}}),null),A(z=>{var M="w-["+P()+"rem]",U="text-sm font-medium text-blue-600 hover:underline dark:text-primary-500"+t.addlClass,K=!!b(),H=!!b();return M!==z.e&&wt(C,z.e=M),U!==z.t&&wt(I,z.t=U),K!==z.a&&I.classList.toggle("pointer-events-none",z.a=K),H!==z.o&&I.classList.toggle("text-blue-100",z.o=H),z},{e:void 0,t:void 0,a:void 0,o:void 0}),T})()}F(["click"]);var Gy=x('<div class=flex><div><div><button id=signup_btn type=submit class="flex justify-center mt-4 flex w-full justify-center rounded-md border border-transparent py-2 px-4 text-sm font-medium text-white shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"><div class=flex><p>Sign up');function ba(t){const[e,n]=S(!1),[r,i]=S(!1),[s,o]=S(null),[l,a]=S(null),{setShowErrorDialog:c,setErrorDialogTitle:u,setErrorDialogText:d}=mn,g={"auth/user-not-found":"Account was not found. Please sign up first.","auth/account-exists-with-different-credential":"Account exists with different credential.","auth/wrong-password":"Wrong password. Please check your password or use Forget Your Password? link.","auth/missing-email":"Please provide an email address.","missing-password":"Please provide a password.","account-exists":"Account already exists.","auth/too-many-requests":"Too many failed attempts. Wait for a while and try again, or use Forgot your password? link.","email-not-allowed":"This email is not allowed."},{serverUrl:v,withCredentials:y}=q,{email:b,password:m,errorInEmail:p,errorInPassword:w}=Je,{setLogged:_,setShowAuth:k}=he;let P=()=>{i(!1)};function T(){return t.width?t.width:"64"}function C(){return!p()&&!w()}function I(R,N){if(R.response&&(R=R.response.data),R.code=="auth/popup-closed-by-user")return;u(N);let z=g[R.code];z?d(z):(d("Error code: "+R.code),console.error(R)),c(!0)}function O(){n(!0),L.post(v+"/server/signup",{email:b(),password:m(),newSetup:t.newSetup},{withCredentials:y}).then(function(R){o("Success"),a(R.data.code),P=()=>{n(!1),_(!0),i(!1),k(!1),t.next&&t.next()},i(!0)}).catch(function(R){I(R,"Signup failed"),n(!1)})}return(()=>{var R=Gy(),N=R.firstChild,z=N.firstChild,M=z.firstChild,U=M.firstChild,K=U.firstChild;return h(N,f(ma,{submit:O}),z),M.$$click=O,h(U,f(Sn,{get show(){return e()}}),K),h(R,f(Ki,{width:36}),null),h(R,f(D,{get when(){return r()},get children(){return f(Tr,{get title(){return s()},get text(){return l()},callback:P})}}),null),A(H=>{var re="w-["+T()+"rem]",Ce={"bg-indigo-600":C(),"hover:bg-indigo-700":C(),"bg-gray-500":!C()},fe=!C();return re!==H.e&&wt(N,H.e=re),H.t=ki(M,Ce,H.t),fe!==H.a&&(M.disabled=H.a=fe),H},{e:void 0,t:void 0,a:void 0}),R})()}F(["click"]);var qy=x('<div class="h-screen w-screen grid place-items-center fixed z-10 top-0 left-0 bg-white opacity-97"><div class="absolute top-0 right-0 cursor-pointer"></div><div><div><div class="flex justify-center text-sm mt-4 underline"><a href=#>Sign up</a></div></div><div><div class="flex justify-center text-sm mt-4 underline"><a href=#>Sign in');let Xr=null;function Jy(t){const[e,n]=S("signin"),{logged:r,showAuth:i,setShowAuth:s,afterLogin:o,afterLogout:l,setReloginChecked:a}=he,{multiuser:c}=pe,{auth:u}=Ir,{setAppLoading:d}=Cr,{systemSetupNeeded:g}=wr;X(function(){Xr==null&&d(!0),c()==!0&&u()||g()?!Xr&&c()&&r()!=!0&&(Xr=vh(u(),function(m){m?(o(m),a(!0)):l()})):a(!0)});function v(){n("signup")}function y(){n("signin")}function b(m){s(!1)}return(()=>{var m=qy(),p=m.firstChild,w=p.nextSibling,_=w.firstChild,k=_.firstChild,P=k.firstChild,T=_.nextSibling,C=T.firstChild,I=C.firstChild;return p.$$click=b,h(p,f(Fl,{color:"rgb(107 114 128)",size:64})),h(_,f(pa,{width:"36"}),k),P.$$click=v,h(T,f(ba,{width:"36"}),C),I.$$click=y,A(O=>{var R=!i(),N=e()!="signin",z=e()!="signup";return R!==O.e&&m.classList.toggle("hidden",O.e=R),N!==O.t&&_.classList.toggle("hidden",O.t=N),z!==O.a&&T.classList.toggle("hidden",O.a=z),O},{e:void 0,t:void 0,a:void 0}),m})()}F(["click"]);var Ky=x("<div class=h-screen>");function Qy(){const{appLoading:t}=Cr;return(()=>{var e=Ky();return h(e,f(Wm,{}),null),h(e,f(Zv,{}),null),h(e,f(zy,{}),null),h(e,f(Jy,{}),null),A(()=>e.classList.toggle("hidden",!!t())),e})()}var Zy=x('<div class="h-screen w-screen grid place-items-center"><img class="h-96 animate-pulse">');function Yy(){const{serverUrl:t}=q,{appLoading:e}=Cr;return(()=>{var n=Zy(),r=n.firstChild;return V(r,"src",t+"/submit/images/logo_transparent.png"),A(()=>n.classList.toggle("hidden",!e())),n})()}var Xy=x('<div tabindex=-1 class="fixed top-0 left-0 right-0 z-0 w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-modal md:h-full flex items-center justify-center"><div class="relative w-[48rem]"><div class="relative bg-white rounded-lg shadow dark:bg-gray-700 text-gray-700 text-sm"><div class="px-6 py-6 lg:px-8"><img class=h-28><p class=mt-8>Welcome to OakVar!</p><p class=mt-4>Get ready to explore the world of genomics like never before with OakVar!</p><p class=mt-4>With our platform, you can effortlessly analyze your own genome or dive into exciting new research with genome data.</p><p class=mt-4>Say goodbye to complicated processes and hello to a new world of discovery.</p><p class=mt-4>- Oak Bioinformatics, LLC</p><button type=submit class="w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 mt-4">Start');function ew(t){const{serverUrl:e}=q;function n(){t.setPageNo(2)}return(()=>{var r=Xy(),i=r.firstChild,s=i.firstChild,o=s.firstChild,l=o.firstChild,a=l.nextSibling,c=a.nextSibling,u=c.nextSibling,d=u.nextSibling,g=d.nextSibling,v=g.nextSibling;return V(l,"src",e+"/submit/images/logo.png"),v.$$click=n,A(()=>r.classList.toggle("hidden",t.pageNo!=1)),r})()}F(["click"]);var tw=x('<div tabindex=-1 class="fixed top-0 left-0 right-0 z-0 w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-modal md:h-full flex items-center justify-center"><div class="relative w-[48rem]"><div class="relative bg-white rounded-lg shadow dark:bg-gray-700 text-gray-700 text-sm"><div class="px-6 py-6 lg:px-8"><img class=h-28><div class="flex flex-col mt-4">Do you already have an OakVar account?<button class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 mt-4">Yes</button><button class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 mt-4">No');function nw(t){const{serverUrl:e,withCredentials:n}=q,r=2;function i(){t.setPrevPageNo(r),t.setPageNo(4)}function s(){t.setPrevPageNo(r),t.setPageNo(3)}return(()=>{var o=tw(),l=o.firstChild,a=l.firstChild,c=a.firstChild,u=c.firstChild,d=u.nextSibling,g=d.firstChild,v=g.nextSibling,y=v.nextSibling;return h(c,f(kn,{size:24,color:"rgb(55 65 81)",class:"mb-4 cursor-pointer",get onClick(){return[t.setPageNo,t.prevPageNo]}}),u),V(u,"src",e+"/submit/images/logo.png"),v.$$click=i,y.$$click=s,A(()=>o.classList.toggle("hidden",t.pageNo!=r)),o})()}F(["click"]);var rw=x(`<div tabindex=-1 class="fixed top-0 left-0 right-0 z-0 w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-modal md:h-full flex items-center justify-center"><div class="relative w-[48rem]"><div class="relative bg-white rounded-lg shadow dark:bg-gray-700 text-gray-700 text-sm"><div class="px-6 py-6 lg:px-8"><img class=h-28><p class=mt-4>Welcome back! We're so glad to see you again. Please go ahead and sign in. We've been waiting for you!`);function iw(t){const{serverUrl:n}=q;function r(){t.setPrevPageNo(4),t.setPageNo(5)}return(()=>{var i=rw(),s=i.firstChild,o=s.firstChild,l=o.firstChild,a=l.firstChild;return a.nextSibling,h(l,f(kn,{size:24,color:"rgb(55 65 81)",class:"mb-4 cursor-pointer",get onClick(){return[t.setPageNo,2]}}),a),V(a,"src",n+"/submit/images/logo.png"),h(l,f(pa,{signedInCallback:r}),null),A(()=>i.classList.toggle("hidden",t.pageNo!=4)),i})()}var sw=x(`<div tabindex=-1 class="fixed top-0 left-0 right-0 z-0 w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-modal md:h-full flex items-center justify-center"><div class="relative w-[48rem]"><div class="relative bg-white rounded-lg shadow dark:bg-gray-700 text-gray-700 text-sm"><div class="px-6 py-6 lg:px-8"><img class=h-28><p class=mt-4>In order to use our platform, you'll need to create an OakVar store account.</p><p class=mt-4>Simply enter your email and choose a password to get started.</p><p class=mt-4>Rest assured, your information is safe with us and will only be used for your OakVar experience and communication between us.`);function ow(t){const{serverUrl:n}=q;function r(){t.setPageNo(5)}return(()=>{var i=sw(),s=i.firstChild,o=s.firstChild,l=o.firstChild,a=l.firstChild,c=a.nextSibling,u=c.nextSibling;return u.nextSibling,h(l,f(kn,{size:24,color:"rgb(55 65 81)",class:"mb-4 cursor-pointer",get onClick(){return[t.setPageNo,2]}}),a),V(a,"src",n+"/submit/images/logo.png"),h(l,f(ba,{next:r,newSetup:!0}),null),A(()=>i.classList.toggle("hidden",t.pageNo!=3)),i})()}var lw=x("<span>Change"),aw=x('<div><div class=mt-4><label class="block text-sm font-semibold text-gray-700 underline decoration-dotted cursor-help"></label><div class="mt-1 flex rounded-md shadow-sm"><div class="relative flex flex-grow items-stretch focus-within:z-10"><input class="block w-full rounded-none rounded-l-md border-gray-300 pl-10 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"></div><button type=button class="relative -ml-px inline-flex items-center space-x-2 rounded-r-md border border-gray-300 bg-gray-50 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"></button></div><p class="mt-2 text-sm text-blue-400">'),cw=x("<span>Set");function Bn(t){const{serverUrl:e}=q,[n,r]=S(!0),[i,s]=S(null);let o=null;X(function(){n()&&l(t.dir)});function l(g){if(g==null)return"";L.get(e+"/submit/checkserverdir",{params:{dir:g}}).then(function(v){v.data.exists==!1?s("This directory will be created."):s(null)}).catch(function(v){G(v)})}function a(g){t.setDir(g.target.value),g.keyCode==13&&r(!0)}function c(g){r(!n()),o.focus()}function u(g){t.setTooltipText(t.help),t.setTooltipTop(g.clientY),t.setTooltipShow(!0)}function d(g){t.setTooltipShow(!1)}return(()=>{var g=aw(),v=g.firstChild,y=v.firstChild,b=y.nextSibling,m=b.firstChild,p=m.firstChild,w=m.nextSibling,_=b.nextSibling;y.addEventListener("mouseleave",d),y.addEventListener("mouseenter",u),h(y,()=>t.title);var k=o;return typeof k=="function"?dn(k,p):o=p,p.$$keyup=a,w.$$click=c,h(w,f(D,{get when(){return n()},get fallback(){return cw()},get children(){return lw()}})),h(_,i),A(()=>p.disabled=n()),A(()=>p.value=t.dir),g})()}F(["keyup","click"]);var uw=x(`<div tabindex=-1 class="fixed top-0 left-0 right-0 z-0 w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-modal md:h-full flex items-center justify-center"><div class="relative w-[48rem]"><div class="relative bg-white rounded-lg shadow dark:bg-gray-700 text-gray-700 text-sm"><div class="px-6 py-6 lg:px-8"><img class=h-28><p class=mt-4>OakVar needs to store system configuration and data files. Don't worry, we've got your back with pre-selected default locations. If you need to make any adjustment, feel free to do so. And if everything looks good, just hit the "Start setup" button.</p><div class="mt-4 mb-4 flex"><div class=ml-4>A quick heads up about the modules directory - to get the most out of your OakVar experience, we recommend having at least 2GB of storage space available. And if you're planning on diving into some larger annotation modules, keep in mind that they can take up a substantial amount of space, potentially reaching over 100GB.</div></div><div class=mt-4><button type=submit class="w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Start setup`);function dw(t){const{serverUrl:n}=q,{email:r,password:i}=Je,[s,o]=S(null),[l,a]=S(null),[c,u]=S(null),[d,g]=S(null),[v,y]=S(null),[b,m]=S(!1),[p,w]=S(0);X(function(){s()==null&&k(),l()==null&&P(),c()==null&&T(),d()==null&&C()});function _(I){I.preventDefault(),t.setSetupData({email:r(),pw:i(),root_dir:s(),modules_dir:l(),jobs_dir:c(),log_dir:d(),setupToStart:!0}),t.setPrevPageNo(5),t.setPageNo(6)}function k(){L.get(n+"/submit/rootdir").then(function(I){o(I.data.root_dir)}).catch(function(I){console.error(I)})}function P(){L.get(n+"/submit/modulesdir").then(function(I){a(I.data.modules_dir)}).catch(function(I){console.error(I)})}function T(){L.get(n+"/submit/jobsdir").then(function(I){u(I.data.jobs_dir)}).catch(function(I){console.error(I)})}function C(){L.get(n+"/submit/logdir").then(function(I){g(I.data.log_dir)}).catch(function(I){console.error(I)})}return(()=>{var I=uw(),O=I.firstChild,R=O.firstChild,N=R.firstChild,z=N.firstChild,M=z.nextSibling,U=M.nextSibling,K=U.firstChild,H=U.nextSibling,re=H.firstChild;return h(N,f(kn,{size:24,color:"rgb(55 65 81)",class:"mb-4 cursor-pointer",get onClick(){return[t.setPageNo,2]}}),z),V(z,"src",n+"/submit/images/logo.png"),h(U,f(Xm,{class:"inline",size:"28",color:"#fb923c"}),K),h(N,f(Bn,{title:"System root directory",get dir(){return s()},setDir:o,setTooltipShow:m,setTooltipText:y,setTooltipTop:w,help:"OakVar system files will be created in this directory. By default, directories for configuration, modules, and jobs will be created under this directory. However, each of them can be assigned to a different location using the input boxes following this one."}),H),h(N,f(Bn,{title:"Modules directory",get dir(){return l()},setDir:a,setTooltipShow:m,setTooltipText:y,setTooltipTop:w,help:"OakVar is a modular system. Conversion, mapping, annotation, and reporting are done by modules. Among OakVar system files, module files are the biggest, which can take up to hundreds of GB according to your choice."}),H),h(N,f(Bn,{title:"Jobs directory",get dir(){return c()},setDir:u,setTooltipShow:m,setTooltipText:y,setTooltipTop:w,help:"Jobs will be stored in this directory"}),H),h(N,f(Bn,{title:"Log directory",get dir(){return d()},setDir:g,setTooltipShow:m,setTooltipText:y,setTooltipTop:w,help:"System logs will be stored in this directory"}),H),re.$$click=_,h(I,f(ra,{get text(){return v()},get tooltipShow(){return b()},get tooltipTop(){return p()}}),null),A(()=>I.classList.toggle("hidden",t.pageNo!=5)),I})()}F(["click"]);var fw=x(`<div class="mt-4 w-full flex items-center justify-center flex flex-col"><div><p class=mt-4>Congratulations, you're now ready to start using OakVar!</p><p class=mt-4>All the setup is finished and it's time to dive into the exciting world of genetics.</p><p class=mt-4>Simply click the button below and let the journey begin!</p></div><button type=button class="mt-8 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800">Enter OakVar!`),hw=x('<div tabindex=-1 class="fixed top-0 left-0 right-0 z-0 w-full h-full p-4 md:inset-0 flex items-center justify-center"><div class="relative w-[48rem]"><div class="relative bg-white rounded-lg shadow dark:bg-gray-700 text-gray-700 text-sm p-6"><div class="px-6 py-6 lg:px-8"><img class=h-28>'),gw=x(`<div><p class=mt-4>We're getting OakVar all set up for you!</p><p class=mt-4>Just sit back and relax for a moment while we take care of everything.</p><p class=mt-4>We'll let you know as soon as we're ready for you.</p><div class="mt-4 w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700"><div class="bg-blue-600 h-2.5 rounded-full"></div></div><p class=mt-2></p><div class="mt-4 text-xs p-6 h-[24rem] overflow-auto font-mono whitespace-pre"><div class=relative><div>`),mw=x("<p>");function pw(t){const{systemMsg:n,setSystemMsg:r}=Wl,{serverUrl:i,withCredentials:s}=q,{getSetupStageMsg:o,setSetupStateMsg:l}=Gl,[a,c]=Te([]),[u,d]=S(0);let g=null,v=0,y=0,b=null;X(function(){t.setupData&&t.setupData.setupToStart==!0&&(t.setSetupData({...t.setupData,setupToStart:!1}),m()),n()!=null&&(c([...a,...n()]),r(null),setTimeout(function(){g.scrollTo(0,99999)},100));const w=o();if(w!=b)if(b=w,w=="Logging in...")d(10);else if(w=="Setting up store cache...")d(20);else if(w=="Setting up administrative database...")d(50);else if(w=="Installing system modules...")d(60);else if(w.startsWith("Installed")||w.includes("already exists")){y+=1;const _=60+y/v*40;d(_)}else w=="Done setting up the system."&&d(100)});function m(){y=0,b=null,l(""),L.get(i+"/submit/basemodules",{withCredentials:s}).then(function(w){v=w.data.length,L.post(i+"/submit/startsetup",t.setupData,{withCredentials:s}).then(function(_){}).catch(function(_){G(_)})}).catch(function(w){G(w)})}function p(){window.location.reload()}return(()=>{var w=hw(),_=w.firstChild,k=_.firstChild,P=k.firstChild,T=P.firstChild;return h(P,f(kn,{size:24,color:"rgb(55 65 81)",class:"mb-4 cursor-pointer",get onClick(){return[t.setPageNo,t.prevPageNo]}}),T),V(T,"src",i+"/submit/images/logo.png"),h(P,f(D,{get when(){return u()==100},get fallback(){return(()=>{var C=gw(),I=C.firstChild,O=I.nextSibling,R=O.nextSibling,N=R.nextSibling,z=N.firstChild,M=N.nextSibling,U=M.nextSibling,K=U.firstChild,H=K.firstChild;h(M,o);var re=g;return typeof re=="function"?dn(re,U):g=U,h(H,f(le,{each:a,children:Ce=>(()=>{var fe=mw();return h(fe,()=>Ce.msg),fe})()})),A(()=>u()+"%"!=null?z.style.setProperty("width",u()+"%"):z.style.removeProperty("width")),C})()},get children(){var C=fw(),I=C.firstChild,O=I.nextSibling;return O.$$click=p,C}}),null),A(()=>w.classList.toggle("hidden",t.pageNo!=6)),w})()}F(["click"]);var bw=x('<div tabindex=-1 class="fixed top-0 left-0 right-0 z-0 w-full">');function vw(){const[t,e]=S(1),[n,r]=S(1),[i,s]=Te({});return(()=>{var o=bw();return h(o,f(ew,{get pageNo(){return t()},setPageNo:e,get prevPageNo(){return n()},setPrevPageNo:r,setupData:i,setSetupData:s}),null),h(o,f(nw,{get pageNo(){return t()},setPageNo:e,get prevPageNo(){return n()},setPrevPageNo:r,setupData:i,setSetupData:s}),null),h(o,f(ow,{get pageNo(){return t()},setPageNo:e,get prevPageNo(){return n()},setPrevPageNo:r,setupData:i,setSetupData:s}),null),h(o,f(iw,{get pageNo(){return t()},setPageNo:e,get prevPageNo(){return n()},setPrevPageNo:r,setupData:i,setSetupData:s}),null),h(o,f(dw,{get pageNo(){return t()},setPageNo:e,get prevPageNo(){return n()},setPrevPageNo:r,setupData:i,setSetupData:s}),null),h(o,f(pw,{get pageNo(){return t()},setPageNo:e,get prevPageNo(){return n()},setPrevPageNo:r,setupData:i,setSetupData:s}),null),o})()}function yw(){const{serverUrl:t}=q,{logged:e,setLogged:n}=he,{multiuser:r,setMultiuser:i}=pe,{setAppLoading:s}=Cr,{systemSetupNeeded:o}=wr,{reloginChecked:l}=he;i(null),n(null),X(function(){r()==null&&c(),r()==!0&&e()==null&&u(),(r()!=null&&e()!=null&&l()==!0||r()==!1&&e()==!0)&&s(!1)});function a(){L.get(t+"/server/deletetoken").then(function(){}).catch(function(d){G(d)})}function c(){L.get(t+"/submit/servermode").then(function(d){i(d.data.servermode),r()||(a(),n(!0))}).catch(function(d){G(d)})}function u(){L.get(t+"/submit/loginstate").then(function(d){n(d.data.loggedin)}).catch(function(d){G(d)})}return[f(D,{get when(){return!o()},get fallback(){return f(vw,{})},get children(){return[f(Yy,{}),f(Qy,{})]}}),f(Ki,{width:"[64rem]"})]}tc(()=>f(yw,{}),document.getElementById("root"));
